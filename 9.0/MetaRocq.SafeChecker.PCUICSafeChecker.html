<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaRocq.SafeChecker.PCUICSafeChecker</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a> <a class="idref" href="MetaRocq.Common.EnvMap.html#"><span class="id" title="library">EnvMap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICTactics.html#"><span class="id" title="library">PCUICTactics</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#"><span class="id" title="library">PCUICSigmaCalculus</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICNormal.html#"><span class="id" title="library">PCUICNormal</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#"><span class="id" title="library">PCUICSR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningEnvConv.html#"><span class="id" title="library">PCUICWeakeningEnvConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICReflect.html#"><span class="id" title="library">PCUICReflect</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#"><span class="id" title="library">PCUICInversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICPosition.html#"><span class="id" title="library">PCUICPosition</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#"><span class="id" title="library">PCUICSN</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICPretty.html#"><span class="id" title="library">PCUICPretty</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#"><span class="id" title="library">PCUICArities</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConfluence.html#"><span class="id" title="library">PCUICConfluence</span></a> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICSize.html#"><span class="id" title="library">PCUICSize</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#"><span class="id" title="library">PCUICContextConversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#"><span class="id" title="library">PCUICConversion</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#"><span class="id" title="library">PCUICWfUniverses</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#"><span class="id" title="library">PCUICInductives</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#"><span class="id" title="library">PCUICWfUniverses</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#"><span class="id" title="library">PCUICContexts</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#"><span class="id" title="library">PCUICSubstitution</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#"><span class="id" title="library">PCUICSpine</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#"><span class="id" title="library">PCUICInductiveInversion</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#"><span class="id" title="library">PCUICClosedTyp</span></a> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#"><span class="id" title="library">PCUICUnivSubstitutionConv</span></a> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICUnivSubstitutionTyp.html#"><span class="id" title="library">PCUICUnivSubstitutionTyp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#"><span class="id" title="library">BDTyping</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDFromPCUIC.html#"><span class="id" title="library">BDFromPCUIC</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#"><span class="id" title="library">BDToPCUIC</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaRocq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#"><span class="id" title="library">PCUICEqualityDec</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#"><span class="id" title="library">PCUICSafeReduce</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#"><span class="id" title="library">PCUICErrors</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#"><span class="id" title="library">PCUICSafeConversion</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#"><span class="id" title="library">PCUICWfReduction</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#"><span class="id" title="library">PCUICWfEnv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#"><span class="id" title="library">PCUICTypeChecker</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Transparent</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#MRMonadNotation"><span class="id" title="module">MRMonadNotation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_add_level_edges" class="idref" href="#proper_add_level_edges"><span class="id" title="instance">proper_add_level_edges</span></a> <a id="levels:1" class="idref" href="#levels:1"><span class="id" title="binder">levels</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="MetaRocq.Common.uGraph.html#wGraph.EdgeSet.Equal"><span class="id" title="definition">wGraph.EdgeSet.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#wGraph.EdgeSet.Equal"><span class="id" title="definition">wGraph.EdgeSet.Equal</span></a>)%<span class="id" title="var">signature</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#add_level_edges"><span class="id" title="definition">add_level_edges</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1"><span class="id" title="variable">levels</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">he</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.uGraph.html#add_level_edges"><span class="id" title="definition">add_level_edges</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.uGraph.html#VSet.fold_spec"><span class="id" title="lemma">VSet.fold_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#VSet.elements"><span class="id" title="definition">VSet.elements</span></a> <span class="id" title="var">levels</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>, <span class="id" title="var">e'</span>, <span class="id" title="var">he</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.uGraph.html#variable_of_level"><span class="id" title="definition">variable_of_level</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">he</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_add_uctx" class="idref" href="#proper_add_uctx"><span class="id" title="instance">proper_add_uctx</span></a> <a id="cstrs:2" class="idref" href="#cstrs:2"><span class="id" title="binder">cstrs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="MetaRocq.Common.uGraph.html#Equal_graph"><span class="id" title="definition">Equal_graph</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#Equal_graph"><span class="id" title="definition">Equal_graph</span></a>)%<span class="id" title="var">signature</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#add_uctx"><span class="id" title="definition">add_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:2"><span class="id" title="variable">cstrs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.uGraph.html#add_uctx"><span class="id" title="definition">add_uctx</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.uGraph.html#add_level_edges"><span class="id" title="definition">add_level_edges</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj2"><span class="id" title="definition">proj2</span></a> <span class="id" title="var">eq</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="cs_equal" class="idref" href="#cs_equal"><span class="id" title="definition">cs_equal</span></a> (<a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> <a id="y:4" class="idref" href="#y:4"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.Equal"><span class="id" title="definition">LevelSet.Equal</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:3"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:4"><span class="id" title="variable">y</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.Equal"><span class="id" title="definition">ConstraintSet.Equal</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:3"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:4"><span class="id" title="variable">y</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="gcs_equal" class="idref" href="#gcs_equal"><span class="id" title="definition">gcs_equal</span></a> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> <a id="y:6" class="idref" href="#y:6"><span class="id" title="binder">y</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.Equal"><span class="id" title="definition">LevelSet.Equal</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:5"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:6"><span class="id" title="variable">y</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#GoodConstraintSet.Equal"><span class="id" title="definition">GoodConstraintSet.Equal</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:5"><span class="id" title="variable">x</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:6"><span class="id" title="variable">y</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Relations.Relation_Definitions.html#"><span class="id" title="library">Relation_Definitions</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="R_opt" class="idref" href="#R_opt"><span class="id" title="definition">R_opt</span></a> {<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a>} (<a id="R:8" class="idref" href="#R:8"><span class="id" title="binder">R</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:7"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:7"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a> <a id="y:10" class="idref" href="#y:10"><span class="id" title="binder">y</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:9"><span class="id" title="variable">x</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:10"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#R:8"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:10"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gc_of_constraints_proper" class="idref" href="#gc_of_constraints_proper"><span class="id" title="instance">gc_of_constraints_proper</span></a> {<a id="cf:13" class="idref" href="#cf:13"><span class="id" title="binder">cf</span></a>} : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.Equal"><span class="id" title="definition">ConstraintSet.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#R_opt"><span class="id" title="definition">R_opt</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#GoodConstraintSet.Equal"><span class="id" title="definition">GoodConstraintSet.Equal</span></a>) <a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_constraints"><span class="id" title="definition">gc_of_constraints</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="var">eqc</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_constraintsP"><span class="id" title="lemma">gc_of_constraintsP</span></a> <span class="id" title="var">c</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_constraintsP"><span class="id" title="lemma">gc_of_constraintsP</span></a> <span class="id" title="var">c'</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">cs</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>. <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cs</span> [<span class="id" title="var">incs</span> <span class="id" title="var">gcn</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eqc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">incs</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">e</span> <span class="id" title="var">cs</span> <span class="id" title="var">incs</span>) <span class="id" title="keyword">as</span> [? []]. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cs</span> [<span class="id" title="var">incs</span> <span class="id" title="var">gcn</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eqc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">incs</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">e0</span> <span class="id" title="var">cs</span> <span class="id" title="var">incs</span>) <span class="id" title="keyword">as</span> [? []]. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="proper_add_level_edges'" class="idref" href="#proper_add_level_edges'"><span class="id" title="instance">proper_add_level_edges'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.Equal"><span class="id" title="definition">LevelSet.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#wGraph.EdgeSet.Equal"><span class="id" title="definition">wGraph.EdgeSet.Equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#wGraph.EdgeSet.Equal"><span class="id" title="definition">wGraph.EdgeSet.Equal</span></a>)%<span class="id" title="var">signature</span> <a class="idref" href="MetaRocq.Common.uGraph.html#add_level_edges"><span class="id" title="definition">add_level_edges</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">hl</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.uGraph.html#add_level_edges_spec"><span class="id" title="lemma">add_level_edges_spec</span></a>. <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="make_graph_proper" class="idref" href="#make_graph_proper"><span class="id" title="instance">make_graph_proper</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#gcs_equal"><span class="id" title="definition">gcs_equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#Equal_graph"><span class="id" title="definition">Equal_graph</span></a>) <a class="idref" href="MetaRocq.Common.uGraph.html#make_graph"><span class="id" title="definition">make_graph</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">v</span> <span class="id" title="var">c</span>] [<span class="id" title="var">v'</span> <span class="id" title="var">c'</span>] [<span class="id" title="var">eqv</span> <span class="id" title="var">eqc</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.uGraph.html#make_graph"><span class="id" title="definition">make_graph</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqc</span> <span class="id" title="var">eqv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.SetoidTactics.html#"><span class="id" title="library">SetoidTactics</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="is_graph_of_uctx_proper" class="idref" href="#is_graph_of_uctx_proper"><span class="id" title="instance">is_graph_of_uctx_proper</span></a> {<a id="cf:14" class="idref" href="#cf:14"><span class="id" title="binder">cf</span></a>} <a id="G:15" class="idref" href="#G:15"><span class="id" title="binder">G</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs_equal"><span class="id" title="definition">cs_equal</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<a class="idref" href="MetaRocq.Common.uGraph.html#is_graph_of_uctx"><span class="id" title="definition">is_graph_of_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#G:15"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">l</span> <span class="id" title="var">c</span>] [<span class="id" title="var">l'</span> <span class="id" title="var">c'</span>] [<span class="id" title="var">eql</span> <span class="id" title="var">eqc</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.uGraph.html#is_graph_of_uctx"><span class="id" title="definition">is_graph_of_uctx</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#gc_of_constraints_proper"><span class="id" title="instance">gc_of_constraints_proper</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eqc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_constraints"><span class="id" title="definition">gc_of_constraints</span></a> <span class="id" title="var">c</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_constraints"><span class="id" title="definition">gc_of_constraints</span></a> <span class="id" title="var">c'</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_replace</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">using</span> <span class="id" title="var">relation</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#gcs_equal"><span class="id" title="definition">gcs_equal</span></a>. <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
It otherwise tries <span class="inlinecode"><span class="id" title="tactic">auto</span></span> <span class="inlinecode"><span class="id" title="keyword">with</span></span> <span class="inlinecode">×</span>, very bad idea. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Corelib.Program.Tactics.program_solve_wf</span> ::=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- @<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Wf.html#well_founded"><span class="id" title="definition">Wf.well_founded</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">subterm</span> <span class="id" title="keyword">wf</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">T</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">Prop</span> ⇒ <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="check_eq_true_lazy" class="idref" href="#check_eq_true_lazy"><span class="id" title="definition">check_eq_true_lazy@</span></a>{<span class="id" title="var">u</span> <span class="id" title="var">u0</span> <span class="id" title="var">u1</span>} {<a id="T:16" class="idref" href="#T:16"><span class="id" title="binder">T</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u</span>} <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">Type@</span>{<span class="id" title="var">u0</span>}} {<a id="E:17" class="idref" href="#E:17"><span class="id" title="binder">E</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u1</span>}} {<a id="M:18" class="idref" href="#M:18"><span class="id" title="binder">M</span></a> : <a class="idref" href="MetaRocq.Utils.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:16"><span class="id" title="variable">T</span></a>} {<a id="ME:19" class="idref" href="#ME:19"><span class="id" title="binder">ME</span></a> : <a class="idref" href="MetaRocq.Utils.monad_utils.html#MonadExc"><span class="id" title="class">MonadExc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#E:17"><span class="id" title="variable">E</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:16"><span class="id" title="variable">T</span></a>} (<a id="b:20" class="idref" href="#b:20"><span class="id" title="binder">b</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="fe:21" class="idref" href="#fe:21"><span class="id" title="binder">fe</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#E:17"><span class="id" title="variable">E</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:16"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:20"><span class="id" title="variable">b</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">as</span></a> <a id="b0:22" class="idref" href="#b0:22"><span class="id" title="binder"><span id="b0:23" class="id">b0</span></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">return</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:16"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b0:22"><span class="id" title="variable">b0</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fe:21"><span class="id" title="variable">fe</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="OnUdecl" class="idref" href="#OnUdecl"><span class="id" title="section">OnUdecl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="OnUdecl.cf" class="idref" href="#OnUdecl.cf"><span class="id" title="variable">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="In_unfold_inj" class="idref" href="#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> {<a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a>} (<a id="f:26" class="idref" href="#f:26"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:25"><span class="id" title="variable">A</span></a>) <a id="n:27" class="idref" href="#n:27"><span class="id" title="binder">n</span></a> <a id="i:28" class="idref" href="#i:28"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:29" class="idref" href="#i:29"><span class="id" title="binder">i</span></a> <a id="j:30" class="idref" href="#j:30"><span class="id" title="binder">j</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:26"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:29"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:26"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:30"><span class="id" title="variable">j</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:29"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:30"><span class="id" title="variable">j</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:26"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:28"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MetaRocq.Utils.MRList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:27"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:26"><span class="id" title="variable">f</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:28"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:27"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>, <span class="id" title="var">H</span> |- *; <span class="id" title="tactic">simpl</span> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">eq_dec</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="In_Var_global_ext_poly" class="idref" href="#In_Var_global_ext_poly"><span class="id" title="lemma">In_Var_global_ext_poly</span></a> {<a id="n:31" class="idref" href="#n:31"><span class="id" title="binder">n</span></a> <a id="1beca3efe5883c5b6c82a78600a11ca9" class="idref" href="#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="binder">Σ</span></a> <a id="inst:33" class="idref" href="#inst:33"><span class="id" title="binder">inst</span></a> <a id="cstrs:34" class="idref" href="#cstrs:34"><span class="id" title="binder">cstrs</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:31"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:33"><span class="id" title="variable">inst</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:31"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:33"><span class="id" title="variable">inst</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:34"><span class="id" title="variable">cstrs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#AUContext.levels"><span class="id" title="definition">AUContext.levels</span></a> /= <a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSetProp.of_list_1"><span class="id" title="lemma">LevelSetProp.of_list_1</span></a>, <a class="idref" href="MetaRocq.Utils.MRList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="on_udecl_poly_bounded" class="idref" href="#on_udecl_poly_bounded"><span class="id" title="lemma">on_udecl_poly_bounded</span></a> <a id="X:35" class="idref" href="#X:35"><span class="id" title="binder">X</span></a> <a id="inst:36" class="idref" href="#inst:36"><span class="id" title="binder">inst</span></a> <a id="cstrs:37" class="idref" href="#cstrs:37"><span class="id" title="binder">cstrs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:35"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_udecl"><span class="id" title="definition">on_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:35"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:36"><span class="id" title="variable">inst</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:37"><span class="id" title="variable">cstrs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#closedu_cstrs"><span class="id" title="definition">closedu_cstrs</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:36"><span class="id" title="variable">inst</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:37"><span class="id" title="variable">cstrs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_udecl"><span class="id" title="definition">on_udecl</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">wfX</span> [<span class="id" title="var">_</span> [<span class="id" title="var">nlevs</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#closedu_cstrs"><span class="id" title="definition">closedu_cstrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">incstrs</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">nlevs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">nlevs</span> <span class="id" title="var">x</span> <span class="id" title="var">incstrs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">p</span>] <span class="id" title="var">l2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nlevs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSetProp.Dec.F.union_1"><span class="id" title="lemma">LevelSetProp.Dec.F.union_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSetProp.Dec.F.union_1"><span class="id" title="lemma">LevelSetProp.Dec.F.union_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#LSet_in_poly_bounded"><span class="id" title="lemma">LSet_in_poly_bounded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#LSet_in_poly_bounded"><span class="id" title="lemma">LSet_in_poly_bounded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#LSet_in_global_bounded"><span class="id" title="lemma">LSet_in_global_bounded</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">inst</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> ⇒ //. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#LSet_in_global_bounded"><span class="id" title="lemma">LSet_in_global_bounded</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">inst</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> ⇒ //. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#LSet_in_poly_bounded"><span class="id" title="lemma">LSet_in_poly_bounded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#LSet_in_global_bounded"><span class="id" title="lemma">LSet_in_global_bounded</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">inst</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> ⇒ //. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_lift" class="idref" href="#subst_instance_level_lift"><span class="id" title="lemma">subst_instance_level_lift</span></a> <a id="inst:38" class="idref" href="#inst:38"><span class="id" title="binder">inst</span></a> <a id="l:39" class="idref" href="#l:39"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#closedu_level"><span class="id" title="definition">closedu_level</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:38"><span class="id" title="variable">inst</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:39"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift_instance"><span class="id" title="definition">lift_instance</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:38"><span class="id" title="variable">inst</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#level_var_instance"><span class="id" title="definition">level_var_instance</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:38"><span class="id" title="variable">inst</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:39"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift_level"><span class="id" title="definition">lift_level</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:38"><span class="id" title="variable">inst</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:39"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ // /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="var">ltn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#level_var_instance"><span class="id" title="definition">level_var_instance</span></a> [<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">ltn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_var_instance" class="idref" href="#subst_instance_level_var_instance"><span class="id" title="lemma">subst_instance_level_var_instance</span></a> <a id="inst:40" class="idref" href="#inst:40"><span class="id" title="binder">inst</span></a> <a id="l:41" class="idref" href="#l:41"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#closedu_level"><span class="id" title="definition">closedu_level</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:40"><span class="id" title="variable">inst</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:41"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#level_var_instance"><span class="id" title="definition">level_var_instance</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inst:40"><span class="id" title="variable">inst</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:41"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:41"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ // /= /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="var">ltn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#level_var_instance"><span class="id" title="definition">level_var_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#level_var_instance"><span class="id" title="definition">level_var_instance</span></a> [<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">ltn</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="variance_universes_spec" class="idref" href="#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <a id="9cdd3744fef7e647d555c1b5b5ffd982" class="idref" href="#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="binder">Σ</span></a> <a id="ctx:43" class="idref" href="#ctx:43"><span class="id" title="binder">ctx</span></a> <a id="v:44" class="idref" href="#v:44"><span class="id" title="binder">v</span></a> <a id="univs:45" class="idref" href="#univs:45"><span class="id" title="binder">univs</span></a> <a id="u:46" class="idref" href="#u:46"><span class="id" title="binder">u</span></a> <a id="u':47" class="idref" href="#u':47"><span class="id" title="binder">u'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx:43"><span class="id" title="variable">ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:45"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx:43"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#v:44"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:45"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:46"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u':47"><span class="id" title="variable">u'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:45"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx:43"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:46"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:45"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx:43"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u':47"><span class="id" title="variable">u'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfctx</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">inst</span> <span class="id" title="var">cstrs</span>]] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">vcstrs</span> := <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.union"><span class="id" title="definition">ConstraintSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">univs</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">u</span> <span class="id" title="var">u'</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#level_var_instance"><span class="id" title="definition">level_var_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_unfold"><span class="id" title="lemma">forallb_unfold</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#In_Var_global_ext_poly"><span class="id" title="lemma">In_Var_global_ext_poly</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onX</span> <span class="id" title="var">onu</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">sat</span> <span class="id" title="var">_</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICLookup.global_ext_constraints"><span class="id" title="definition">PCUICLookup.global_ext_constraints</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sat</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">val</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">val'</span> <span class="id" title="var">allsat</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">vsat</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.union_spec"><span class="id" title="lemma">ConstraintSet.union_spec</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">vcstrs</span> !<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.union_spec"><span class="id" title="lemma">ConstraintSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#In_lift_constraints"><span class="id" title="lemma">In_lift_constraints</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eqx</span> <span class="id" title="var">inc'</span>]]. <span class="id" title="tactic">clear</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift_constraint"><span class="id" title="definition">lift_constraint</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c'</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l</span> <span class="id" title="var">comp</span>] <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfctx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfctx</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#on_udecl_poly_bounded"><span class="id" title="lemma">on_udecl_poly_bounded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfctx</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wfctx</span> <span class="id" title="var">_</span> <span class="id" title="var">inc'</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">wfctx</span> ⇒ [<span class="id" title="var">cll</span> <span class="id" title="var">clr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#subst_instance_level_lift"><span class="id" title="lemma">subst_instance_level_lift</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#level_var_instance"><span class="id" title="definition">level_var_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.Utils.MRList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#forallb_unfold"><span class="id" title="lemma">forallb_unfold</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#In_Var_global_ext_poly"><span class="id" title="lemma">In_Var_global_ext_poly</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onX</span> <span class="id" title="var">onu</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">sat</span> <span class="id" title="var">_</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICLookup.global_ext_constraints"><span class="id" title="definition">PCUICLookup.global_ext_constraints</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sat</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">val</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">val'</span> <span class="id" title="var">allsat</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">vsat</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.union_spec"><span class="id" title="lemma">ConstraintSet.union_spec</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">vcstrs</span> !<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.union_spec"><span class="id" title="lemma">ConstraintSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eqx</span> <span class="id" title="var">inc'</span>]]. <span class="id" title="tactic">clear</span> <span class="id" title="var">vsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c'</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l</span> <span class="id" title="var">comp</span>] <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfctx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfctx</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#on_udecl_poly_bounded"><span class="id" title="lemma">on_udecl_poly_bounded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfctx</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wfctx</span> <span class="id" title="var">_</span> <span class="id" title="var">inc'</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">wfctx</span> ⇒ [<span class="id" title="var">cll</span> <span class="id" title="var">clr</span>]. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#subst_instance_level_var_instance"><span class="id" title="lemma">subst_instance_level_var_instance</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#OnUdecl"><span class="id" title="section">OnUdecl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="CheckEnv" class="idref" href="#CheckEnv"><span class="id" title="section">CheckEnv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="CheckEnv.cf" class="idref" href="#CheckEnv.cf"><span class="id" title="variable">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="CheckEnv.nor" class="idref" href="#CheckEnv.nor"><span class="id" title="variable">nor</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="CheckEnv.X_impl" class="idref" href="#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="X_env_ext_type" class="idref" href="#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="X_env_type" class="idref" href="#X_env_type"><span class="id" title="definition">X_env_type</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">X_ext</span> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">X</span> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <a id="e13e9e4849f1b26670f1b852ea178571" class="idref" href="#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <a id="X:51" class="idref" href="#X:51"><span class="id" title="binder">X</span></a> <a id="2419f67097a80bf54d8cab0e41eb773a" class="idref" href="#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="binder">Σ</span></a> (<a id="9a434766d417a18f4f1160c69f0cf83a" class="idref" href="#9a434766d417a18f4f1160c69f0cf83a"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:51"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> :=  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9a434766d417a18f4f1160c69f0cf83a"><span class="id" title="variable">wfΣ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <a id="9312a512e761b0609da3ce406b19def8" class="idref" href="#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <a id="X_ext:54" class="idref" href="#X_ext:54"><span class="id" title="binder">X_ext</span></a> <a id="f1e8fd5f016d0a22b08224b45bb8ae16" class="idref" href="#f1e8fd5f016d0a22b08224b45bb8ae16"><span class="id" title="binder">Σ</span></a> (<a id="227737029855c267a03f59692f03d818" class="idref" href="#227737029855c267a03f59692f03d818"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:54"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f1e8fd5f016d0a22b08224b45bb8ae16"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f1e8fd5f016d0a22b08224b45bb8ae16"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_sq_wf"><span class="id" title="definition">abstract_env_ext_sq_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#227737029855c267a03f59692f03d818"><span class="id" title="variable">wfΣ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_wf_type" class="idref" href="#check_wf_type"><span class="id" title="definition">check_wf_type</span></a> (<a id="kn:57" class="idref" href="#kn:57"><span class="id" title="binder">kn</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) <a id="X_ext:58" class="idref" href="#X_ext:58"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:60" class="idref" href="#normalization_in:60"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="0685bd56931f2020ec61d62cd42607cf" class="idref" href="#0685bd56931f2020ec61d62cd42607cf"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0685bd56931f2020ec61d62cd42607cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0685bd56931f2020ec61d62cd42607cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:58"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0685bd56931f2020ec61d62cd42607cf"><span class="id" title="variable">Σ</span></a>} <a id="t:61" class="idref" href="#t:61"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="e4cd9633ec2d0ee09ebe5d497f8dd196" class="idref" href="#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:58"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:61"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:58"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kn:57"><span class="id" title="variable">kn</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#check_isType"><span class="id" title="definition">check_isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:58"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#sq_wfl_nil"><span class="id" title="lemma">sq_wfl_nil</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:61"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_wf_judgement" class="idref" href="#check_wf_judgement"><span class="id" title="definition">check_wf_judgement</span></a> <a id="kn:63" class="idref" href="#kn:63"><span class="id" title="binder">kn</span></a> <a id="X_ext:64" class="idref" href="#X_ext:64"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:66" class="idref" href="#normalization_in:66"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="b7d14475a959a414c26c016f9aef0e47" class="idref" href="#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:64"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a>} <a id="t:67" class="idref" href="#t:67"><span class="id" title="binder">t</span></a> <a id="ty:68" class="idref" href="#ty:68"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="4490fc2114c8436ece16d296ed53d878" class="idref" href="#4490fc2114c8436ece16d296ed53d878"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:64"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4490fc2114c8436ece16d296ed53d878"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4490fc2114c8436ece16d296ed53d878"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:67"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:68"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=  <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:64"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kn:63"><span class="id" title="variable">kn</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#check"><span class="id" title="definition">check</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:64"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#sq_wfl_nil"><span class="id" title="lemma">sq_wfl_nil</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:67"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:68"><span class="id" title="variable">ty</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="infer_term" class="idref" href="#infer_term"><span class="id" title="definition">infer_term</span></a> <a id="X_ext:70" class="idref" href="#X_ext:70"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:72" class="idref" href="#normalization_in:72"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="71207c1fa4df2a6ffd92a3b175d4607f" class="idref" href="#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:70"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a>} <a id="t:73" class="idref" href="#t:73"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:70"><span class="id" title="variable">X_ext</span></a> "toplevel term" (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:70"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#sq_wfl_nil"><span class="id" title="lemma">sq_wfl_nil</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:73"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="abstract_env_ext_empty" class="idref" href="#abstract_env_ext_empty"><span class="id" title="definition">abstract_env_ext_empty</span></a> := @<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty"><span class="id" title="definition">abstract_env_empty</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_fresh" class="idref" href="#check_fresh"><span class="id" title="definition">check_fresh</span></a> <a id="id:74" class="idref" href="#id:74"><span class="id" title="binder">id</span></a> <a id="env:75" class="idref" href="#env:75"><span class="id" title="binder">env</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:74"><span class="id" title="variable">id</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#env:75"><span class="id" title="variable">env</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#env:75"><span class="id" title="variable">env</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">g</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="p:78" class="idref" href="#p:78"><span class="id" title="binder">p</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_fresh:76"><span class="id" title="definition">check_fresh</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:74"><span class="id" title="variable">id</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#env:75"><span class="id" title="variable">env</span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.Kernames.html#eq_constant"><span class="id" title="definition">eq_constant</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:74"><span class="id" title="variable">id</span></a> <span class="id" title="var">g</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvError"><span class="id" title="constructor">EnvError</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#abstract_env_ext_empty"><span class="id" title="definition">abstract_env_ext_empty</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#AlreadyDeclared"><span class="id" title="constructor">AlreadyDeclared</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:74"><span class="id" title="variable">id</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">id</span> <span class="id" title="var">k</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">id</span> <span class="id" title="var">k</span>); [<span class="id" title="tactic">discriminate</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CheckEnv.UniverseChecks" class="idref" href="#CheckEnv.UniverseChecks"><span class="id" title="section">UniverseChecks</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_extension_on_global" class="idref" href="#consistent_extension_on_global"><span class="id" title="lemma">consistent_extension_on_global</span></a> <a id="f5fbe4214aa113f089a67eca0c1316e1" class="idref" href="#f5fbe4214aa113f089a67eca0c1316e1"><span class="id" title="binder">Σ</span></a> <a id="uctx:80" class="idref" href="#uctx:80"><span class="id" title="binder">uctx</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#consistent_extension_on"><span class="id" title="definition">consistent_extension_on</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_uctx"><span class="id" title="definition">global_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f5fbe4214aa113f089a67eca0c1316e1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#uctx:80"><span class="id" title="variable">uctx</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#consistent_extension_on"><span class="id" title="definition">consistent_extension_on</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f5fbe4214aa113f089a67eca0c1316e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#uctx:80"><span class="id" title="variable">uctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hext</span> <span class="id" title="var">v</span> {}/<span class="id" title="var">hext</span> [<span class="id" title="var">v'</span> [<span class="id" title="var">satv'</span> <span class="id" title="var">eqv'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">split</span>⇒ // <span class="id" title="var">x</span> <span class="id" title="var">hx</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">eqv'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_udecl" class="idref" href="#check_udecl"><span class="id" title="definition">check_udecl</span></a> <a id="id:81" class="idref" href="#id:81"><span class="id" title="binder">id</span></a> <a id="X:82" class="idref" href="#X:82"><span class="id" title="binder">X</span></a> (<a id="udecl:83" class="idref" href="#udecl:83"><span class="id" title="binder">udecl</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#universes_decl"><span class="id" title="inductive">universes_decl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="uctx':84" class="idref" href="#uctx':84"><span class="id" title="binder">uctx'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_uctx"><span class="id" title="definition">gc_of_uctx</span></a> (<a class="idref" href="MetaRocq.Common.uGraph.html#uctx_of_udecl"><span class="id" title="definition">uctx_of_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:83"><span class="id" title="variable">udecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#uctx':84"><span class="id" title="variable">uctx'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="2bd70729476160c8fe2234b1957a53b0" class="idref" href="#2bd70729476160c8fe2234b1957a53b0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2bd70729476160c8fe2234b1957a53b0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_udecl"><span class="id" title="definition">on_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2bd70729476160c8fe2234b1957a53b0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:83"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="levels:86" class="idref" href="#levels:86"><span class="id" title="binder">levels</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:83"><span class="id" title="variable">udecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_true_lazy"><span class="id" title="definition">check_eq_true_lazy</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.for_all"><span class="id" title="definition">LevelSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="l:87" class="idref" href="#l:87"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:87"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:86"><span class="id" title="variable">levels</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:81"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> ("non fresh level in " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#print_lset"><span class="id" title="definition">print_lset</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:86"><span class="id" title="variable">levels</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_true_lazy"><span class="id" title="definition">check_eq_true_lazy</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.for_all"><span class="id" title="definition">ConstraintSet.for_all</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:90" class="idref" href="#pat:90"><span class="id" title="binder">(</span></a><a id="l1:89" class="idref" href="#l1:89"><span class="id" title="binder"><span id="pat:90" class="id">l1</span></span></a><a id="pat:90" class="idref" href="#pat:90"><span class="id" title="binder">,</span></a> <a id="pat:90" class="idref" href="#pat:90"><span class="id" title="binder">_</span></a><a id="pat:90" class="idref" href="#pat:90"><span class="id" title="binder">,</span></a> <a id="l2:88" class="idref" href="#l2:88"><span class="id" title="binder"><span id="pat:90" class="id">l2</span></span></a><a id="pat:90" class="idref" href="#pat:90"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem'"><span class="id" title="definition">abstract_env_level_mem'</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:86"><span class="id" title="variable">levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l1:89"><span class="id" title="variable">l1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem'"><span class="id" title="definition">abstract_env_level_mem'</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:86"><span class="id" title="variable">levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l2:88"><span class="id" title="variable">l2</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#constraints_of_udecl"><span class="id" title="definition">constraints_of_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:83"><span class="id" title="variable">udecl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:81"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> ("non declared level in " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#print_lset"><span class="id" title="definition">print_lset</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:86"><span class="id" title="variable">levels</span></a> <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" |= " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#print_constraint_set"><span class="id" title="definition">print_constraint_set</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#constraints_of_udecl"><span class="id" title="definition">constraints_of_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:83"><span class="id" title="variable">udecl</span></a>)))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_uctx"><span class="id" title="definition">gc_of_uctx</span></a> (<a class="idref" href="MetaRocq.Common.uGraph.html#uctx_of_udecl"><span class="id" title="definition">uctx_of_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:83"><span class="id" title="variable">udecl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">X'</span> <span class="id" title="keyword">return</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':91"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:81"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "constraints trivially not satisfiable")<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">uctx'</span> ⇒ <span class="id" title="keyword">fun</span> <a id="Huctx:92" class="idref" href="#Huctx:92"><span class="id" title="binder">Huctx</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_is_consistent"><span class="id" title="method">abstract_env_is_consistent</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a> <span class="id" title="var">uctx'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:82"><span class="id" title="variable">X</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:81"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "constraints not satisfiable")<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">uctx'</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">id</span> <span class="id" title="var">X</span> <span class="id" title="var">udecl</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">uctx'</span> <span class="id" title="var">Huctx</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Huctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span>: <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.For_all"><span class="id" title="definition">ConstraintSet.For_all</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#declared_cstr_levels"><span class="id" title="definition">declared_cstr_levels</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LS.union"><span class="id" title="definition">LS.union</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <span class="id" title="var">udecl</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <span class="id" title="var">Σ</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#constraints_of_udecl"><span class="id" title="definition">constraints_of_udecl</span></a> <span class="id" title="var">udecl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H0</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.for_all_spec"><span class="id" title="lemma">ConstraintSet.for_all_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">l</span> <span class="id" title="var">ct</span>] <span class="id" title="var">l'</span>] <span class="id" title="var">Hl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">H0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem_correct'"><span class="id" title="lemma">abstract_env_level_mem_correct'</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_level_mem_correct'"><span class="id" title="lemma">abstract_env_level_mem_correct'</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">split</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext_rel"><span class="id" title="definition">abstract_env_empty_ext_rel</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext_rel"><span class="id" title="definition">abstract_env_empty_ext_rel</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">split</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.for_all_spec"><span class="id" title="lemma">LevelSet.for_all_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hlglob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_env_non_var_levels"><span class="id" title="lemma">wf_env_non_var_levels</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="var">l</span> <span class="id" title="var">Hlglob</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> (<span class="id" title="var">HΣ</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICGlobalEnv.html#wf_global_uctx_invariants"><span class="id" title="definition">wf_global_uctx_invariants</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">HΣ'</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#valid_on_mono_udecl"><span class="id" title="definition">valid_on_mono_udecl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_uctx"><span class="id" title="definition">global_uctx</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="var">udecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#wf_consistent_extension_on_consistent"><span class="id" title="lemma">wf_consistent_extension_on_consistent</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#consistent_extension_on_global"><span class="id" title="lemma">consistent_extension_on_global</span></a>⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_is_consistent_correct"><span class="id" title="method">abstract_env_is_consistent_correct</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">udecl</span> := <a class="idref" href="MetaRocq.Common.uGraph.html#uctx_of_udecl"><span class="id" title="definition">uctx_of_udecl</span></a> <span class="id" title="var">udecl</span>); <span class="id" title="tactic">eauto</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_wf_env_ext_prop" class="idref" href="#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a id="X:93" class="idref" href="#X:93"><span class="id" title="binder">X</span></a> <a id="X_ext:94" class="idref" href="#X_ext:94"><span class="id" title="binder">X_ext</span></a> <a id="ext:95" class="idref" href="#ext:95"><span class="id" title="binder">ext</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="cd6537d2e99017ef8ef9bcdef499a786" class="idref" href="#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:93"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:94"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cd6537d2e99017ef8ef9bcdef499a786"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ext:95"><span class="id" title="variable">ext</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="146fe60f75f8b5ac2765dd1c25c12d7e" class="idref" href="#146fe60f75f8b5ac2765dd1c25c12d7e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:94"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#146fe60f75f8b5ac2765dd1c25c12d7e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:93"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#146fe60f75f8b5ac2765dd1c25c12d7e"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="make_abstract_env_ext" class="idref" href="#make_abstract_env_ext"><span class="id" title="definition">make_abstract_env_ext</span></a> <a id="X:98" class="idref" href="#X:98"><span class="id" title="binder">X</span></a> (<a id="id:99" class="idref" href="#id:99"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) (<a id="ext:100" class="idref" href="#ext:100"><span class="id" title="binder">ext</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#universes_decl"><span class="id" title="inductive">universes_decl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a> <a id="X_ext:101" class="idref" href="#X_ext:101"><span class="id" title="binder">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:98"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:101"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ext:100"><span class="id" title="variable">ext</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>)  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ext:100"><span class="id" title="variable">ext</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:98"><span class="id" title="variable">X</span></a>) <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="uctx:103" class="idref" href="#uctx:103"><span class="id" title="binder">uctx</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_udecl"><span class="id" title="definition">check_udecl</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:99"><span class="id" title="variable">id</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:98"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ext:100"><span class="id" title="variable">ext</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':104" class="idref" href="#X':104"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl"><span class="id" title="method">abstract_env_add_udecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:98"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ext:100"><span class="id" title="variable">ext</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':104"><span class="id" title="variable">X'</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext_rel"><span class="id" title="definition">abstract_env_empty_ext_rel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext_rel"><span class="id" title="definition">abstract_env_empty_ext_rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.Utils.MRProd.html#proj2"><span class="id" title="definition">proj2</span></a> <span class="id" title="var">uctx</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">uctx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">uctx'</span> [<span class="id" title="var">gcof</span> <span class="id" title="var">onu</span>]]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl_rel"><span class="id" title="method">abstract_env_add_udecl_rel</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_udecl_rel"><span class="id" title="method">abstract_env_add_udecl_rel</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">udecl</span> := <span class="id" title="var">ext</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.UniverseChecks"><span class="id" title="section">UniverseChecks</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">h</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="infer_typing" class="idref" href="#infer_typing"><span class="id" title="definition">infer_typing</span></a> <a id="X_ext:105" class="idref" href="#X_ext:105"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:107" class="idref" href="#normalization_in:107"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="c15f7ce5d7211986b526059c4461e1ec" class="idref" href="#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:105"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="variable">Σ</span></a>} <a id="21b110d90ed5334f39e3c13b8af174d2" class="idref" href="#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="binder">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="3f6bfac9fe31f5f654202c6a597a8178" class="idref" href="#3f6bfac9fe31f5f654202c6a597a8178"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="7ad40d36cb1e314bda9bf8f0bc2340d1" class="idref" href="#7ad40d36cb1e314bda9bf8f0bc2340d1"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:105"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7ad40d36cb1e314bda9bf8f0bc2340d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7ad40d36cb1e314bda9bf8f0bc2340d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="t:111" class="idref" href="#t:111"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:112" class="idref" href="#T:112"><span class="id" title="binder">T</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="67028e5db0d7f321f964117e73116fa2" class="idref" href="#67028e5db0d7f321f964117e73116fa2"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X_ext</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <span class="id" title="var">t</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:112"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_typing:119"><span class="id" title="definition">infer_typing</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:115"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c614fd7f344488246e27443cc0ae1c43"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b2c9dc42b796dc161abd1a5143eac08c"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:116"><span class="id" title="variable">t</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_error_forget"><span class="id" title="definition">typing_error_forget</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <span class="id" title="var">X_ext</span> <span class="id" title="var">Γ</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">t</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a>  <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9312a512e761b0609da3ce406b19def8"><span class="id" title="definition">hΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#infering_typing"><span class="id" title="lemma">infering_typing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_type_wf_env" class="idref" href="#check_type_wf_env"><span class="id" title="definition">check_type_wf_env</span></a> <a id="X_ext:120" class="idref" href="#X_ext:120"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:122" class="idref" href="#normalization_in:122"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="22291429b6747bbc3b99ddb1e9a3d90c" class="idref" href="#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:120"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="variable">Σ</span></a>} <a id="2c5c8f050a64470a889c3f533c77e693" class="idref" href="#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="binder">Γ</span></a> (<a id="9b6a993d4616dbd5dd1947fde33be6e3" class="idref" href="#9b6a993d4616dbd5dd1947fde33be6e3"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="a5a0b10493a2c4ce9fd6f9cda880e118" class="idref" href="#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:120"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a5a0b10493a2c4ce9fd6f9cda880e118"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="t:126" class="idref" href="#t:126"><span class="id" title="binder">t</span></a> <a id="T:127" class="idref" href="#T:127"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="4cf90600e8413682f73ea298d1219fe2" class="idref" href="#4cf90600e8413682f73ea298d1219fe2"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:120"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4cf90600e8413682f73ea298d1219fe2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4cf90600e8413682f73ea298d1219fe2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:126"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:127"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#check"><span class="id" title="definition">check</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:120"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9b6a993d4616dbd5dd1947fde33be6e3"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:126"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:127"><span class="id" title="variable">T</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="infer_wf_env" class="idref" href="#infer_wf_env"><span class="id" title="definition">infer_wf_env</span></a> <a id="X_ext:129" class="idref" href="#X_ext:129"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:131" class="idref" href="#normalization_in:131"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="ac561eb9930a784cc140305591fb82e6" class="idref" href="#ac561eb9930a784cc140305591fb82e6"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ac561eb9930a784cc140305591fb82e6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ac561eb9930a784cc140305591fb82e6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:129"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ac561eb9930a784cc140305591fb82e6"><span class="id" title="variable">Σ</span></a>} <a id="a8852a1478e92cfb3798a7cee11ef3f8" class="idref" href="#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="binder">Γ</span></a> (<a id="19ebc4eafd08da31e526e7755526b489" class="idref" href="#19ebc4eafd08da31e526e7755526b489"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="bde462675d41d4bc8b1ca99665600e7d" class="idref" href="#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:129"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="t:135" class="idref" href="#t:135"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:136" class="idref" href="#T:136"><span class="id" title="binder">T</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="9e9733f8cc0a39ebf7cdff4c63de12e8" class="idref" href="#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:129"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9e9733f8cc0a39ebf7cdff4c63de12e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:135"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">▹</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:136"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:129"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#19ebc4eafd08da31e526e7755526b489"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:135"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_judgment_wf_env" class="idref" href="#check_judgment_wf_env"><span class="id" title="definition">check_judgment_wf_env</span></a> <a id="X_ext:138" class="idref" href="#X_ext:138"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:140" class="idref" href="#normalization_in:140"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="c64a4e18afb901fc0065484d2bee7e79" class="idref" href="#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:138"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a>} <a id="61459e7a87d057bf9d65fc4c1f4660ee" class="idref" href="#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="binder">Γ</span></a> (<a id="6fb6e3dfb7e561e8471b485d653ec3fc" class="idref" href="#6fb6e3dfb7e561e8471b485d653ec3fc"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="84fbbde278cb15893f039d5cd87bc809" class="idref" href="#84fbbde278cb15893f039d5cd87bc809"><span class="id" title="binder">Σ</span></a> (<a id="d546fe304a391594345f40d57c632305" class="idref" href="#d546fe304a391594345f40d57c632305"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:138"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#84fbbde278cb15893f039d5cd87bc809"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#84fbbde278cb15893f039d5cd87bc809"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="j:145" class="idref" href="#j:145"><span class="id" title="binder">j</span></a> (<a id="Hu:146" class="idref" href="#Hu:146"><span class="id" title="binder">Hu</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#j_univ"><span class="id" title="projection">j_univ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:145"><span class="id" title="variable">j</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="b5068c6cd8c41337afac36deb35caa4d" class="idref" href="#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="binder">Σ</span></a> (<a id="dcdd773ab2fcf99edb5bebf68379a020" class="idref" href="#dcdd773ab2fcf99edb5bebf68379a020"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:138"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b5068c6cd8c41337afac36deb35caa4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:145"><span class="id" title="variable">j</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_error_forget"><span class="id" title="definition">typing_error_forget</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer_judgment"><span class="id" title="definition">infer_judgment</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <span class="id" title="var">X_ext</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <span class="id" title="var">X_ext</span>) <span class="id" title="var">Γ</span> <span class="id" title="var">wfΓ</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_term"><span class="id" title="projection">j_term</span></a> <span class="id" title="var">j</span>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_typ"><span class="id" title="projection">j_typ</span></a> <span class="id" title="var">j</span>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_rel"><span class="id" title="projection">j_rel</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="infer_judgment_wf_env" class="idref" href="#infer_judgment_wf_env"><span class="id" title="definition">infer_judgment_wf_env</span></a> <a id="X_ext:149" class="idref" href="#X_ext:149"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:151" class="idref" href="#normalization_in:151"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="16420a3591c144f5a991e7835e9f838c" class="idref" href="#16420a3591c144f5a991e7835e9f838c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:149"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#16420a3591c144f5a991e7835e9f838c"><span class="id" title="variable">Σ</span></a>} <a id="2c94f62073996c52f8e49116de17c281" class="idref" href="#2c94f62073996c52f8e49116de17c281"><span class="id" title="binder">Γ</span></a> (<a id="758c76ef7bd964aaea3a611dde303134" class="idref" href="#758c76ef7bd964aaea3a611dde303134"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="7a945b9afea37aaa6ce61e5e6cdd6206" class="idref" href="#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="binder">Σ</span></a> (<a id="62bf4ce524e557802ed1e7340e063b4c" class="idref" href="#62bf4ce524e557802ed1e7340e063b4c"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:149"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2c94f62073996c52f8e49116de17c281"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="j:156" class="idref" href="#j:156"><span class="id" title="binder">j</span></a> (<a id="Hs:160" class="idref" href="#Hs:160"><span class="id" title="binder">Hs</span></a> : <span class="id" title="keyword">∀</span> <a id="996801865fff84df7746f7d16aabfe4b" class="idref" href="#996801865fff84df7746f7d16aabfe4b"><span class="id" title="binder">Σ</span></a> (<a id="67c27ed1e45b974c2464c33f983cd79b" class="idref" href="#67c27ed1e45b974c2464c33f983cd79b"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:149"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#996801865fff84df7746f7d16aabfe4b"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<span class="id" title="keyword">fun</span> <a id="s:159" class="idref" href="#s:159"><span class="id" title="binder">s</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#996801865fff84df7746f7d16aabfe4b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:159"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_univ"><span class="id" title="projection">j_univ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s':161" class="idref" href="#s':161"><span class="id" title="binder">s'</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Utils.MROption.html#option_default"><span class="id" title="definition">option_default</span></a> (<span class="id" title="keyword">fun</span> <a id="s:162" class="idref" href="#s:162"><span class="id" title="binder">s</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':161"><span class="id" title="variable">s'</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_univ"><span class="id" title="projection">j_univ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="keyword">∀</span> <a id="adef04e5061ce77a6c2e0f4fa8863238" class="idref" href="#adef04e5061ce77a6c2e0f4fa8863238"><span class="id" title="binder">Σ</span></a> (<a id="592a757b1af4bfcfb132003705f01336" class="idref" href="#592a757b1af4bfcfb132003705f01336"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:149"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#adef04e5061ce77a6c2e0f4fa8863238"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#adef04e5061ce77a6c2e0f4fa8863238"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2c94f62073996c52f8e49116de17c281"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#Judge"><span class="id" title="constructor">Judge</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_term"><span class="id" title="projection">j_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_typ"><span class="id" title="projection">j_typ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':161"><span class="id" title="variable">s'</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_rel"><span class="id" title="projection">j_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>)) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer_judgment0"><span class="id" title="definition">infer_judgment0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:149"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:149"><span class="id" title="variable">X_ext</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2c94f62073996c52f8e49116de17c281"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#758c76ef7bd964aaea3a611dde303134"><span class="id" title="variable">wfΓ</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_term"><span class="id" title="projection">j_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_typ"><span class="id" title="projection">j_typ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_univ"><span class="id" title="projection">j_univ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hs:160"><span class="id" title="variable">Hs</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_rel"><span class="id" title="projection">j_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#j:156"><span class="id" title="variable">j</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="infer_type_wf_env" class="idref" href="#infer_type_wf_env"><span class="id" title="definition">infer_type_wf_env</span></a> <a id="X_ext:165" class="idref" href="#X_ext:165"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:167" class="idref" href="#normalization_in:167"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="02e5d09468d184a097e8ccf600206b42" class="idref" href="#02e5d09468d184a097e8ccf600206b42"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:165"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#02e5d09468d184a097e8ccf600206b42"><span class="id" title="variable">Σ</span></a>} <a id="bc5cfc972b7195980b84752fe01958c5" class="idref" href="#bc5cfc972b7195980b84752fe01958c5"><span class="id" title="binder">Γ</span></a> (<a id="cb3f5c083c2587bba0c12512a2540daa" class="idref" href="#cb3f5c083c2587bba0c12512a2540daa"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="177e061b1c03e61b795cc8d27a9c6ff0" class="idref" href="#177e061b1c03e61b795cc8d27a9c6ff0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:165"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#177e061b1c03e61b795cc8d27a9c6ff0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#177e061b1c03e61b795cc8d27a9c6ff0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bc5cfc972b7195980b84752fe01958c5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="t:171" class="idref" href="#t:171"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s:172" class="idref" href="#s:172"><span class="id" title="binder">s</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="c1c5c8c67a0dc9808d5f39ed656267e7" class="idref" href="#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X_ext</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <span class="id" title="var">t</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:172"><span class="id" title="variable">s</span></a><a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_type_wf_env:179"><span class="id" title="definition">infer_type_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:175"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dc1356b602fe68110656293f361bcd12"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0320a0672ad6631d4b5f37a6593b1eb2"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:176"><span class="id" title="variable">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">(</span></a><a id="y:181" class="idref" href="#y:181"><span class="id" title="binder"><span id="pat:182" class="id">y</span></span></a> <a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">;</span></a> <a id="H:180" class="idref" href="#H:180"><span class="id" title="binder"><span id="pat:182" class="id">H</span></span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_error_forget"><span class="id" title="definition">typing_error_forget</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <span class="id" title="var">X_ext</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <span class="id" title="var">X_ext</span>) <span class="id" title="var">Γ</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">t</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:181"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDToPCUIC.html#infering_sort_typing"><span class="id" title="lemma">infering_sort_typing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_context_wf_env" class="idref" href="#check_context_wf_env"><span class="id" title="definition">check_context_wf_env</span></a> <a id="X_ext:183" class="idref" href="#X_ext:183"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:185" class="idref" href="#normalization_in:185"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="959df3c356b65207af3b634cad3947e8" class="idref" href="#959df3c356b65207af3b634cad3947e8"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#959df3c356b65207af3b634cad3947e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#959df3c356b65207af3b634cad3947e8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:183"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#959df3c356b65207af3b634cad3947e8"><span class="id" title="variable">Σ</span></a>} (<a id="f267148128b043d37ae5bc64fa77bae2" class="idref" href="#f267148128b043d37ae5bc64fa77bae2"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="13ce99c998910778525c07f31a0be534" class="idref" href="#13ce99c998910778525c07f31a0be534"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:183"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#13ce99c998910778525c07f31a0be534"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#13ce99c998910778525c07f31a0be534"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f267148128b043d37ae5bc64fa77bae2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#check_context"><span class="id" title="definition">check_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:183"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:183"><span class="id" title="variable">X_ext</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f267148128b043d37ae5bc64fa77bae2"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="inversion_it_mkProd_or_LetIn" class="idref" href="#inversion_it_mkProd_or_LetIn"><span class="id" title="lemma">inversion_it_mkProd_or_LetIn</span></a> (<a id="714880f5627db3426d84fcf8ef7a9648" class="idref" href="#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) {<a id="7471b5ce4b19934e0a8b2068acd0301b" class="idref" href="#7471b5ce4b19934e0a8b2068acd0301b"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="b838c91eeed7d5415552bab7722f140b" class="idref" href="#b838c91eeed7d5415552bab7722f140b"><span class="id" title="binder">Γ</span></a> <a id="deb9f131fb74ffe527b919b3a7916da1" class="idref" href="#deb9f131fb74ffe527b919b3a7916da1"><span class="id" title="binder">Δ</span></a> <a id="s:192" class="idref" href="#s:192"><span class="id" title="binder">s</span></a> <a id="A:193" class="idref" href="#A:193"><span class="id" title="binder">A</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b838c91eeed7d5415552bab7722f140b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#deb9f131fb74ffe527b919b3a7916da1"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:192"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:193"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b838c91eeed7d5415552bab7722f140b"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#deb9f131fb74ffe527b919b3a7916da1"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:192"><span class="id" title="variable">s</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Δ</span> <span class="id" title="var">s</span> <span class="id" title="var">A</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s':194" class="idref" href="#s':194"><span class="id" title="binder"><span id="s':195" class="id">s'</span></span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <span class="id" title="var">Δ</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s</span>) <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':194"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> (? &amp; ?); <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#has_sort_isType"><span class="id" title="definition">has_sort_isType</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">s</span> <span class="id" title="var">A</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> |- ×. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Sort"><span class="id" title="lemma">inversion_Sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /= /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> [? [? ?]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΔ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s''</span> <span class="id" title="var">vdefty</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">s''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSR.html#type_Cumul_alt"><span class="id" title="lemma">type_Cumul_alt</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#red_cumul"><span class="id" title="lemma">red_cumul</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">h1</span> [? ?]]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΔ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s''</span> <span class="id" title="var">Hs''</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.Common.Universes.html#Sort.sort_of_product"><span class="id" title="definition">Sort.sort_of_product</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#type_Cumul'"><span class="id" title="lemma">type_Cumul'</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TypUniv"><span class="id" title="definition">unlift_TypUniv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_type_local_ctx" class="idref" href="#check_type_local_ctx"><span class="id" title="definition">check_type_local_ctx</span></a> <a id="X_ext:196" class="idref" href="#X_ext:196"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:198" class="idref" href="#normalization_in:198"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="00141100b2eec50e7a09b3593cab343f" class="idref" href="#00141100b2eec50e7a09b3593cab343f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#00141100b2eec50e7a09b3593cab343f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#00141100b2eec50e7a09b3593cab343f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#00141100b2eec50e7a09b3593cab343f"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="76c4b0292dca32d04f813338d8b3cc72" class="idref" href="#76c4b0292dca32d04f813338d8b3cc72"><span class="id" title="binder">Γ</span></a> <a id="3405cf8e408305b2d6f3415e2162f387" class="idref" href="#3405cf8e408305b2d6f3415e2162f387"><span class="id" title="binder">Δ</span></a> <a id="s:201" class="idref" href="#s:201"><span class="id" title="binder">s</span></a> (<a id="2fcd372366ac795f2492cdd1b63162f4" class="idref" href="#2fcd372366ac795f2492cdd1b63162f4"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="eb108301922c3577e58b724777773441" class="idref" href="#eb108301922c3577e58b724777773441"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#eb108301922c3577e58b724777773441"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#eb108301922c3577e58b724777773441"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#76c4b0292dca32d04f813338d8b3cc72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="c27827c3cdb017ea2f080dc5adaf2a36" class="idref" href="#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#type_local_ctx"><span class="id" title="definition">type_local_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c27827c3cdb017ea2f080dc5adaf2a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#76c4b0292dca32d04f813338d8b3cc72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3405cf8e408305b2d6f3415e2162f387"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:201"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3405cf8e408305b2d6f3415e2162f387"><span class="id" title="variable">Δ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf_sortb"><span class="id" title="definition">abstract_env_ext_wf_sortb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:201"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Ill-formed universe") <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |} <span class="id" title="keyword">as</span> <span class="id" title="var">decl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Δ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="f00609be1466ace2e6233c19310ab090" class="idref" href="#f00609be1466ace2e6233c19310ab090"><span class="id" title="binder">checkΔ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_local_ctx:205"><span class="id" title="definition">check_type_local_ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#76c4b0292dca32d04f813338d8b3cc72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3405cf8e408305b2d6f3415e2162f387"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:201"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2fcd372366ac795f2492cdd1b63162f4"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="checkty:208" class="idref" href="#checkty:208"><span class="id" title="binder">checkty</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_judgment_wf_env"><span class="id" title="definition">infer_judgment_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#76c4b0292dca32d04f813338d8b3cc72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3405cf8e408305b2d6f3415e2162f387"><span class="id" title="variable">Δ</span></a>) <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_decl_s"><span class="id" title="abbreviation">j_decl_s</span></a> <span class="id" title="var">decl</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:201"><span class="id" title="variable">s</span></a>)) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> |} <span class="id" title="keyword">as</span> <span class="id" title="var">decl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Δ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ac64983a5d9f497913a91ad32b611748" class="idref" href="#ac64983a5d9f497913a91ad32b611748"><span class="id" title="binder">checkΔ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_local_ctx:205"><span class="id" title="definition">check_type_local_ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#76c4b0292dca32d04f813338d8b3cc72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3405cf8e408305b2d6f3415e2162f387"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:201"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2fcd372366ac795f2492cdd1b63162f4"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="checkty:210" class="idref" href="#checkty:210"><span class="id" title="binder">checkty</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_judgment_wf_env"><span class="id" title="definition">check_judgment_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:196"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#76c4b0292dca32d04f813338d8b3cc72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3405cf8e408305b2d6f3415e2162f387"><span class="id" title="variable">Δ</span></a>) <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_decl"><span class="id" title="abbreviation">j_decl</span></a> <span class="id" title="var">decl</span>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf_sortb_correct"><span class="id" title="lemma">abstract_env_ext_wf_sortb_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sq</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_sort_reflect"><span class="id" title="lemma">PCUICWfUniverses.wf_sort_reflect</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#type_local_ctx_wf_local"><span class="id" title="lemma">PCUICContexts.type_local_ctx_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">checkΔ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#type_local_ctx_wf"><span class="id" title="lemma">PCUICInductives.type_local_ctx_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#type_local_ctx_wf_local"><span class="id" title="lemma">PCUICContexts.type_local_ctx_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">checkΔ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="infer_sorts_local_ctx" class="idref" href="#infer_sorts_local_ctx"><span class="id" title="definition">infer_sorts_local_ctx</span></a> <a id="X_ext:211" class="idref" href="#X_ext:211"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:213" class="idref" href="#normalization_in:213"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="c872eda3916c9f2fc33ba60c8cc96c11" class="idref" href="#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:211"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c872eda3916c9f2fc33ba60c8cc96c11"><span class="id" title="variable">Σ</span></a>} <a id="cbb8026ca4570b0fe105459ae2f2dbb5" class="idref" href="#cbb8026ca4570b0fe105459ae2f2dbb5"><span class="id" title="binder">Γ</span></a> <a id="6aa41d12b4e5cf00f25ad4e99818767c" class="idref" href="#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="binder">Δ</span></a> (<a id="61f98f25609d060c160485f77fb023ae" class="idref" href="#61f98f25609d060c160485f77fb023ae"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="04aae002adffd82c56ba72d96634b94c" class="idref" href="#04aae002adffd82c56ba72d96634b94c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:211"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#04aae002adffd82c56ba72d96634b94c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#04aae002adffd82c56ba72d96634b94c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbb8026ca4570b0fe105459ae2f2dbb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s:218" class="idref" href="#s:218"><span class="id" title="binder">s</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="1ab40656d5e5c89572799d4533e92d93" class="idref" href="#1ab40656d5e5c89572799d4533e92d93"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:211"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1ab40656d5e5c89572799d4533e92d93"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#sorts_local_ctx"><span class="id" title="definition">sorts_local_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1ab40656d5e5c89572799d4533e92d93"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbb8026ca4570b0fe105459ae2f2dbb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:218"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |} <span class="id" title="keyword">as</span> <span class="id" title="var">decl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Δ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:224" class="idref" href="#pat:224"><span class="id" title="binder">(</span></a><a id="1d40419482f1f7ee5d5338ad64881963" class="idref" href="#1d40419482f1f7ee5d5338ad64881963"><span class="id" title="binder"><span id="pat:224" class="id">Δs</span></span></a><a id="pat:224" class="idref" href="#pat:224"><span class="id" title="binder">;</span></a> <a id="e607156123d32f0ff020f85fa0642d2a" class="idref" href="#e607156123d32f0ff020f85fa0642d2a"><span class="id" title="binder"><span id="pat:224" class="id">Δinfer</span></span></a><a id="pat:224" class="idref" href="#pat:224"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_sorts_local_ctx:220"><span class="id" title="definition">infer_sorts_local_ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:211"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbb8026ca4570b0fe105459ae2f2dbb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#61f98f25609d060c160485f77fb023ae"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:227" class="idref" href="#pat:227"><span class="id" title="binder">(</span></a><a id="tys:226" class="idref" href="#tys:226"><span class="id" title="binder"><span id="pat:227" class="id">tys</span></span></a><a id="pat:227" class="idref" href="#pat:227"><span class="id" title="binder">;</span></a> <a id="tyinfer:225" class="idref" href="#tyinfer:225"><span class="id" title="binder"><span id="pat:227" class="id">tyinfer</span></span></a><a id="pat:227" class="idref" href="#pat:227"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_judgment_wf_env"><span class="id" title="definition">infer_judgment_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:211"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbb8026ca4570b0fe105459ae2f2dbb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a>) <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_decl"><span class="id" title="abbreviation">j_decl</span></a> <span class="id" title="var">decl</span>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">((</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#tys:226"><span class="id" title="variable">tys</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1d40419482f1f7ee5d5338ad64881963"><span class="id" title="variable">Δs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">);</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> |} <span class="id" title="keyword">as</span> <span class="id" title="var">decl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Δ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">(</span></a><a id="db2432f3876a4a374b0243c7b9d4029e" class="idref" href="#db2432f3876a4a374b0243c7b9d4029e"><span class="id" title="binder"><span id="pat:230" class="id">Δs</span></span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">;</span></a> <a id="b02bf7dfcbc510af135b79ecb346f363" class="idref" href="#b02bf7dfcbc510af135b79ecb346f363"><span class="id" title="binder"><span id="pat:230" class="id">Δinfer</span></span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_sorts_local_ctx:220"><span class="id" title="definition">infer_sorts_local_ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:211"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbb8026ca4570b0fe105459ae2f2dbb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#61f98f25609d060c160485f77fb023ae"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="checkty:231" class="idref" href="#checkty:231"><span class="id" title="binder">checkty</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_judgment_wf_env"><span class="id" title="definition">check_judgment_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:211"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbb8026ca4570b0fe105459ae2f2dbb5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a>) <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#j_decl"><span class="id" title="abbreviation">j_decl</span></a> <span class="id" title="var">decl</span>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#db2432f3876a4a374b0243c7b9d4029e"><span class="id" title="variable">Δs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#sorts_local_ctx_wf_local"><span class="id" title="lemma">PCUICContexts.sorts_local_ctx_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Δinfer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#sorts_local_ctx_wf_local"><span class="id" title="lemma">PCUICContexts.sorts_local_ctx_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Δinfer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cumul_decl" class="idref" href="#cumul_decl"><span class="id" title="definition">cumul_decl</span></a> <a id="Pcmp:232" class="idref" href="#Pcmp:232"><span class="id" title="binder">Pcmp</span></a> <a id="6415288ff3ab9e6abe4d622289bc17a1" class="idref" href="#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="binder">Σ</span></a> <a id="0328fd687cee8e3ffffa92b16cc78e89" class="idref" href="#0328fd687cee8e3ffffa92b16cc78e89"><span class="id" title="binder">Γ</span></a> (<a id="d:235" class="idref" href="#d:235"><span class="id" title="binder">d</span></a> <a id="d':236" class="idref" href="#d':236"><span class="id" title="binder">d'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) : <span class="id" title="keyword">Type</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#cumul_decls"><span class="id" title="abbreviation">cumul_decls</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Pcmp:232"><span class="id" title="variable">Pcmp</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0328fd687cee8e3ffffa92b16cc78e89"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0328fd687cee8e3ffffa92b16cc78e89"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:235"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d':236"><span class="id" title="variable">d'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="wf_env_conv" class="idref" href="#wf_env_conv"><span class="id" title="definition">wf_env_conv</span></a> <a id="X_ext:237" class="idref" href="#X_ext:237"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:239" class="idref" href="#normalization_in:239"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="a6de768261409196abdb09e5e2787adb" class="idref" href="#a6de768261409196abdb09e5e2787adb"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a6de768261409196abdb09e5e2787adb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a6de768261409196abdb09e5e2787adb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:237"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a6de768261409196abdb09e5e2787adb"><span class="id" title="variable">Σ</span></a>} (<a id="le:240" class="idref" href="#le:240"><span class="id" title="binder">le</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a>) (<a id="1705851d5f5c5c34db4c797c88f1974f" class="idref" href="#1705851d5f5c5c34db4c797c88f1974f"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:242" class="idref" href="#t:242"><span class="id" title="binder">t</span></a> <a id="u:243" class="idref" href="#u:243"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="2a5ac0b53e33ae97eae64b5a870ce766" class="idref" href="#2a5ac0b53e33ae97eae64b5a870ce766"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:237"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2a5ac0b53e33ae97eae64b5a870ce766"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2a5ac0b53e33ae97eae64b5a870ce766"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1705851d5f5c5c34db4c797c88f1974f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:242"><span class="id" title="variable">t</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="3dce340377acc480fac0799c5bfb5cb3" class="idref" href="#3dce340377acc480fac0799c5bfb5cb3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:237"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3dce340377acc480fac0799c5bfb5cb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3dce340377acc480fac0799c5bfb5cb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1705851d5f5c5c34db4c797c88f1974f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:243"><span class="id" title="variable">u</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="3dba0a733a59236279fda58910eab812" class="idref" href="#3dba0a733a59236279fda58910eab812"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:237"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3dba0a733a59236279fda58910eab812"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3dba0a733a59236279fda58910eab812"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1705851d5f5c5c34db4c797c88f1974f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:242"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">≤[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#le:240"><span class="id" title="variable">le</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#35217f73df56646eb74cda65149cc63c"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:243"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#convert"><span class="id" title="definition">convert</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:237"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#le:240"><span class="id" title="variable">le</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1705851d5f5c5c34db4c797c88f1974f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:242"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:243"><span class="id" title="variable">u</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="wf_env_check_cumul_decl" class="idref" href="#wf_env_check_cumul_decl"><span class="id" title="definition">wf_env_check_cumul_decl</span></a> <a id="X_ext:247" class="idref" href="#X_ext:247"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:249" class="idref" href="#normalization_in:249"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="501ab271531919b68468ce50b3f5c9ad" class="idref" href="#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:247"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#501ab271531919b68468ce50b3f5c9ad"><span class="id" title="variable">Σ</span></a>} <a id="le:250" class="idref" href="#le:250"><span class="id" title="binder">le</span></a> <a id="222197b84259c68a7058b2f17e9c382a" class="idref" href="#222197b84259c68a7058b2f17e9c382a"><span class="id" title="binder">Γ</span></a> <a id="d:252" class="idref" href="#d:252"><span class="id" title="binder">d</span></a> <a id="d':253" class="idref" href="#d':253"><span class="id" title="binder">d'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#check_ws_cumul_pb_decl"><span class="id" title="definition">check_ws_cumul_pb_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:247"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#le:250"><span class="id" title="variable">le</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#222197b84259c68a7058b2f17e9c382a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:252"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d':253"><span class="id" title="variable">d'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="wf_env_check_ws_cumul_ctx" class="idref" href="#wf_env_check_ws_cumul_ctx"><span class="id" title="definition">wf_env_check_ws_cumul_ctx</span></a> (<a id="le:254" class="idref" href="#le:254"><span class="id" title="binder">le</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a>) <a id="X_ext:255" class="idref" href="#X_ext:255"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:257" class="idref" href="#normalization_in:257"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="2439574c47c02230f59bb2b62f3425e4" class="idref" href="#2439574c47c02230f59bb2b62f3425e4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2439574c47c02230f59bb2b62f3425e4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2439574c47c02230f59bb2b62f3425e4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:255"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2439574c47c02230f59bb2b62f3425e4"><span class="id" title="variable">Σ</span></a>} <a id="97336815cb2b60fd0b415a69392ae31d" class="idref" href="#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="binder">Γ</span></a> <a id="f5d09b8fd3f0b34ad857228eb632a3a7" class="idref" href="#f5d09b8fd3f0b34ad857228eb632a3a7"><span class="id" title="binder">Δ</span></a> <a id="c2b9811cd1a5a09fb6655f9d2fe8a59a" class="idref" href="#c2b9811cd1a5a09fb6655f9d2fe8a59a"><span class="id" title="binder">Δ'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ddfcf8709218ef09f622932197d05f5e" class="idref" href="#ddfcf8709218ef09f622932197d05f5e"><span class="id" title="binder">wfΔ</span></a> : <span class="id" title="keyword">∀</span> <a id="6306e9f37f383587d901e7de7404bd4c" class="idref" href="#6306e9f37f383587d901e7de7404bd4c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:255"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6306e9f37f383587d901e7de7404bd4c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6306e9f37f383587d901e7de7404bd4c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f5d09b8fd3f0b34ad857228eb632a3a7"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="7b7bb34029d18888e2fa3ec08fc2874b" class="idref" href="#7b7bb34029d18888e2fa3ec08fc2874b"><span class="id" title="binder">wfΔ'</span></a> : <span class="id" title="keyword">∀</span> <a id="08844aa7542baae4ff636c0eb6a3a5d8" class="idref" href="#08844aa7542baae4ff636c0eb6a3a5d8"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:255"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#08844aa7542baae4ff636c0eb6a3a5d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#08844aa7542baae4ff636c0eb6a3a5d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c2b9811cd1a5a09fb6655f9d2fe8a59a"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="ad79beac12f34d671332de2fc704040b" class="idref" href="#ad79beac12f34d671332de2fc704040b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:255"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ad79beac12f34d671332de2fc704040b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_ctx_pb_rel"><span class="id" title="definition">ws_cumul_ctx_pb_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#le:254"><span class="id" title="variable">le</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ad79beac12f34d671332de2fc704040b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f5d09b8fd3f0b34ad857228eb632a3a7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c2b9811cd1a5a09fb6655f9d2fe8a59a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#check_ws_cumul_ctx"><span class="id" title="definition">check_ws_cumul_ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:255"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#le:254"><span class="id" title="variable">le</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f5d09b8fd3f0b34ad857228eb632a3a7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c2b9811cd1a5a09fb6655f9d2fe8a59a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ddfcf8709218ef09f622932197d05f5e"><span class="id" title="variable">wfΔ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7b7bb34029d18888e2fa3ec08fc2874b"><span class="id" title="variable">wfΔ'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="eqb_term_conv" class="idref" href="#eqb_term_conv"><span class="id" title="abbreviation">eqb_term_conv</span></a> <span class="id" title="var">X</span> <span class="id" title="var">conv_pb</span> := (<a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#eqb_term_upto_univ"><span class="id" title="abbreviation">eqb_term_upto_univ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_compare_universe"><span class="id" title="definition">abstract_env_compare_universe</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_compare_sort"><span class="id" title="definition">abstract_env_compare_sort</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#abstract_env_compare_global_instance"><span class="id" title="definition">abstract_env_compare_global_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span>) <span class="id" title="var">conv_pb</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_eq_term" class="idref" href="#check_eq_term"><span class="id" title="definition">check_eq_term</span></a> <a id="pb:266" class="idref" href="#pb:266"><span class="id" title="binder">pb</span></a> <a id="X_ext:267" class="idref" href="#X_ext:267"><span class="id" title="binder">X_ext</span></a> <a id="t:268" class="idref" href="#t:268"><span class="id" title="binder">t</span></a> <a id="u:269" class="idref" href="#u:269"><span class="id" title="binder">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wft:271" class="idref" href="#wft:271"><span class="id" title="binder">wft</span></a> : <span class="id" title="keyword">∀</span> <a id="4e55f902055574206974ced071a2f4cb" class="idref" href="#4e55f902055574206974ced071a2f4cb"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:267"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4e55f902055574206974ced071a2f4cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">wf_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4e55f902055574206974ced071a2f4cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:268"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfu:273" class="idref" href="#wfu:273"><span class="id" title="binder">wfu</span></a> : <span class="id" title="keyword">∀</span> <a id="fff8b5ebb17023f01639f699e8493489" class="idref" href="#fff8b5ebb17023f01639f699e8493489"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:267"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fff8b5ebb17023f01639f699e8493489"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">wf_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fff8b5ebb17023f01639f699e8493489"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:269"><span class="id" title="variable">u</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="cc664e2ebdb5001557a38eea9d90b077" class="idref" href="#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:267"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_term"><span class="id" title="definition">compare_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:266"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:268"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:269"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check:275" class="idref" href="#check:275"><span class="id" title="binder">check</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#eqb_term_conv"><span class="id" title="abbreviation">eqb_term_conv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:267"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:266"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:268"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:269"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Terms are not equal") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#cmpb_term_correct"><span class="id" title="lemma">cmpb_term_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check</span>; <span class="id" title="var">sq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_eq_decl" class="idref" href="#check_eq_decl"><span class="id" title="definition">check_eq_decl</span></a> <a id="pb:276" class="idref" href="#pb:276"><span class="id" title="binder">pb</span></a> <a id="X_ext:277" class="idref" href="#X_ext:277"><span class="id" title="binder">X_ext</span></a> <a id="d:278" class="idref" href="#d:278"><span class="id" title="binder">d</span></a> <a id="d':279" class="idref" href="#d':279"><span class="id" title="binder">d'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfd:281" class="idref" href="#wfd:281"><span class="id" title="binder">wfd</span></a> : <span class="id" title="keyword">∀</span> <a id="16d5a522716a87cb2083ccb2eeedfdc3" class="idref" href="#16d5a522716a87cb2083ccb2eeedfdc3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#16d5a522716a87cb2083ccb2eeedfdc3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_decl_universes"><span class="id" title="definition">wf_decl_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#16d5a522716a87cb2083ccb2eeedfdc3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:278"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfd':283" class="idref" href="#wfd':283"><span class="id" title="binder">wfd'</span></a> : <span class="id" title="keyword">∀</span> <a id="dd4ecff0e7618bc3712143ec0202068b" class="idref" href="#dd4ecff0e7618bc3712143ec0202068b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd4ecff0e7618bc3712143ec0202068b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_decl_universes"><span class="id" title="definition">wf_decl_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd4ecff0e7618bc3712143ec0202068b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d':279"><span class="id" title="variable">d'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="e39378fca6a63b9b46c8b96c180b5ee0" class="idref" href="#e39378fca6a63b9b46c8b96c180b5ee0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e39378fca6a63b9b46c8b96c180b5ee0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_decl"><span class="id" title="definition">compare_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e39378fca6a63b9b46c8b96c180b5ee0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e39378fca6a63b9b46c8b96c180b5ee0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:276"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:278"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d':279"><span class="id" title="variable">d'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:278"><span class="id" title="variable">d</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d':279"><span class="id" title="variable">d'</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="b81b43d02c4b43f61fdd7203ece36bc9" class="idref" href="#b81b43d02c4b43f61fdd7203ece36bc9"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b81b43d02c4b43f61fdd7203ece36bc9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_decl_universes"><span class="id" title="definition">wf_decl_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b81b43d02c4b43f61fdd7203ece36bc9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:285"><span class="id" title="variable">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="d541f9739cec167054278f287499b3ea" class="idref" href="#d541f9739cec167054278f287499b3ea"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d541f9739cec167054278f287499b3ea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_decl_universes"><span class="id" title="definition">wf_decl_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d541f9739cec167054278f287499b3ea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d':286"><span class="id" title="variable">d'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <span class="id" title="var">na</span>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <span class="id" title="var">ty</span> |},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <span class="id" title="var">na'</span>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b'</span>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <span class="id" title="var">ty'</span> |} ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqna:289" class="idref" href="#eqna:289"><span class="id" title="binder">eqna</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#eqb_binder_annot"><span class="id" title="definition">eqb_binder_annot</span></a> <span class="id" title="var">na</span> <span class="id" title="var">na'</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Binder annotations do not match") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqb:290" class="idref" href="#eqb:290"><span class="id" title="binder">eqb</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_term"><span class="id" title="definition">check_eq_term</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="leqty:291" class="idref" href="#leqty:291"><span class="id" title="binder">leqty</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_term"><span class="id" title="definition">check_eq_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:276"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="ce9a2b0e482cccd879009b6bafb34293" class="idref" href="#ce9a2b0e482cccd879009b6bafb34293"><span class="id" title="binder">Σ</span></a> <a id="4db0310218156c680be48b203b201b14" class="idref" href="#4db0310218156c680be48b203b201b14"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <span class="id" title="var">na</span>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <span class="id" title="var">ty</span> |},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <span class="id" title="var">na'</span>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <span class="id" title="var">ty'</span> |} ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqna:294" class="idref" href="#eqna:294"><span class="id" title="binder">eqna</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#eqb_binder_annot"><span class="id" title="definition">eqb_binder_annot</span></a> <span class="id" title="var">na</span> <span class="id" title="var">na'</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Binder annotations do not match") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cumt:295" class="idref" href="#cumt:295"><span class="id" title="binder">cumt</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_term"><span class="id" title="definition">check_eq_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:276"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:277"><span class="id" title="variable">X_ext</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="2cfa76a4dc47c3a3803bd1cd2c26f363" class="idref" href="#2cfa76a4dc47c3a3803bd1cd2c26f363"><span class="id" title="binder">Σ</span></a> <a id="fed04d444ce37edc300b78aebe0092c1" class="idref" href="#fed04d444ce37edc300b78aebe0092c1"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "While checking syntactic cumulativity of contexts: declarations do not match")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfd:281"><span class="id" title="variable">wfd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfd':283"><span class="id" title="variable">wfd'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i0</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i0</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#eqb_binder_annot_spec"><span class="id" title="lemma">eqb_binder_annot_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqna</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICEqualityDec.html#eqb_binder_annot_spec"><span class="id" title="lemma">eqb_binder_annot_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqna</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_compare_context" class="idref" href="#check_compare_context"><span class="id" title="definition">check_compare_context</span></a> (<a id="pb:298" class="idref" href="#pb:298"><span class="id" title="binder">pb</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a>) <a id="X_ext:299" class="idref" href="#X_ext:299"><span class="id" title="binder">X_ext</span></a> <a id="b101aa25c534ed367c9f95beb30141b5" class="idref" href="#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="binder">Γ</span></a> <a id="d6184d95c3f9c120ca0a2f8f616834e1" class="idref" href="#d6184d95c3f9c120ca0a2f8f616834e1"><span class="id" title="binder">Δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="df8a2967beb38f846e601ada3128d363" class="idref" href="#df8a2967beb38f846e601ada3128d363"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="79dda1cbd77dbb61e02897917de54ada" class="idref" href="#79dda1cbd77dbb61e02897917de54ada"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:299"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#79dda1cbd77dbb61e02897917de54ada"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#79dda1cbd77dbb61e02897917de54ada"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="69e312ea078bd278209933576003e2a6" class="idref" href="#69e312ea078bd278209933576003e2a6"><span class="id" title="binder">wfΔ</span></a> : <span class="id" title="keyword">∀</span> <a id="cdf4957972ef46bcc6bc4c2775bdff64" class="idref" href="#cdf4957972ef46bcc6bc4c2775bdff64"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:299"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdf4957972ef46bcc6bc4c2775bdff64"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdf4957972ef46bcc6bc4c2775bdff64"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d6184d95c3f9c120ca0a2f8f616834e1"><span class="id" title="variable">Δ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="38ec0d810825fad5197eff2fcbab7290" class="idref" href="#38ec0d810825fad5197eff2fcbab7290"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:299"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#38ec0d810825fad5197eff2fcbab7290"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_context"><span class="id" title="definition">PCUICEquality.compare_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#38ec0d810825fad5197eff2fcbab7290"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#38ec0d810825fad5197eff2fcbab7290"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:298"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d6184d95c3f9c120ca0a2f8f616834e1"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="variable">Γ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d6184d95c3f9c120ca0a2f8f616834e1"><span class="id" title="variable">Δ</span></a> <span class="id" title="keyword">return</span>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e7ddd2efdbc17c61d03b04b627ab1d58" class="idref" href="#e7ddd2efdbc17c61d03b04b627ab1d58"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:299"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7ddd2efdbc17c61d03b04b627ab1d58"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7ddd2efdbc17c61d03b04b627ab1d58"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#35ed7b8e5e569a2ea6ddb533e2f8445a"><span class="id" title="variable">Γ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="95ab86f87f36844096533e934bc456ee" class="idref" href="#95ab86f87f36844096533e934bc456ee"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:299"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#95ab86f87f36844096533e934bc456ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#95ab86f87f36844096533e934bc456ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#92d6a1be1e604896a86d4e5b18c774a2"><span class="id" title="variable">Δ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="2400c02506ae4d15486eb9a9e093aa98" class="idref" href="#2400c02506ae4d15486eb9a9e093aa98"><span class="id" title="binder">Σ</span></a> <a id="981adf8ad8c1d63cde322a9d2f63ae85" class="idref" href="#981adf8ad8c1d63cde322a9d2f63ae85"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold_nil"><span class="id" title="constructor">All2_fold_nil</span></a> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">decl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>, <span class="id" title="var">decl'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Δ</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cctx:314" class="idref" href="#cctx:314"><span class="id" title="binder">cctx</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_compare_context:307"><span class="id" title="definition">check_compare_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:298"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:299"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d6184d95c3f9c120ca0a2f8f616834e1"><span class="id" title="variable">Δ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cdecl:315" class="idref" href="#cdecl:315"><span class="id" title="binder">cdecl</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_decl"><span class="id" title="definition">check_eq_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:298"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:299"><span class="id" title="variable">X_ext</span></a> <span class="id" title="var">decl</span> <span class="id" title="var">decl'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="ab4371cf41d405f92c7f9c7d1eb82b76" class="idref" href="#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="binder">Σ</span></a> <a id="3d78d6d5a0ff849e790b93cceb564228" class="idref" href="#3d78d6d5a0ff849e790b93cceb564228"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "While checking ws_cumul_pb of contexts: contexts do not have the same length")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#df8a2967beb38f846e601ada3128d363"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#69e312ea078bd278209933576003e2a6"><span class="id" title="variable">wfΔ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i0</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i0</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_leq_terms" class="idref" href="#check_leq_terms"><span class="id" title="definition">check_leq_terms</span></a> (<a id="pb:318" class="idref" href="#pb:318"><span class="id" title="binder">pb</span></a> : <a class="idref" href="MetaRocq.Common.BasicAst.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a>) <a id="X_ext:319" class="idref" href="#X_ext:319"><span class="id" title="binder">X_ext</span></a> <a id="l:320" class="idref" href="#l:320"><span class="id" title="binder">l</span></a> <a id="l':321" class="idref" href="#l':321"><span class="id" title="binder">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfl:323" class="idref" href="#wfl:323"><span class="id" title="binder">wfl</span></a> : <span class="id" title="keyword">∀</span> <a id="4d0883628eba86e4c49a7810b57b235c" class="idref" href="#4d0883628eba86e4c49a7810b57b235c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:319"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d0883628eba86e4c49a7810b57b235c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">wf_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d0883628eba86e4c49a7810b57b235c"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:320"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfl':325" class="idref" href="#wfl':325"><span class="id" title="binder">wfl'</span></a> : <span class="id" title="keyword">∀</span> <a id="67b0156cbaf42ad5cf0db72219186833" class="idref" href="#67b0156cbaf42ad5cf0db72219186833"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:319"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#67b0156cbaf42ad5cf0db72219186833"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">wf_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#67b0156cbaf42ad5cf0db72219186833"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':321"><span class="id" title="variable">l'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="4a71d8014be45b8930cc05a0c5ed961a" class="idref" href="#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:319"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICEquality.html#compare_term"><span class="id" title="definition">compare_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4a71d8014be45b8930cc05a0c5ed961a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:318"><span class="id" title="variable">pb</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:320"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':321"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:320"><span class="id" title="variable">l</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':321"><span class="id" title="variable">l'</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="17491d5d06775fe5ed36d397c3f63bad" class="idref" href="#17491d5d06775fe5ed36d397c3f63bad"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:319"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#17491d5d06775fe5ed36d397c3f63bad"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">wf_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#17491d5d06775fe5ed36d397c3f63bad"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:328"><span class="id" title="variable">l</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="ed6f5e97d5d1f0ec8379348c55a8db45" class="idref" href="#ed6f5e97d5d1f0ec8379348c55a8db45"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:319"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ed6f5e97d5d1f0ec8379348c55a8db45"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes"><span class="id" title="definition">wf_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ed6f5e97d5d1f0ec8379348c55a8db45"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':329"><span class="id" title="variable">l'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <span class="id" title="keyword">fun</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="aaa9debfb5f0dbd1f80cc56913be71c1" class="idref" href="#aaa9debfb5f0dbd1f80cc56913be71c1"><span class="id" title="binder">Σ</span></a> <a id="8135e68486c21fd0af2043489880b837" class="idref" href="#8135e68486c21fd0af2043489880b837"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>, <span class="id" title="var">t'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cctx:334" class="idref" href="#cctx:334"><span class="id" title="binder">cctx</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_leq_terms:327"><span class="id" title="definition">check_leq_terms</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:318"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:319"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:320"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':321"><span class="id" title="variable">l'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cdecl:335" class="idref" href="#cdecl:335"><span class="id" title="binder">cdecl</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_term"><span class="id" title="definition">check_eq_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pb:318"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:319"><span class="id" title="variable">X_ext</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="85ea6b86346d1ebf33501d8cfcb67403" class="idref" href="#85ea6b86346d1ebf33501d8cfcb67403"><span class="id" title="binder">Σ</span></a> <a id="2ac3717978e84fe049c7ce1d991a9d1a" class="idref" href="#2ac3717978e84fe049c7ce1d991a9d1a"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "While checking ws_cumul_pb of term lists: lists do not have the same length")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfl:323"><span class="id" title="variable">wfl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfl':325"><span class="id" title="variable">wfl'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nil"><span class="id" title="constructor">All2_nil</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i0</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">i0</span> <span class="id" title="keyword">as</span> [? ?]%<a class="idref" href="MetaRocq.Utils.MRProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wt_terms" class="idref" href="#wt_terms"><span class="id" title="definition">wt_terms</span></a> <a id="7dda57f6030ffd980c89fc6564e49f92" class="idref" href="#7dda57f6030ffd980c89fc6564e49f92"><span class="id" title="binder">Σ</span></a> <a id="d7f3c14f16347973307df07a017ea4e9" class="idref" href="#d7f3c14f16347973307df07a017ea4e9"><span class="id" title="binder">Γ</span></a> <a id="l:340" class="idref" href="#l:340"><span class="id" title="binder">l</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7dda57f6030ffd980c89fc6564e49f92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d7f3c14f16347973307df07a017ea4e9"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:340"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_conv_args" class="idref" href="#check_conv_args"><span class="id" title="definition">check_conv_args</span></a> <a id="X_ext:341" class="idref" href="#X_ext:341"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:343" class="idref" href="#normalization_in:343"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="494ebd7cc8fb00dfb73a14410fda68df" class="idref" href="#494ebd7cc8fb00dfb73a14410fda68df"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#494ebd7cc8fb00dfb73a14410fda68df"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#494ebd7cc8fb00dfb73a14410fda68df"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:341"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#494ebd7cc8fb00dfb73a14410fda68df"><span class="id" title="variable">Σ</span></a>} <a id="a9ed3f62f59098fa7a7be0d7917e1e15" class="idref" href="#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="binder">Γ</span></a> (<a id="90de1cf141cd8d4d09976aaf706139a4" class="idref" href="#90de1cf141cd8d4d09976aaf706139a4"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="ac10eb6ae79cd8215886a7e819f14945" class="idref" href="#ac10eb6ae79cd8215886a7e819f14945"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:341"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ac10eb6ae79cd8215886a7e819f14945"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ac10eb6ae79cd8215886a7e819f14945"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="l:347" class="idref" href="#l:347"><span class="id" title="binder">l</span></a> <a id="l':348" class="idref" href="#l':348"><span class="id" title="binder">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfl:350" class="idref" href="#wfl:350"><span class="id" title="binder">wfl</span></a> : <span class="id" title="keyword">∀</span> <a id="2ccc1d43512355426ebb24cd95a86fb5" class="idref" href="#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:341"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wt_terms"><span class="id" title="definition">wt_terms</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2ccc1d43512355426ebb24cd95a86fb5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:347"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfl':352" class="idref" href="#wfl':352"><span class="id" title="binder">wfl'</span></a> : <span class="id" title="keyword">∀</span> <a id="b94f5f527284308b54ce2641d92c3408" class="idref" href="#b94f5f527284308b54ce2641d92c3408"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:341"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b94f5f527284308b54ce2641d92c3408"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wt_terms"><span class="id" title="definition">wt_terms</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b94f5f527284308b54ce2641d92c3408"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':348"><span class="id" title="variable">l'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="2b9b5f3cf131387257ec5433bd404055" class="idref" href="#2b9b5f3cf131387257ec5433bd404055"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:341"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2b9b5f3cf131387257ec5433bd404055"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_terms"><span class="id" title="abbreviation">ws_cumul_pb_terms</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2b9b5f3cf131387257ec5433bd404055"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:347"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':348"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:347"><span class="id" title="variable">l</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':348"><span class="id" title="variable">l'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="4e4d13bd2d43126de138a3e7bb4e64b3" class="idref" href="#4e4d13bd2d43126de138a3e7bb4e64b3"><span class="id" title="binder">Σ</span></a> <a id="53961f8808b042a2bbc0fcaa1bec96a7" class="idref" href="#53961f8808b042a2bbc0fcaa1bec96a7"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nil"><span class="id" title="constructor">All2_nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>, <span class="id" title="var">t'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="checkt:359" class="idref" href="#checkt:359"><span class="id" title="binder">checkt</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_env_conv"><span class="id" title="definition">wf_env_conv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:341"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="checkts:360" class="idref" href="#checkts:360"><span class="id" title="binder">checkts</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_conv_args:354"><span class="id" title="definition">check_conv_args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:341"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#90de1cf141cd8d4d09976aaf706139a4"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:347"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':348"><span class="id" title="variable">l'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="ce8da5d286ab4eb6b7b055ba856a9683" class="idref" href="#ce8da5d286ab4eb6b7b055ba856a9683"><span class="id" title="binder">Σ</span></a> <a id="ab7e3e67fbc9649a3e32f5eaf0979038" class="idref" href="#ab7e3e67fbc9649a3e32f5eaf0979038"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "While checking convertibility of arguments: lists have not the same length")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">wfl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">wfl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">wfl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">wfl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CheckEnv.MonadMapi" class="idref" href="#CheckEnv.MonadMapi"><span class="id" title="section">MonadMapi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="CheckEnv.MonadMapi.T" class="idref" href="#CheckEnv.MonadMapi.T"><span class="id" title="variable">T</span></a>} {<a id="CheckEnv.MonadMapi.M" class="idref" href="#CheckEnv.MonadMapi.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="MetaRocq.Utils.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:363"><span class="id" title="variable">T</span></a>} {<a id="CheckEnv.MonadMapi.A" class="idref" href="#CheckEnv.MonadMapi.A"><span class="id" title="variable">A</span></a> <a id="CheckEnv.MonadMapi.B" class="idref" href="#CheckEnv.MonadMapi.B"><span class="id" title="variable">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="CheckEnv.MonadMapi.f" class="idref" href="#CheckEnv.MonadMapi.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:365"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:363"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#B:366"><span class="id" title="variable">B</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="monad_mapi_rec" class="idref" href="#monad_mapi_rec"><span class="id" title="definition">monad_mapi_rec</span></a> (<a id="n:368" class="idref" href="#n:368"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:369" class="idref" href="#l:369"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadMapi.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadMapi.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadMapi.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:369"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">xs</span> ⇒ <a id="x':372" class="idref" href="#x':372"><span class="id" title="binder">x'</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadMapi.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:368"><span class="id" title="variable">n</span></a> <span class="id" title="var">x</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="xs':373" class="idref" href="#xs':373"><span class="id" title="binder">xs'</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_mapi_rec:370"><span class="id" title="definition">monad_mapi_rec</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:368"><span class="id" title="variable">n</span></a>) <span class="id" title="var">xs</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x':372"><span class="id" title="variable">x'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#xs':373"><span class="id" title="variable">xs'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="monad_mapi" class="idref" href="#monad_mapi"><span class="id" title="definition">monad_mapi</span></a> (<a id="l:374" class="idref" href="#l:374"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadMapi.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_mapi_rec"><span class="id" title="definition">monad_mapi_rec</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:374"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadMapi"><span class="id" title="section">MonadMapi</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_constructor_spec" class="idref" href="#check_constructor_spec"><span class="id" title="definition">check_constructor_spec</span></a> <a id="0eef96af381f17f7f134619cb322a94f" class="idref" href="#0eef96af381f17f7f134619cb322a94f"><span class="id" title="binder">Σ</span></a> (<a id="ind:376" class="idref" href="#ind:376"><span class="id" title="binder">ind</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="mdecl:377" class="idref" href="#mdecl:377"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) (<a id="idecl:378" class="idref" href="#idecl:378"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="cdecl:379" class="idref" href="#cdecl:379"><span class="id" title="binder">cdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) (<a id="cs:380" class="idref" href="#cs:380"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0eef96af381f17f7f134619cb322a94f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:377"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:377"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:377"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:377"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:376"><span class="id" title="variable">ind</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:377"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a>)))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#sorts_local_ctx"><span class="id" title="definition">sorts_local_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0eef96af381f17f7f134619cb322a94f"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:377"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:377"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:380"><span class="id" title="variable">cs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:379"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)<a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="isRel_n" class="idref" href="#isRel_n"><span class="id" title="definition">isRel_n</span></a> <a id="n:381" class="idref" href="#n:381"><span class="id" title="binder">n</span></a> (<a id="t:382" class="idref" href="#t:382"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:382"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:381"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:382"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">k</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">k</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:381"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "De-bruijn error") <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "isRel_n: not a variable")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> : <span class="id" title="keyword">Prop</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="decompose_cstr_concl" class="idref" href="#decompose_cstr_concl"><span class="id" title="definition">decompose_cstr_concl</span></a> <a id="mdecl:384" class="idref" href="#mdecl:384"><span class="id" title="binder">mdecl</span></a> (<a id="k:385" class="idref" href="#k:385"><span class="id" title="binder">k</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="argctx:386" class="idref" href="#argctx:386"><span class="id" title="binder">argctx</span></a> (<a id="t:387" class="idref" href="#t:387"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="args:388" class="idref" href="#args:388"><span class="id" title="binder">args</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:387"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:384"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:385"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:384"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#argctx:386"><span class="id" title="variable">argctx</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:388"><span class="id" title="variable">args</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">args</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:387"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqr:389" class="idref" href="#eqr:389"><span class="id" title="binder">eqr</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#isRel_n"><span class="id" title="definition">isRel_n</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:384"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:385"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:384"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#argctx:386"><span class="id" title="variable">argctx</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">hd</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">args</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decompose_prod_n_assum_inv" class="idref" href="#decompose_prod_n_assum_inv"><span class="id" title="lemma">decompose_prod_n_assum_inv</span></a> <a id="ctx:390" class="idref" href="#ctx:390"><span class="id" title="binder">ctx</span></a> <a id="n:391" class="idref" href="#n:391"><span class="id" title="binder">n</span></a> <a id="t:392" class="idref" href="#t:392"><span class="id" title="binder">t</span></a> <a id="ctx':393" class="idref" href="#ctx':393"><span class="id" title="binder">ctx'</span></a> <a id="t':394" class="idref" href="#t':394"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_n_assum"><span class="id" title="definition">decompose_prod_n_assum</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx:390"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:391"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:392"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx':393"><span class="id" title="variable">ctx'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t':394"><span class="id" title="variable">t'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx:390"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:392"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx':393"><span class="id" title="variable">ctx'</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t':394"><span class="id" title="variable">t'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>, <span class="id" title="var">ctx</span>, <span class="id" title="var">ctx'</span>, <span class="id" title="var">t'</span> |- *; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= -&gt;]. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wf_ind_type" class="idref" href="#wf_ind_type"><span class="id" title="definition">wf_ind_type</span></a> (<a id="1e24e7152261d468661675fc16067a6e" class="idref" href="#1e24e7152261d468661675fc16067a6e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="mdecl:396" class="idref" href="#mdecl:396"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) (<a id="idecl:397" class="idref" href="#idecl:397"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1e24e7152261d468661675fc16067a6e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:397"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:397"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:396"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:397"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:397"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a>))) <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#isSortRel"><span class="id" title="abbreviation">isSortRel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:397"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:397"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wf_ind_types" class="idref" href="#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> (<a id="bea479a28ecde8afeb6fbc98a7185f43" class="idref" href="#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="mdecl:399" class="idref" href="#mdecl:399"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_type"><span class="id" title="definition">wf_ind_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bea479a28ecde8afeb6fbc98a7185f43"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:399"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:399"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_ind_types_wf_arities" class="idref" href="#wf_ind_types_wf_arities"><span class="id" title="lemma">wf_ind_types_wf_arities</span></a> (<a id="c702da9f6d180f74783bcbe18fb750f9" class="idref" href="#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="wfX:401" class="idref" href="#wfX:401"><span class="id" title="binder">wfX</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="variable">Σ</span></a>) <a id="mdecl:402" class="idref" href="#mdecl:402"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:402"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c702da9f6d180f74783bcbe18fb750f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:402"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">isty</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isTypeRel"><span class="id" title="definition">isTypeRel</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MetaRocq.Common.BasicAst.html#Relevant"><span class="id" title="constructor">Relevant</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">c</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span> |- *; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#ind_arity_relevant"><span class="id" title="lemma">PCUICInductiveInversion.ind_arity_relevant</span></a> ⇒ //).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#rev_map_cons"><span class="id" title="lemma">rev_map_cons</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app"><span class="id" title="lemma">All_local_env_app</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_impl"><span class="id" title="lemma">All_local_env_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing_impl"><span class="id" title="lemma">lift_typing_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">Hj</span>) ⇒ <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_ctx"><span class="id" title="lemma">weaken_ctx</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_constructor" class="idref" href="#check_constructor"><span class="id" title="definition">check_constructor</span></a> <a id="X_ext:403" class="idref" href="#X_ext:403"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:405" class="idref" href="#normalization_in:405"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="417735c1fbfc2982e5d08bac93a482a0" class="idref" href="#417735c1fbfc2982e5d08bac93a482a0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#417735c1fbfc2982e5d08bac93a482a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#417735c1fbfc2982e5d08bac93a482a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#417735c1fbfc2982e5d08bac93a482a0"><span class="id" title="variable">Σ</span></a>} (<a id="ind:406" class="idref" href="#ind:406"><span class="id" title="binder">ind</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="mdecl:407" class="idref" href="#mdecl:407"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfar:409" class="idref" href="#wfar:409"><span class="id" title="binder">wfar</span></a> : <span class="id" title="keyword">∀</span> <a id="883366d2886dc1e3b90dedb8e8e5156e" class="idref" href="#883366d2886dc1e3b90dedb8e8e5156e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#883366d2886dc1e3b90dedb8e8e5156e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#883366d2886dc1e3b90dedb8e8e5156e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfpars:411" class="idref" href="#wfpars:411"><span class="id" title="binder">wfpars</span></a> : <span class="id" title="keyword">∀</span> <a id="b85ef768ceb39cd19ad44a9d09da09c0" class="idref" href="#b85ef768ceb39cd19ad44a9d09da09c0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b85ef768ceb39cd19ad44a9d09da09c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b85ef768ceb39cd19ad44a9d09da09c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="idecl:412" class="idref" href="#idecl:412"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) (<a id="cdecl:413" class="idref" href="#cdecl:413"><span class="id" title="binder">cdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="cs:414" class="idref" href="#cs:414"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="f330aa792ad4e8f5fdf1f36205d8b814" class="idref" href="#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructor_spec"><span class="id" title="definition">check_constructor_spec</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:406"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:412"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:414"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Hs:416" class="idref" href="#Hs:416"><span class="id" title="binder">Hs</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> ("While checking type of constructor: " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_judgment_wf_env"><span class="id" title="definition">check_judgment_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)) <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.Common.BasicAst.html#Typ"><span class="id" title="abbreviation">Typ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a>)) <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_n_assum"><span class="id" title="definition">decompose_prod_n_assum</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">params</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">concl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqpars:417" class="idref" href="#eqpars:417"><span class="id" title="binder">eqpars</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">params</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Constructor parameters do not match the parameters of the mutual declaration"))<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">args</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">concl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">concl</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqarglen:418" class="idref" href="#eqarglen:418"><span class="id" title="binder">eqarglen</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">args</span>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Constructor arguments do not match the argument number of the declaration"))<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqarglen:419" class="idref" href="#eqarglen:419"><span class="id" title="binder">eqarglen</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">args</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Constructor arguments do not match the arguments of the declaration"))<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:422" class="idref" href="#pat:422"><span class="id" title="binder">(</span></a><a id="conclargs:421" class="idref" href="#conclargs:421"><span class="id" title="binder"><span id="pat:422" class="id">conclargs</span></span></a><a id="pat:422" class="idref" href="#pat:422"><span class="id" title="binder">;</span></a> <a id="Hargs:420" class="idref" href="#Hargs:420"><span class="id" title="binder"><span id="pat:422" class="id">Hargs</span></span></a><a id="pat:422" class="idref" href="#pat:422"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decompose_cstr_concl"><span class="id" title="definition">decompose_cstr_concl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:406"><span class="id" title="variable">ind</span></a> <span class="id" title="var">args</span> <span class="id" title="var">concl</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqbpars:423" class="idref" href="#eqbpars:423"><span class="id" title="binder">eqbpars</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#conclargs:421"><span class="id" title="variable">conclargs</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">args</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Parameters in the conclusion of the constructor type do not match the inductive parameters")) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqbindices:424" class="idref" href="#eqbindices:424"><span class="id" title="binder">eqbindices</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#conclargs:421"><span class="id" title="variable">conclargs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Indices in the conclusion of the constructor type do not match the indices of the declaration")) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:427" class="idref" href="#pat:427"><span class="id" title="binder">(</span></a><a id="cs:426" class="idref" href="#cs:426"><span class="id" title="binder"><span id="pat:427" class="id">cs</span></span></a><a id="pat:427" class="idref" href="#pat:427"><span class="id" title="binder">;</span></a> <a id="Hcs:425" class="idref" href="#Hcs:425"><span class="id" title="binder"><span id="pat:427" class="id">Hcs</span></span></a><a id="pat:427" class="idref" href="#pat:427"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_sorts_local_ctx"><span class="id" title="definition">infer_sorts_local_ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:407"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>)) <span class="id" title="var">args</span> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:426"><span class="id" title="variable">cs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="keyword">fun</span> <a id="8f073f6983a94d14bff5f6d1a60cb488" class="idref" href="#8f073f6983a94d14bff5f6d1a60cb488"><span class="id" title="binder">Σ</span></a> <a id="71dcc638b887b4ce76c029dddf61ac98" class="idref" href="#71dcc638b887b4ce76c029dddf61ac98"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:403"><span class="id" title="variable">X_ext</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:413"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Not enough parameters in constructor type")<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types_wf_arities"><span class="id" title="lemma">wf_ind_types_wf_arities</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types_wf_arities"><span class="id" title="lemma">wf_ind_types_wf_arities</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_wf_local"><span class="id" title="lemma">weaken_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decompose_prod_n_assum_inv"><span class="id" title="lemma">decompose_prod_n_assum_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">params</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)) ⇒ //. <span class="id" title="tactic">subst</span> <span class="id" title="var">params</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">args</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <span class="id" title="var">cdecl</span>)) ⇒ //. <span class="id" title="tactic">subst</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqarglen0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqbindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqbpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#decompose_prod_assum_it_mkProd_or_LetIn"><span class="id" title="lemma">PCUICSubstitution.decompose_prod_assum_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">concl0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_anonymous0</span>. <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">x0</span>); <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="All_sigma" class="idref" href="#All_sigma"><span class="id" title="definition">All_sigma</span></a> {<a id="A:430" class="idref" href="#A:430"><span class="id" title="binder">A</span></a> <a id="B:431" class="idref" href="#B:431"><span class="id" title="binder">B</span></a>} {<a id="P:432" class="idref" href="#P:432"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:430"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#B:431"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="l:433" class="idref" href="#l:433"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:430"><span class="id" title="variable">A</span></a>} (<a id="a:436" class="idref" href="#a:436"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:434" class="idref" href="#x:434"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="y:435" class="idref" href="#y:435"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#B:431"><span class="id" title="variable">B</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#P:432"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:434"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:435"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:433"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="l':437" class="idref" href="#l':437"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#B:431"><span class="id" title="variable">B</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#P:432"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:433"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':437"><span class="id" title="variable">l'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a:436"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_nil"><span class="id" title="constructor">All_nil</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nil"><span class="id" title="constructor">All2_nil</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_cons"><span class="id" title="constructor">All_cons</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">px</span> <span class="id" title="var">pl</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">l'</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">pl'</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#All_sigma:438"><span class="id" title="definition">All_sigma</span></a> <span class="id" title="var">pl</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">((</span></a><span class="id" title="var">px</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">);</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_cons"><span class="id" title="constructor">All2_cons</span></a> <span class="id" title="var">px</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a> <span class="id" title="var">pl'</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="All2_sq" class="idref" href="#All2_sq"><span class="id" title="definition">All2_sq</span></a> {<a id="A:440" class="idref" href="#A:440"><span class="id" title="binder">A</span></a> <a id="B:441" class="idref" href="#B:441"><span class="id" title="binder">B</span></a> <a id="AA:442" class="idref" href="#AA:442"><span class="id" title="binder">AA</span></a> <a id="BB:443" class="idref" href="#BB:443"><span class="id" title="binder">BB</span></a>} {<a id="P:445" class="idref" href="#P:445"><span class="id" title="binder">P</span></a> : <span class="id" title="keyword">∀</span> (<a id="a:444" class="idref" href="#a:444"><span class="id" title="binder">a</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:442"><span class="id" title="variable">AA</span></a>), <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#BB:443"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a:444"><span class="id" title="variable">a</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:440"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#B:441"><span class="id" title="variable">B</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="l:446" class="idref" href="#l:446"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:440"><span class="id" title="variable">A</span></a>} {<a id="l':447" class="idref" href="#l':447"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#B:441"><span class="id" title="variable">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:452" class="idref" href="#a:452"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:448" class="idref" href="#x:448"><span class="id" title="binder">x</span></a> <a id="y:449" class="idref" href="#y:449"><span class="id" title="binder">y</span></a> ⇒ <span class="id" title="keyword">∀</span> (<a id="aa:450" class="idref" href="#aa:450"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:442"><span class="id" title="variable">AA</span></a>) (<a id="bb:451" class="idref" href="#bb:451"><span class="id" title="binder">bb</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#BB:443"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:450"><span class="id" title="variable">aa</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#P:445"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:450"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:451"><span class="id" title="variable">bb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:448"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#y:449"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:446"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':447"><span class="id" title="variable">l'</span></a>) (<a id="aa:453" class="idref" href="#aa:453"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:442"><span class="id" title="variable">AA</span></a>) (<a id="bb:454" class="idref" href="#bb:454"><span class="id" title="binder">bb</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#BB:443"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:453"><span class="id" title="variable">aa</span></a>) : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#P:445"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:453"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:454"><span class="id" title="variable">bb</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:446"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':447"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a:452"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nil"><span class="id" title="constructor">All2_nil</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_nil"><span class="id" title="constructor">All2_nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_cons"><span class="id" title="constructor">All2_cons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rxy</span> <span class="id" title="var">all'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <span class="id" title="var">all</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#All2_sq:455"><span class="id" title="definition">All2_sq</span></a> <span class="id" title="var">all'</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:453"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:454"><span class="id" title="variable">bb</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <span class="id" title="var">rxy</span> := <span class="id" title="var">rxy</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:453"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:454"><span class="id" title="variable">bb</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> (<a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_cons"><span class="id" title="constructor">All2_cons</span></a> <span class="id" title="var">rxy</span> <span class="id" title="var">all</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_constructors_univs" class="idref" href="#check_constructors_univs"><span class="id" title="definition">check_constructors_univs</span></a> <a id="X_ext:457" class="idref" href="#X_ext:457"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:459" class="idref" href="#normalization_in:459"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="494438b50dc84aa985165855a021ed3e" class="idref" href="#494438b50dc84aa985165855a021ed3e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#494438b50dc84aa985165855a021ed3e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#494438b50dc84aa985165855a021ed3e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:457"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#494438b50dc84aa985165855a021ed3e"><span class="id" title="variable">Σ</span></a>} (<a id="id:460" class="idref" href="#id:460"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>) (<a id="mdecl:461" class="idref" href="#mdecl:461"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfar:463" class="idref" href="#wfar:463"><span class="id" title="binder">wfar</span></a> : <span class="id" title="keyword">∀</span> <a id="5b8db97ecd7d1f3a0ccfaee058fc6d87" class="idref" href="#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:457"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:461"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfpars:465" class="idref" href="#wfpars:465"><span class="id" title="binder">wfpars</span></a> : <span class="id" title="keyword">∀</span> <a id="c68c3fed5433dda5f85f29358e8f75d7" class="idref" href="#c68c3fed5433dda5f85f29358e8f75d7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:457"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c68c3fed5433dda5f85f29358e8f75d7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c68c3fed5433dda5f85f29358e8f75d7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:461"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ind:466" class="idref" href="#ind:466"><span class="id" title="binder">ind</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:467" class="idref" href="#idecl:467"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="cstrs:468" class="idref" href="#cstrs:468"><span class="id" title="binder">cstrs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="cs:469" class="idref" href="#cs:469"><span class="id" title="binder">cs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="e8dd90993f2f71151050fcaf1974a0b2" class="idref" href="#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:457"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="cstr:471" class="idref" href="#cstr:471"><span class="id" title="binder">cstr</span></a> <a id="cs:472" class="idref" href="#cs:472"><span class="id" title="binder">cs</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructor_spec"><span class="id" title="definition">check_constructor_spec</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e8dd90993f2f71151050fcaf1974a0b2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:466"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:461"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:467"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstr:471"><span class="id" title="variable">cstr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:472"><span class="id" title="variable">cs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:468"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:469"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="css:474" class="idref" href="#css:474"><span class="id" title="binder">css</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#monad_All"><span class="id" title="definition">monad_All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:473" class="idref" href="#d:473"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructor"><span class="id" title="definition">check_constructor</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:457"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:466"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:461"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfar:463"><span class="id" title="variable">wfar</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfpars:465"><span class="id" title="variable">wfpars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:467"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:473"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:468"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">cs</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">all2</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#All_sigma"><span class="id" title="definition">All_sigma</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#css:474"><span class="id" title="variable">css</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">cs</span> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="keyword">fun</span> <a id="00d8123a707be1dacdbfa1e10724abd7" class="idref" href="#00d8123a707be1dacdbfa1e10724abd7"><span class="id" title="binder">Σ</span></a> <a id="96675cb4076f6fe10e20f483577d52c9" class="idref" href="#96675cb4076f6fe10e20f483577d52c9"><span class="id" title="binder">wfΣ</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#All2_sq"><span class="id" title="definition">All2_sq</span></a> <span class="id" title="var">all2</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#00d8123a707be1dacdbfa1e10724abd7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#96675cb4076f6fe10e20f483577d52c9"><span class="id" title="variable">wfΣ</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isType_it_mkProd_or_LetIn_inv" class="idref" href="#isType_it_mkProd_or_LetIn_inv"><span class="id" title="lemma">isType_it_mkProd_or_LetIn_inv</span></a> {<a id="7d035d716cf98a52dc7e4907482920eb" class="idref" href="#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} <a id="51186e59ea6cdee7bcac548d2f9f8964" class="idref" href="#51186e59ea6cdee7bcac548d2f9f8964"><span class="id" title="binder">Γ</span></a> <a id="c54dbf1d024a8ed63965c66cc104bf34" class="idref" href="#c54dbf1d024a8ed63965c66cc104bf34"><span class="id" title="binder">Δ</span></a> <a id="T:480" class="idref" href="#T:480"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#51186e59ea6cdee7bcac548d2f9f8964"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c54dbf1d024a8ed63965c66cc104bf34"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:480"><span class="id" title="variable">T</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#51186e59ea6cdee7bcac548d2f9f8964"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c54dbf1d024a8ed63965c66cc104bf34"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:480"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">wfX</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_sorting_it_impl_gen"><span class="id" title="lemma">lift_sorting_it_impl_gen</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> ⇒ // <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#inversion_it_mkProd_or_LetIn"><span class="id" title="lemma">PCUICSpine.inversion_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isType_mkApps_inv" class="idref" href="#isType_mkApps_inv"><span class="id" title="lemma">isType_mkApps_inv</span></a> {<a id="d4a09f753eb4040a0bedd7b41f728ced" class="idref" href="#d4a09f753eb4040a0bedd7b41f728ced"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} (<a id="f241921031fdc7e4a755a68238e1e63b" class="idref" href="#f241921031fdc7e4a755a68238e1e63b"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d4a09f753eb4040a0bedd7b41f728ced"><span class="id" title="variable">Σ</span></a>) <a id="576e660459f92b1931085fcd60aa76dc" class="idref" href="#576e660459f92b1931085fcd60aa76dc"><span class="id" title="binder">Γ</span></a> <a id="f:484" class="idref" href="#f:484"><span class="id" title="binder">f</span></a> <a id="args:485" class="idref" href="#args:485"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d4a09f753eb4040a0bedd7b41f728ced"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#576e660459f92b1931085fcd60aa76dc"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:484"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:485"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="fty:486" class="idref" href="#fty:486"><span class="id" title="binder">fty</span></a> <a id="s:487" class="idref" href="#s:487"><span class="id" title="binder">s</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d4a09f753eb4040a0bedd7b41f728ced"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#576e660459f92b1931085fcd60aa76dc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:484"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fty:486"><span class="id" title="variable">fty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d4a09f753eb4040a0bedd7b41f728ced"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#576e660459f92b1931085fcd60aa76dc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fty:486"><span class="id" title="variable">fty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:485"><span class="id" title="variable">args</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:487"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">fty</span> [<span class="id" title="var">Hf</span> <span class="id" title="var">Hargs</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">fty</span>, <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="smash_telescope" class="idref" href="#smash_telescope"><span class="id" title="definition">smash_telescope</span></a> <a id="acc:488" class="idref" href="#acc:488"><span class="id" title="binder">acc</span></a> <a id="33f85ed2e1f35df463c12b79297b839d" class="idref" href="#33f85ed2e1f35df463c12b79297b839d"><span class="id" title="binder">Γ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#acc:488"><span class="id" title="variable">acc</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#33f85ed2e1f35df463c12b79297b839d"><span class="id" title="variable">Γ</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ctx_inst_smash" class="idref" href="#ctx_inst_smash"><span class="id" title="lemma">ctx_inst_smash</span></a> {<a id="4873e77f1362cf139e171ac9a5970f68" class="idref" href="#4873e77f1362cf139e171ac9a5970f68"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} (<a id="ca6a46f549f84a25e2462bdf9972ab53" class="idref" href="#ca6a46f549f84a25e2462bdf9972ab53"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4873e77f1362cf139e171ac9a5970f68"><span class="id" title="variable">Σ</span></a>) (<a id="7f56bd90965bad2b6d2730cb967a737e" class="idref" href="#7f56bd90965bad2b6d2730cb967a737e"><span class="id" title="binder">Γ</span></a> <a id="03c97896bc23e7ca8404abc91cccab85" class="idref" href="#03c97896bc23e7ca8404abc91cccab85"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) <a id="args:494" class="idref" href="#args:494"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#ctx_inst"><span class="id" title="abbreviation">ctx_inst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4873e77f1362cf139e171ac9a5970f68"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7f56bd90965bad2b6d2730cb967a737e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:494"><span class="id" title="variable">args</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#smash_telescope"><span class="id" title="definition">smash_telescope</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#03c97896bc23e7ca8404abc91cccab85"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#ctx_inst"><span class="id" title="abbreviation">ctx_inst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4873e77f1362cf139e171ac9a5970f68"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7f56bd90965bad2b6d2730cb967a737e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:494"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#03c97896bc23e7ca8404abc91cccab85"><span class="id" title="variable">Δ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#smash_telescope"><span class="id" title="definition">smash_telescope</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#ctx_inst_smash"><span class="id" title="lemma">ctx_inst_smash</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typing_spine_it_mkProd_or_LetIn_inv" class="idref" href="#typing_spine_it_mkProd_or_LetIn_inv"><span class="id" title="lemma">typing_spine_it_mkProd_or_LetIn_inv</span></a> {<a id="17e2272ab2871977f598b14afe715f03" class="idref" href="#17e2272ab2871977f598b14afe715f03"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="wfX:496" class="idref" href="#wfX:496"><span class="id" title="binder">wfX</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#17e2272ab2871977f598b14afe715f03"><span class="id" title="variable">Σ</span></a>} {<a id="09f7fd56a98d7e1b2ad0abc63d6ab926" class="idref" href="#09f7fd56a98d7e1b2ad0abc63d6ab926"><span class="id" title="binder">Γ</span></a> <a id="ba40ec670d7a28e2950c01a44c0304a8" class="idref" href="#ba40ec670d7a28e2950c01a44c0304a8"><span class="id" title="binder">Δ</span></a> <a id="s:499" class="idref" href="#s:499"><span class="id" title="binder">s</span></a> <a id="args:500" class="idref" href="#args:500"><span class="id" title="binder">args</span></a> <a id="s':501" class="idref" href="#s':501"><span class="id" title="binder">s'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#17e2272ab2871977f598b14afe715f03"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#09f7fd56a98d7e1b2ad0abc63d6ab926"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ba40ec670d7a28e2950c01a44c0304a8"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#17e2272ab2871977f598b14afe715f03"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#09f7fd56a98d7e1b2ad0abc63d6ab926"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ba40ec670d7a28e2950c01a44c0304a8"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:499"><span class="id" title="variable">s</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:500"><span class="id" title="variable">args</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':501"><span class="id" title="variable">s'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#ctx_inst"><span class="id" title="abbreviation">ctx_inst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#17e2272ab2871977f598b14afe715f03"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#09f7fd56a98d7e1b2ad0abc63d6ab926"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:500"><span class="id" title="variable">args</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ba40ec670d7a28e2950c01a44c0304a8"><span class="id" title="variable">Δ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#wf_local_smash_end"><span class="id" title="lemma">wf_local_smash_end</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>). <span class="id" title="tactic">clear</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICClassification.html#typing_spine_smash"><span class="id" title="lemma">PCUICClassification.typing_spine_smash</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx_inst_smash"><span class="id" title="lemma">ctx_inst_smash</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#smash_telescope"><span class="id" title="definition">smash_telescope</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (@<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#smash_context_assumption_context"><span class="id" title="lemma">smash_context_assumption_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">Δ</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context_nil"><span class="id" title="constructor">assumption_context_nil</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">Δ</span>) ⇒ {}<span class="id" title="var">Δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#ctx_length_rev_ind"><span class="id" title="lemma">PCUICInduction.ctx_length_rev_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>, <span class="id" title="var">s'</span>, <span class="id" title="var">args</span> |- *; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ass</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">dependent</span> <span class="id" title="var">elimination</span> <span class="id" title="var">sp</span> <span class="id" title="keyword">as</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#spnil"><span class="id" title="abbreviation">spnil</span></a> <span class="id" title="var">isty</span> <span class="id" title="var">isty'</span> <span class="id" title="var">e</span>|<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#spcons"><span class="id" title="abbreviation">spcons</span></a> <span class="id" title="var">isty</span> <span class="id" title="var">isty'</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">cum</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_Sort_Prod_inv"><span class="id" title="lemma">ws_cumul_pb_Sort_Prod_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#assumption_context_app"><span class="id" title="lemma">assumption_context_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ass</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ass</span> <span class="id" title="var">assd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">assd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_Prod_Sort_inv"><span class="id" title="lemma">ws_cumul_pb_Prod_Sort_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#assumption_context_app"><span class="id" title="lemma">assumption_context_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ass</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ass</span> <span class="id" title="var">assd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na'</span> [<span class="id" title="var">b'</span>|] <span class="id" title="var">ty'</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">assd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_Prod_Prod_inv"><span class="id" title="lemma">ws_cumul_pb_Prod_Prod_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eqann</span> <span class="id" title="var">eqdom</span> <span class="id" title="var">codom</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_app_distr"><span class="id" title="lemma">List.rev_app_distr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app_inv"><span class="id" title="definition">All_local_env_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΓ</span> <span class="id" title="var">wfr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app_inv"><span class="id" title="definition">All_local_env_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfd</span> <span class="id" title="var">wfΓ0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">wfd</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#type_ws_cumul_pb"><span class="id" title="lemma">type_ws_cumul_pb</span></a>; <span class="id" title="var">pcuic</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_eq_le"><span class="id" title="lemma">ws_cumul_pb_eq_le</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#subst_telescope_subst_context"><span class="id" title="lemma">subst_telescope_subst_context</span></a>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">tyhd</span> : <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <span class="id" title="var">hd0</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <span class="id" title="var">ty'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#type_ws_cumul_pb"><span class="id" title="lemma">type_ws_cumul_pb</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#isType_tProd"><span class="id" title="lemma">isType_tProd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pcuic</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_eq_le"><span class="id" title="lemma">ws_cumul_pb_eq_le</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#substitution_wf_local"><span class="id" title="lemma">substitution_wf_local</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#subslet_ass_tip"><span class="id" title="lemma">subslet_ass_tip</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#typing_spine_strengthen"><span class="id" title="lemma">typing_spine_strengthen</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#isType_apply"><span class="id" title="lemma">isType_apply</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#subst_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#substitution0_ws_cumul_pb"><span class="id" title="lemma">substitution0_ws_cumul_pb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">codom</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#subst_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">codom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typing_spine_letin_inv'" class="idref" href="#typing_spine_letin_inv'"><span class="id" title="lemma">typing_spine_letin_inv'</span></a> {<a id="e8292662582b6b480577e9f87376becd" class="idref" href="#e8292662582b6b480577e9f87376becd"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="wfX:503" class="idref" href="#wfX:503"><span class="id" title="binder">wfX</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e8292662582b6b480577e9f87376becd"><span class="id" title="variable">Σ</span></a>} {<a id="01b4c0cc883c3b2155a2c3c40b2d68e4" class="idref" href="#01b4c0cc883c3b2155a2c3c40b2d68e4"><span class="id" title="binder">Γ</span></a> <a id="na:505" class="idref" href="#na:505"><span class="id" title="binder">na</span></a> <a id="b:506" class="idref" href="#b:506"><span class="id" title="binder">b</span></a> <a id="ty:507" class="idref" href="#ty:507"><span class="id" title="binder">ty</span></a> <a id="836b079abe60d8bc67f2703e11730d46" class="idref" href="#836b079abe60d8bc67f2703e11730d46"><span class="id" title="binder">Δ</span></a> <a id="T:509" class="idref" href="#T:509"><span class="id" title="binder">T</span></a> <a id="args:510" class="idref" href="#args:510"><span class="id" title="binder">args</span></a> <a id="T':511" class="idref" href="#T':511"><span class="id" title="binder">T'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="decl:512" class="idref" href="#decl:512"><span class="id" title="binder">decl</span></a> := {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:505"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:506"><span class="id" title="variable">b</span></a>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:507"><span class="id" title="variable">ty</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e8292662582b6b480577e9f87376becd"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#01b4c0cc883c3b2155a2c3c40b2d68e4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:512"><span class="id" title="variable">decl</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:509"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e8292662582b6b480577e9f87376becd"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#01b4c0cc883c3b2155a2c3c40b2d68e4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:512"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#836b079abe60d8bc67f2703e11730d46"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#836b079abe60d8bc67f2703e11730d46"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:512"><span class="id" title="variable">decl</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#836b079abe60d8bc67f2703e11730d46"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) 1 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:509"><span class="id" title="variable">T</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:510"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T':511"><span class="id" title="variable">T'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e8292662582b6b480577e9f87376becd"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#01b4c0cc883c3b2155a2c3c40b2d68e4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:512"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#836b079abe60d8bc67f2703e11730d46"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#836b079abe60d8bc67f2703e11730d46"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:509"><span class="id" title="variable">T</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:510"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T':511"><span class="id" title="variable">T'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decl</span>  <span class="id" title="var">isty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine_isType_dom"><span class="id" title="lemma">typing_spine_isType_dom</span></a> <span class="id" title="var">sp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">isty'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#typing_spine_strengthen"><span class="id" title="lemma">typing_spine_strengthen</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#isType_lift"><span class="id" title="lemma">isType_lift</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">len</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#skipn_all_app"><span class="id" title="lemma">skipn_all_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_eq_le"><span class="id" title="lemma">ws_cumul_pb_eq_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#red_conv"><span class="id" title="lemma">red_conv</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a>, <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#wf_local_closed_context"><span class="id" title="lemma">wf_local_closed_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#isType_is_open_term"><span class="id" title="lemma">isType_is_open_term</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#distr_lift_subst"><span class="id" title="lemma">distr_lift_subst</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) 0). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>. <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#red_expand_let"><span class="id" title="lemma">red_expand_let</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a> <span class="id" title="var">isty</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#weakening_ws_cumul_pb"><span class="id" title="lemma">weakening_ws_cumul_pb</span></a> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <span class="id" title="var">decl</span>) (<span class="id" title="var">Γ'</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<span class="id" title="var">Γ''</span> := <span class="id" title="var">Δ</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#red_conv"><span class="id" title="lemma">red_conv</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="var">fvs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a>, <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#wf_local_closed_context"><span class="id" title="lemma">wf_local_closed_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty'</span>. <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#simpl_lift"><span class="id" title="lemma">simpl_lift</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_refl"><span class="id" title="lemma">ws_cumul_pb_refl</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty'</span>. <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift0"><span class="id" title="lemma">on_free_vars_lift0</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>). 2:<span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">isty</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">l0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>. <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#isType_is_open_term"><span class="id" title="lemma">isType_is_open_term</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isty</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typing_spine_prod_inv" class="idref" href="#typing_spine_prod_inv"><span class="id" title="lemma">typing_spine_prod_inv</span></a> {<a id="07f9e31256a5781a10cab4fe519c351f" class="idref" href="#07f9e31256a5781a10cab4fe519c351f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="wfX:514" class="idref" href="#wfX:514"><span class="id" title="binder">wfX</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#07f9e31256a5781a10cab4fe519c351f"><span class="id" title="variable">Σ</span></a>} {<a id="9c5f0eedb105eec8886a98d426a8c68f" class="idref" href="#9c5f0eedb105eec8886a98d426a8c68f"><span class="id" title="binder">Γ</span></a> <a id="na:516" class="idref" href="#na:516"><span class="id" title="binder">na</span></a> <a id="ty:517" class="idref" href="#ty:517"><span class="id" title="binder">ty</span></a> <a id="b762921cb52b0211fbcef4cc7bb97a8e" class="idref" href="#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="binder">Δ</span></a> <a id="T:519" class="idref" href="#T:519"><span class="id" title="binder">T</span></a> <a id="args:520" class="idref" href="#args:520"><span class="id" title="binder">args</span></a> <a id="T':521" class="idref" href="#T':521"><span class="id" title="binder">T'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="decl:522" class="idref" href="#decl:522"><span class="id" title="binder">decl</span></a> := {| <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:516"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:517"><span class="id" title="variable">ty</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#07f9e31256a5781a10cab4fe519c351f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9c5f0eedb105eec8886a98d426a8c68f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:522"><span class="id" title="variable">decl</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:519"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#07f9e31256a5781a10cab4fe519c351f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9c5f0eedb105eec8886a98d426a8c68f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:522"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:522"><span class="id" title="variable">decl</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) 1 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:519"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:520"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T':521"><span class="id" title="variable">T'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#07f9e31256a5781a10cab4fe519c351f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9c5f0eedb105eec8886a98d426a8c68f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decl:522"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:519"><span class="id" title="variable">T</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:520"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T':521"><span class="id" title="variable">T'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="var">elimination</span> <span class="id" title="var">sp</span> <span class="id" title="keyword">as</span> [<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#spcons"><span class="id" title="abbreviation">spcons</span></a> <span class="id" title="var">isty</span> <span class="id" title="var">isty'</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">cum</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">istyl</span> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <span class="id" title="var">decl</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Δ</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#isType_lift"><span class="id" title="lemma">isType_lift</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">len</span>. <span class="id" title="var">pcuic</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#skipn_all_app"><span class="id" title="lemma">skipn_all_app</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#typing_spine_strengthen"><span class="id" title="lemma">typing_spine_strengthen</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#ws_cumul_pb_Prod_Prod_inv"><span class="id" title="lemma">ws_cumul_pb_Prod_Prod_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eqann</span> <span class="id" title="var">eqdom</span> <span class="id" title="var">eqcodom</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#substitution0_ws_cumul_pb"><span class="id" title="lemma">substitution0_ws_cumul_pb</span></a> (<span class="id" title="var">t</span>:=<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">eqcodom</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> 0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). 2:<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#simpl_lift"><span class="id" title="lemma">simpl_lift</span></a> <span class="id" title="var">T</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 1); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> 1 <span class="id" title="keyword">with</span> (0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> 0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#distr_lift_subst_rec"><span class="id" title="lemma">distr_lift_subst_rec</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#subst_rel0_lift_id"><span class="id" title="lemma">subst_rel0_lift_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContextConversion.html#ws_cumul_pb_eq_le"><span class="id" title="lemma">ws_cumul_pb_eq_le</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICWellScopedCumulativity.html#isType_ws_cumul_pb_refl"><span class="id" title="lemma">isType_ws_cumul_pb_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Non-trivial lemma:
    this shows that instantiating a product/let-in type with the identity substitution on some
    sub-context of the current context is the same as typechecking the remainder of the
    type approapriately lifted to directly refer to the variables in the subcontext.
    This is a quite common operation in tactics. Making this work up-to unfolding of
    let-ins is the tricky part.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typing_spine_it_mkProd_or_LetIn_ext_list_inv_gen" class="idref" href="#typing_spine_it_mkProd_or_LetIn_ext_list_inv_gen"><span class="id" title="lemma">typing_spine_it_mkProd_or_LetIn_ext_list_inv_gen</span></a> {<a id="4fc98306f9bcfdf5c588de7f850980db" class="idref" href="#4fc98306f9bcfdf5c588de7f850980db"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="wfX:524" class="idref" href="#wfX:524"><span class="id" title="binder">wfX</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4fc98306f9bcfdf5c588de7f850980db"><span class="id" title="variable">Σ</span></a>} {<a id="49fb497bd976a06066dce00386eb98c1" class="idref" href="#49fb497bd976a06066dce00386eb98c1"><span class="id" title="binder">Γ</span></a> <a id="5fc2b520a9759aefd55d4a06bcd68f0e" class="idref" href="#5fc2b520a9759aefd55d4a06bcd68f0e"><span class="id" title="binder">Δ</span></a> <a id="7c305d62219ff1f07cc5550d130170a5" class="idref" href="#7c305d62219ff1f07cc5550d130170a5"><span class="id" title="binder">Δ'</span></a> <a id="426ed55443b81dcc4aa96ab059ee957a" class="idref" href="#426ed55443b81dcc4aa96ab059ee957a"><span class="id" title="binder">Δ''</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="s:529" class="idref" href="#s:529"><span class="id" title="binder">s</span></a> <a id="args:530" class="idref" href="#args:530"><span class="id" title="binder">args</span></a> <a id="s':531" class="idref" href="#s':531"><span class="id" title="binder">s'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4fc98306f9bcfdf5c588de7f850980db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#49fb497bd976a06066dce00386eb98c1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5fc2b520a9759aefd55d4a06bcd68f0e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#426ed55443b81dcc4aa96ab059ee957a"><span class="id" title="variable">Δ''</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4fc98306f9bcfdf5c588de7f850980db"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#49fb497bd976a06066dce00386eb98c1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5fc2b520a9759aefd55d4a06bcd68f0e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7c305d62219ff1f07cc5550d130170a5"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5fc2b520a9759aefd55d4a06bcd68f0e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7c305d62219ff1f07cc5550d130170a5"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5fc2b520a9759aefd55d4a06bcd68f0e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#426ed55443b81dcc4aa96ab059ee957a"><span class="id" title="variable">Δ''</span></a>)) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:529"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5fc2b520a9759aefd55d4a06bcd68f0e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7c305d62219ff1f07cc5550d130170a5"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:530"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':531"><span class="id" title="variable">s'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4fc98306f9bcfdf5c588de7f850980db"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#49fb497bd976a06066dce00386eb98c1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5fc2b520a9759aefd55d4a06bcd68f0e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7c305d62219ff1f07cc5550d130170a5"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7c305d62219ff1f07cc5550d130170a5"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#426ed55443b81dcc4aa96ab059ee957a"><span class="id" title="variable">Δ''</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:529"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:530"><span class="id" title="variable">args</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':531"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#ctx_length_rev_ind"><span class="id" title="lemma">PCUICInduction.ctx_length_rev_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span>, <span class="id" title="var">s</span>, <span class="id" title="var">s'</span>, <span class="id" title="var">args</span>, <span class="id" title="var">Δ'</span> |- *; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">set</span> (<span class="id" title="var">decl</span> := <span class="id" title="var">d</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine_isType_dom"><span class="id" title="lemma">typing_spine_isType_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#isType_it_mkProd_or_LetIn_inv"><span class="id" title="lemma">isType_it_mkProd_or_LetIn_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; ? &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Sort"><span class="id" title="lemma">inversion_Sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [? []]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> /= <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">decl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">),,,</span></a> <span class="id" title="var">Δ'</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <span class="id" title="var">decl</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Δ'</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#typing_spine_letin_inv'"><span class="id" title="lemma">typing_spine_letin_inv'</span></a> (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>) (<span class="id" title="var">na</span>:=<span class="id" title="var">na</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">ty</span>:=<span class="id" title="var">ty</span>) (<span class="id" title="var">Δ</span> := <span class="id" title="var">Γ0</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Δ'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">decl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) 1 <span class="id" title="var">Γ0</span> <span class="id" title="var">Δ''</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#lift_it_mkProd_or_LetIn"><span class="id" title="lemma">lift_it_mkProd_or_LetIn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#lift_it_mkProd_or_LetIn"><span class="id" title="lemma">lift_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#to_extended_list_k_app"><span class="id" title="lemma">to_extended_list_k_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">Γ0</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">now</span> <span class="id" title="var">len</span>) (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <span class="id" title="var">decl</span>) <span class="id" title="var">Δ'</span> <span class="id" title="var">s</span> <span class="id" title="var">args</span> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#isType_it_mkProd_or_LetIn"><span class="id" title="lemma">isType_it_mkProd_or_LetIn</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#isType_Sort"><span class="id" title="lemma">isType_Sort</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> /= <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">decl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">),,,</span></a> <span class="id" title="var">Δ'</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <span class="id" title="var">decl</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Δ'</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#to_extended_list_k_app"><span class="id" title="lemma">to_extended_list_k_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#typing_spine_prod_inv"><span class="id" title="lemma">typing_spine_prod_inv</span></a> (<span class="id" title="var">na</span> := <span class="id" title="var">na</span>) (<span class="id" title="var">ty</span> := <span class="id" title="var">ty</span>) (<span class="id" title="var">Δ</span> := <span class="id" title="var">Γ0</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Δ'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">decl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>](<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) 1 <span class="id" title="var">Γ0</span> <span class="id" title="var">Δ''</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#lift_it_mkProd_or_LetIn"><span class="id" title="lemma">lift_it_mkProd_or_LetIn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {3}(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ'</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#lift_it_mkProd_or_LetIn"><span class="id" title="lemma">lift_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">Γ0</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">now</span> <span class="id" title="var">len</span>) (<span class="id" title="var">Γ</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <span class="id" title="var">decl</span>) <span class="id" title="var">Δ'</span> <span class="id" title="var">s</span> <span class="id" title="var">args</span> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">sp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#isType_it_mkProd_or_LetIn"><span class="id" title="lemma">isType_it_mkProd_or_LetIn</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#isType_Sort"><span class="id" title="lemma">isType_Sort</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typing_spine_it_mkProd_or_LetIn_ext_list_inv" class="idref" href="#typing_spine_it_mkProd_or_LetIn_ext_list_inv"><span class="id" title="lemma">typing_spine_it_mkProd_or_LetIn_ext_list_inv</span></a> {<a id="5af8b4b176137ecf9b0a413e58ca9851" class="idref" href="#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="7b579a91fafdb1d57989104ef8f675ce" class="idref" href="#7b579a91fafdb1d57989104ef8f675ce"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="variable">Σ</span></a>} {<a id="b76b45826229263d6eb1ba90734a978a" class="idref" href="#b76b45826229263d6eb1ba90734a978a"><span class="id" title="binder">Γ</span></a> <a id="9a36bc6e5c88bdca17df1a79ad3685ef" class="idref" href="#9a36bc6e5c88bdca17df1a79ad3685ef"><span class="id" title="binder">Δ</span></a> <a id="854b7efed19a5ca11cb2f771240b9888" class="idref" href="#854b7efed19a5ca11cb2f771240b9888"><span class="id" title="binder">Δ'</span></a> <a id="150c594fb69a9a2dd2ba74ce937e2422" class="idref" href="#150c594fb69a9a2dd2ba74ce937e2422"><span class="id" title="binder">Δ''</span></a> <a id="s:538" class="idref" href="#s:538"><span class="id" title="binder">s</span></a> <a id="args:539" class="idref" href="#args:539"><span class="id" title="binder">args</span></a> <a id="s':540" class="idref" href="#s':540"><span class="id" title="binder">s'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b76b45826229263d6eb1ba90734a978a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9a36bc6e5c88bdca17df1a79ad3685ef"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#150c594fb69a9a2dd2ba74ce937e2422"><span class="id" title="variable">Δ''</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> 0 (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9a36bc6e5c88bdca17df1a79ad3685ef"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#150c594fb69a9a2dd2ba74ce937e2422"><span class="id" title="variable">Δ''</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b76b45826229263d6eb1ba90734a978a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9a36bc6e5c88bdca17df1a79ad3685ef"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#854b7efed19a5ca11cb2f771240b9888"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9a36bc6e5c88bdca17df1a79ad3685ef"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#150c594fb69a9a2dd2ba74ce937e2422"><span class="id" title="variable">Δ''</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:538"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9a36bc6e5c88bdca17df1a79ad3685ef"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#854b7efed19a5ca11cb2f771240b9888"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:539"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':540"><span class="id" title="variable">s'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b76b45826229263d6eb1ba90734a978a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9a36bc6e5c88bdca17df1a79ad3685ef"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#854b7efed19a5ca11cb2f771240b9888"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#854b7efed19a5ca11cb2f771240b9888"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#150c594fb69a9a2dd2ba74ce937e2422"><span class="id" title="variable">Δ''</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:538"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#args:539"><span class="id" title="variable">args</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s':540"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#typing_spine_it_mkProd_or_LetIn_ext_list_inv_gen"><span class="id" title="lemma">typing_spine_it_mkProd_or_LetIn_ext_list_inv_gen</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closed_ctx_lift"><span class="id" title="lemma">closed_ctx_lift</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="firstn_all_app_eq" class="idref" href="#firstn_all_app_eq"><span class="id" title="lemma">firstn_all_app_eq</span></a> {<a id="A:541" class="idref" href="#A:541"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="n:542" class="idref" href="#n:542"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:543" class="idref" href="#l:543"><span class="id" title="binder">l</span></a> <a id="l':544" class="idref" href="#l':544"><span class="id" title="binder">l'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:541"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:542"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:543"><span class="id" title="variable">l</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:542"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:543"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l':544"><span class="id" title="variable">l'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:543"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#firstn_app_2"><span class="id" title="lemma">firstn_app_2</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#firstn_0"><span class="id" title="lemma">firstn_0</span></a> // <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CheckEnv.:::'if'_x_'then'_x_'else'_x" class="idref" href="#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">&quot;</span></a>'if' c 'then' vT 'else' vF" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <span class="id" title="var">vT</span> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <span class="id" title="var">vF</span> <span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">c</span>, <span class="id" title="var">vT</span>, <span class="id" title="var">vF</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="discr_prod_letin" class="idref" href="#discr_prod_letin"><span class="id" title="definition">discr_prod_letin</span></a> (<a id="t:545" class="idref" href="#t:545"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#discr_prod_letin:547"><span class="id" title="definition">discr_prod_letin</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#discr_prod_letin:548"><span class="id" title="definition">discr_prod_letin</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">_</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#discr_prod_letin:549"><span class="id" title="definition">discr_prod_letin</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variant</span> <a id="prod_letin_view" class="idref" href="#prod_letin_view"><span class="id" title="inductive">prod_letin_view</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="prod_letin_tProd" class="idref" href="#prod_letin_tProd"><span class="id" title="constructor">prod_letin_tProd</span></a> : <span class="id" title="keyword">∀</span> <a id="na:552" class="idref" href="#na:552"><span class="id" title="binder">na</span></a> <a id="dom:553" class="idref" href="#dom:553"><span class="id" title="binder">dom</span></a> <a id="codom:554" class="idref" href="#codom:554"><span class="id" title="binder">codom</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_view:550"><span class="id" title="inductive">prod_letin_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:552"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dom:553"><span class="id" title="variable">dom</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#codom:554"><span class="id" title="variable">codom</span></a>)<br/>
&nbsp;&nbsp;| <a id="prod_letin_tLetIn" class="idref" href="#prod_letin_tLetIn"><span class="id" title="constructor">prod_letin_tLetIn</span></a> : <span class="id" title="keyword">∀</span> <a id="na:555" class="idref" href="#na:555"><span class="id" title="binder">na</span></a> <a id="b:556" class="idref" href="#b:556"><span class="id" title="binder">b</span></a> <a id="ty:557" class="idref" href="#ty:557"><span class="id" title="binder">ty</span></a> <a id="t:558" class="idref" href="#t:558"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_view:550"><span class="id" title="inductive">prod_letin_view</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:555"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:556"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:557"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:558"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a id="prod_letin_other" class="idref" href="#prod_letin_other"><span class="id" title="constructor">prod_letin_other</span></a> : <span class="id" title="keyword">∀</span> <a id="t:559" class="idref" href="#t:559"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#discr_prod_letin"><span class="id" title="definition">discr_prod_letin</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:559"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_view:550"><span class="id" title="inductive">prod_letin_view</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:559"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="prod_letin_viewc" class="idref" href="#prod_letin_viewc"><span class="id" title="definition">prod_letin_viewc</span></a> <a id="t:560" class="idref" href="#t:560"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_view"><span class="id" title="inductive">prod_letin_view</span></a> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_viewc:565"><span class="id" title="definition">prod_letin_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:562"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:564"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:563"><span class="id" title="variable">t</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_tProd"><span class="id" title="constructor">prod_letin_tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">t</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_viewc:570"><span class="id" title="definition">prod_letin_viewc</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:567"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:566"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:569"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:568"><span class="id" title="variable">t</span></a>) := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_tLetIn"><span class="id" title="constructor">prod_letin_tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">ty</span> <span class="id" title="var">t</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_viewc:572"><span class="id" title="definition">prod_letin_viewc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:571"><span class="id" title="variable">t</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_other"><span class="id" title="constructor">prod_letin_other</span></a> <span class="id" title="var">t</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="welltyped_prod_inv" class="idref" href="#welltyped_prod_inv"><span class="id" title="lemma">welltyped_prod_inv</span></a> {<a id="6069cb5429ea7ef99194466b4c98fa94" class="idref" href="#6069cb5429ea7ef99194466b4c98fa94"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="b752d9727084a8359dd2dde46f0229df" class="idref" href="#b752d9727084a8359dd2dde46f0229df"><span class="id" title="binder">Γ</span></a> <a id="na:575" class="idref" href="#na:575"><span class="id" title="binder">na</span></a> <a id="ty:576" class="idref" href="#ty:576"><span class="id" title="binder">ty</span></a> <a id="ty':577" class="idref" href="#ty':577"><span class="id" title="binder">ty'</span></a>} {<a id="433f581421673950a45ad4876a43d84f" class="idref" href="#433f581421673950a45ad4876a43d84f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6069cb5429ea7ef99194466b4c98fa94"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6069cb5429ea7ef99194466b4c98fa94"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b752d9727084a8359dd2dde46f0229df"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:575"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:576"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty':577"><span class="id" title="variable">ty'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6069cb5429ea7ef99194466b4c98fa94"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b752d9727084a8359dd2dde46f0229df"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:576"><span class="id" title="variable">ty</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6069cb5429ea7ef99194466b4c98fa94"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b752d9727084a8359dd2dde46f0229df"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:575"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:576"><span class="id" title="variable">ty</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty':577"><span class="id" title="variable">ty'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> [<span class="id" title="var">s1</span> [<span class="id" title="var">s2</span> [<span class="id" title="var">hty</span> [<span class="id" title="var">hty'</span> <span class="id" title="var">hcum</span>]]]]%<a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TypUniv"><span class="id" title="definition">unlift_TypUniv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hty</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="welltyped_letin_inv" class="idref" href="#welltyped_letin_inv"><span class="id" title="lemma">welltyped_letin_inv</span></a> {<a id="3b2471138523605bf294183c378c80fd" class="idref" href="#3b2471138523605bf294183c378c80fd"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="210178a19c4f6cbc55ac928c47a756c6" class="idref" href="#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="binder">Γ</span></a> <a id="na:581" class="idref" href="#na:581"><span class="id" title="binder">na</span></a> <a id="b:582" class="idref" href="#b:582"><span class="id" title="binder">b</span></a> <a id="ty:583" class="idref" href="#ty:583"><span class="id" title="binder">ty</span></a> <a id="t:584" class="idref" href="#t:584"><span class="id" title="binder">t</span></a>} {<a id="20283906a4b9037b1981f885955ef7b5" class="idref" href="#20283906a4b9037b1981f885955ef7b5"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:581"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:582"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:583"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:584"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:583"><span class="id" title="variable">ty</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:582"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:581"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:582"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:583"><span class="id" title="variable">ty</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:584"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> [<span class="id" title="var">s1</span> [<span class="id" title="var">hty</span> [<span class="id" title="var">hty'</span> <span class="id" title="var">hcum</span>]]]%<a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hty</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">hdef</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">hty</span> &amp; <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">split</span>|]; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="welltyped_letin_red" class="idref" href="#welltyped_letin_red"><span class="id" title="lemma">welltyped_letin_red</span></a> {<a id="0d51a7e8f6749027b2c50a573d234b8f" class="idref" href="#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="d84b8ce4aa1b6bad2e4f8052fb4d4ef2" class="idref" href="#d84b8ce4aa1b6bad2e4f8052fb4d4ef2"><span class="id" title="binder">Γ</span></a> <a id="na:588" class="idref" href="#na:588"><span class="id" title="binder">na</span></a> <a id="b:589" class="idref" href="#b:589"><span class="id" title="binder">b</span></a> <a id="ty:590" class="idref" href="#ty:590"><span class="id" title="binder">ty</span></a> <a id="t:591" class="idref" href="#t:591"><span class="id" title="binder">t</span></a>} {<a id="wfX:592" class="idref" href="#wfX:592"><span class="id" title="binder">wfX</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d84b8ce4aa1b6bad2e4f8052fb4d4ef2"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#na:588"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:589"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ty:590"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:591"><span class="id" title="variable">t</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d84b8ce4aa1b6bad2e4f8052fb4d4ef2"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b:589"><span class="id" title="variable">b</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:591"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> [<span class="id" title="var">s1</span> [<span class="id" title="var">hdef</span> [<span class="id" title="var">hty'</span> <span class="id" title="var">hcum</span>]]]%<a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">s1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#substitution_let"><span class="id" title="lemma">substitution_let</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hty'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CheckEnv.PositivityCheck" class="idref" href="#CheckEnv.PositivityCheck"><span class="id" title="section">PositivityCheck</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="CheckEnv.PositivityCheck.X_ext" class="idref" href="#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="CheckEnv.PositivityCheck.normalization_in" class="idref" href="#CheckEnv.PositivityCheck.normalization_in"><span class="id" title="variable">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="82fa80cafe97572d0b8b575d411a9438" class="idref" href="#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="var">Program.Tactics.program_simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="isRel" class="idref" href="#isRel"><span class="id" title="definition">isRel</span></a> (<a id="t:596" class="idref" href="#t:596"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="n:597" class="idref" href="#n:597"><span class="id" title="binder">n</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:596"><span class="id" title="variable">t</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:597"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:596"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">k</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "isRel: not a variable")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Positivity checking involves reducing let-ins, so it can only be applied to
        already well-typed terms to ensure termination.

<div class="paragraph"> </div>

        We could also intersperse weak-head normalizations to reduce the types.
        This would need to be done in sync with a change in the spec in EnvironmentTyping though. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_positive_cstr_arg" class="idref" href="#check_positive_cstr_arg"><span class="id" title="definition">check_positive_cstr_arg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mdecl:599" class="idref" href="#mdecl:599"><span class="id" title="binder">mdecl</span></a> <a id="8a37d63f94d982280e8cec857a4c187f" class="idref" href="#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="binder">Γ</span></a> <a id="t:601" class="idref" href="#t:601"><span class="id" title="binder">t</span></a> (<a id="wt:603" class="idref" href="#wt:603"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="d83b6fee0100f8e50ac5e9a9261da6ab" class="idref" href="#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:601"><span class="id" title="variable">t</span></a>) <a id="e7cf62029c5213607709791fac2a786a" class="idref" href="#e7cf62029c5213607709791fac2a786a"><span class="id" title="binder">Δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="keyword">measure</span> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a> <span class="id" title="var">t</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a> <span class="id" title="var">wt</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">)</span></a> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#redp_subterm_rel"><span class="id" title="definition">redp_subterm_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.cf"><span class="id" title="variable">cf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a>)} : <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="9fb98b1a3dddd5864385dfc95ea35340" class="idref" href="#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#positive_cstr_arg"><span class="id" title="inductive">positive_cstr_arg</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:599"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:601"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:601"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_viewc"><span class="id" title="definition">prod_letin_viewc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:601"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_view"><span class="id" title="inductive">prod_letin_view</span></a> <span class="id" title="var">t'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_tProd"><span class="id" title="constructor">prod_letin_tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">t</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="posarg:608" class="idref" href="#posarg:608"><span class="id" title="binder">posarg</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">ty</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Non-positive occurrence.")<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="post:609" class="idref" href="#post:609"><span class="id" title="binder">post</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_positive_cstr_arg:606"><span class="id" title="definition">check_positive_cstr_arg</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:599"><span class="id" title="variable">mdecl</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:601"><span class="id" title="variable">t</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_tLetIn"><span class="id" title="constructor">prod_letin_tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">ty</span> <span class="id" title="var">t</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="post:610" class="idref" href="#post:610"><span class="id" title="binder">post</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_positive_cstr_arg:606"><span class="id" title="definition">check_positive_cstr_arg</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:599"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8a37d63f94d982280e8cec857a4c187f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:601"><span class="id" title="variable">t</span></a>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_other"><span class="id" title="constructor">prod_letin_other</span></a> <span class="id" title="var">t</span> <span class="id" title="var">nprodlet</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">args</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:601"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:613" class="idref" href="#pat:613"><span class="id" title="binder">(</span></a><a id="hdrel:612" class="idref" href="#hdrel:612"><span class="id" title="binder"><span id="pat:613" class="id">hdrel</span></span></a><a id="pat:613" class="idref" href="#pat:613"><span class="id" title="binder">;</span></a> <a id="eqr:611" class="idref" href="#eqr:611"><span class="id" title="binder"><span id="pat:613" class="id">eqr</span></span></a><a id="pat:613" class="idref" href="#pat:613"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#isRel"><span class="id" title="definition">isRel</span></a> <span class="id" title="var">hd</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="isind:614" class="idref" href="#isind:614"><span class="id" title="binder">isind</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#hdrel:612"><span class="id" title="variable">hdrel</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#hdrel:612"><span class="id" title="variable">hdrel</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:599"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Conclusion is not an inductive type") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Actually this is the only necessary check 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_closed:615" class="idref" href="#check_closed:615"><span class="id" title="binder">check_closed</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">args</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Conclusion arguments refer to the inductive type being defined") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:599"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#hdrel:612"><span class="id" title="variable">hdrel</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e7cf62029c5213607709791fac2a786a"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">i</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_realargs"><span class="id" title="definition">ind_realargs</span></a> <span class="id" title="var">i</span>) <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">args</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Partial application of inductive") <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">check_positive_cstr_arg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#welltyped_prod_inv"><span class="id" title="lemma">welltyped_prod_inv</span></a> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">constructor</span> 4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">posarg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">post</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>);  <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#welltyped_letin_red"><span class="id" title="lemma">welltyped_letin_red</span></a> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span> 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eqr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">isind</span> ⇒ [/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="var">le</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="var">lt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_closed</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous2</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t0</span>. <span class="id" title="tactic">econstructor</span> 2; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">H</span> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eqr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">isind</span> ⇒ [/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.leb_le"><span class="id" title="lemma">Nat.leb_le</span></a> <span class="id" title="var">le</span> /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="var">lt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_closed</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous2</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Program.Wf.html#measure_wf"><span class="id" title="lemma">Wf.measure_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#wf_redp_subterm"><span class="id" title="instance">wf_redp_subterm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We already assume that constructor types are of the form `it_mkProd_or_LetIn (params,,, args) concl` so
        we don't need to reduce further. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_positive_cstr" class="idref" href="#check_positive_cstr"><span class="id" title="definition">check_positive_cstr</span></a> <a id="mdecl:616" class="idref" href="#mdecl:616"><span class="id" title="binder">mdecl</span></a> <a id="n:617" class="idref" href="#n:617"><span class="id" title="binder">n</span></a> <a id="2e0a243746282224163a59f97765cc25" class="idref" href="#2e0a243746282224163a59f97765cc25"><span class="id" title="binder">Γ</span></a> <a id="t:619" class="idref" href="#t:619"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wt:621" class="idref" href="#wt:621"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="6aa8a92b884dca2fee5f96c14df818fd" class="idref" href="#6aa8a92b884dca2fee5f96c14df818fd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa8a92b884dca2fee5f96c14df818fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6aa8a92b884dca2fee5f96c14df818fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2e0a243746282224163a59f97765cc25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:619"><span class="id" title="variable">t</span></a>) <a id="4d577fbe7e43bec201ea00dcecf2638c" class="idref" href="#4d577fbe7e43bec201ea00dcecf2638c"><span class="id" title="binder">Δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="keyword">measure</span> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a> <span class="id" title="var">t</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a> <span class="id" title="var">wt</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">)</span></a> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#redp_subterm_rel"><span class="id" title="definition">redp_subterm_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.cf"><span class="id" title="variable">cf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a>) }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="655c3502458f68b9e0f0a9db8acd9720" class="idref" href="#655c3502458f68b9e0f0a9db8acd9720"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck.X_ext"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#655c3502458f68b9e0f0a9db8acd9720"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#positive_cstr"><span class="id" title="inductive">positive_cstr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:616"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:617"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d577fbe7e43bec201ea00dcecf2638c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:619"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_viewc"><span class="id" title="definition">prod_letin_viewc</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:619"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_view"><span class="id" title="inductive">prod_letin_view</span></a> <span class="id" title="var">t'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_tProd"><span class="id" title="constructor">prod_letin_tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">t</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="posarg:626" class="idref" href="#posarg:626"><span class="id" title="binder">posarg</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_positive_cstr_arg"><span class="id" title="definition">check_positive_cstr_arg</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:616"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2e0a243746282224163a59f97765cc25"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d577fbe7e43bec201ea00dcecf2638c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="post:627" class="idref" href="#post:627"><span class="id" title="binder">post</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_positive_cstr:624"><span class="id" title="definition">check_positive_cstr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:616"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:617"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2e0a243746282224163a59f97765cc25"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:619"><span class="id" title="variable">t</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d577fbe7e43bec201ea00dcecf2638c"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_tLetIn"><span class="id" title="constructor">prod_letin_tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">ty</span> <span class="id" title="var">t</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="post:628" class="idref" href="#post:628"><span class="id" title="binder">post</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_positive_cstr:624"><span class="id" title="definition">check_positive_cstr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:616"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:617"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2e0a243746282224163a59f97765cc25"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:619"><span class="id" title="variable">t</span></a>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d577fbe7e43bec201ea00dcecf2638c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#prod_letin_other"><span class="id" title="constructor">prod_letin_other</span></a> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">indices</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:619"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqhd:629" class="idref" href="#eqhd:629"><span class="id" title="binder">eqhd</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">hd</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:616"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:617"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d577fbe7e43bec201ea00dcecf2638c"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Conclusion of constructor is not the right inductive type") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="closedargs:630" class="idref" href="#closedargs:630"><span class="id" title="binder">closedargs</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4d577fbe7e43bec201ea00dcecf2638c"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">indices</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Arguments of the inductive in the conclusion of a constructor mention the inductive itself")<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>);  <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#welltyped_prod_inv"><span class="id" title="lemma">welltyped_prod_inv</span></a> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>);  <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#welltyped_prod_inv"><span class="id" title="lemma">welltyped_prod_inv</span></a> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">constructor</span> 3; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#welltyped_letin_red"><span class="id" title="lemma">welltyped_letin_red</span></a> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="var">into</span> <span class="id" title="var">eqa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqa</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">eqhd</span>; <span class="id" title="tactic">case</span>: <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ // → <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">closedargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Program.Wf.html#measure_wf"><span class="id" title="lemma">Wf.measure_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfReduction.html#wf_redp_subterm"><span class="id" title="instance">wf_redp_subterm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.PositivityCheck"><span class="id" title="section">PositivityCheck</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wt_indices" class="idref" href="#wt_indices"><span class="id" title="definition">wt_indices</span></a> <a id="64c1cd74a1667d51fb71e060b9db6f31" class="idref" href="#64c1cd74a1667d51fb71e060b9db6f31"><span class="id" title="binder">Σ</span></a> <a id="mdecl:632" class="idref" href="#mdecl:632"><span class="id" title="binder">mdecl</span></a> <a id="indices:633" class="idref" href="#indices:633"><span class="id" title="binder">indices</span></a> <a id="cs:634" class="idref" href="#cs:634"><span class="id" title="binder">cs</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#64c1cd74a1667d51fb71e060b9db6f31"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_arities"><span class="id" title="definition">ind_arities</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:632"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:632"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:634"><span class="id" title="variable">cs</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#ctx_inst"><span class="id" title="abbreviation">ctx_inst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#64c1cd74a1667d51fb71e060b9db6f31"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_arities"><span class="id" title="definition">ind_arities</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:632"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:632"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:634"><span class="id" title="variable">cs</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:634"><span class="id" title="variable">cs</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a>)) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:634"><span class="id" title="variable">cs</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:633"><span class="id" title="variable">indices</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ctx_inst_wt" class="idref" href="#ctx_inst_wt"><span class="id" title="lemma">ctx_inst_wt</span></a> <a id="34399478a3b5ad789bb6893413b5790c" class="idref" href="#34399478a3b5ad789bb6893413b5790c"><span class="id" title="binder">Σ</span></a> <a id="9b5b937ec3de0f9b871b34a6920f3729" class="idref" href="#9b5b937ec3de0f9b871b34a6920f3729"><span class="id" title="binder">Γ</span></a> <a id="s:637" class="idref" href="#s:637"><span class="id" title="binder">s</span></a> <a id="20d51a81e2f45000327695966705a07c" class="idref" href="#20d51a81e2f45000327695966705a07c"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#ctx_inst"><span class="id" title="abbreviation">ctx_inst</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#34399478a3b5ad789bb6893413b5790c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9b5b937ec3de0f9b871b34a6920f3729"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:637"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#20d51a81e2f45000327695966705a07c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#34399478a3b5ad789bb6893413b5790c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9b5b937ec3de0f9b871b34a6920f3729"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:637"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_smash" class="idref" href="#type_smash"><span class="id" title="lemma">type_smash</span></a> {<a id="c29f9df98f134fd5d6aa43163587edcf" class="idref" href="#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="e809986b91e4e804f3e8c49aa2b32def" class="idref" href="#e809986b91e4e804f3e8c49aa2b32def"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="variable">Σ</span></a>} {<a id="022b79871e28f526f8b5d08114c3859e" class="idref" href="#022b79871e28f526f8b5d08114c3859e"><span class="id" title="binder">Γ</span></a> <a id="ab73a55b2546e4c2fd72ac8a3212318a" class="idref" href="#ab73a55b2546e4c2fd72ac8a3212318a"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:643" class="idref" href="#t:643"><span class="id" title="binder">t</span></a> <a id="T:644" class="idref" href="#T:644"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#022b79871e28f526f8b5d08114c3859e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ab73a55b2546e4c2fd72ac8a3212318a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:643"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:644"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#022b79871e28f526f8b5d08114c3859e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ab73a55b2546e4c2fd72ac8a3212318a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ab73a55b2546e4c2fd72ac8a3212318a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:643"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ab73a55b2546e4c2fd72ac8a3212318a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:644"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Δ</span>] <span class="id" title="keyword">using</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICInduction.html#ctx_length_rev_ind"><span class="id" title="lemma">PCUICInduction.ctx_length_rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span>! <a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#expand_lets_nil"><span class="id" title="lemma">expand_lets_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#smash_context_app_def"><span class="id" title="lemma">smash_context_app_def</span></a> !<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#expand_lets_vdef"><span class="id" title="lemma">expand_lets_vdef</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSubstitution.html#substitution"><span class="id" title="lemma">PCUICSubstitution.substitution</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#subst_empty"><span class="id" title="lemma">subst_empty</span></a> 0 <span class="id" title="var">b</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#subst_empty"><span class="id" title="lemma">subst_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#All_local_env_app_inv"><span class="id" title="definition">All_local_env_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">h</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TermTyp"><span class="id" title="lemma">unlift_TermTyp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#smash_context_app_ass"><span class="id" title="lemma">smash_context_app_ass</span></a> !<a class="idref" href="MetaRocq.PCUIC.PCUICSigmaCalculus.html#expand_lets_vass"><span class="id" title="lemma">expand_lets_vass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sub_context_set_empty" class="idref" href="#sub_context_set_empty"><span class="id" title="lemma">sub_context_set_empty</span></a> <a id="ac375a1e2af34a19c87e0ed37c57a845" class="idref" href="#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sub_context_set"><span class="id" title="definition">sub_context_set</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.empty"><span class="id" title="definition">ContextSet.empty</span></a> (<a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#global_context_set"><span class="id" title="definition">global_context_set</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.empty_spec"><span class="id" title="lemma">LS.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS.empty_spec"><span class="id" title="lemma">CS.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cumul_ctx_rel_close'" class="idref" href="#cumul_ctx_rel_close'"><span class="id" title="lemma">cumul_ctx_rel_close'</span></a> <a id="ef2171864337970e70d0d2bf696dd8db" class="idref" href="#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="binder">Σ</span></a> <a id="a4839334ca63a47d942d5e9bf3be1c02" class="idref" href="#a4839334ca63a47d942d5e9bf3be1c02"><span class="id" title="binder">Γ</span></a> <a id="86452ce392f434f4229e7f190a48a2ec" class="idref" href="#86452ce392f434f4229e7f190a48a2ec"><span class="id" title="binder">Δ</span></a> <a id="210d23e8e1c19624fea33a98ac0fcaa9" class="idref" href="#210d23e8e1c19624fea33a98ac0fcaa9"><span class="id" title="binder">Δ'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#cumul_context"><span class="id" title="abbreviation">cumul_context</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a4839334ca63a47d942d5e9bf3be1c02"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#86452ce392f434f4229e7f190a48a2ec"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a4839334ca63a47d942d5e9bf3be1c02"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#210d23e8e1c19624fea33a98ac0fcaa9"><span class="id" title="variable">Δ'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICCumulativity.html#cumul_ctx_rel"><span class="id" title="definition">cumul_ctx_rel</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef2171864337970e70d0d2bf696dd8db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a4839334ca63a47d942d5e9bf3be1c02"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#86452ce392f434f4229e7f190a48a2ec"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#210d23e8e1c19624fea33a98ac0fcaa9"><span class="id" title="variable">Δ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold_app_inv"><span class="id" title="lemma">All2_fold_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cumΓ</span> <span class="id" title="var">cumΔs</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wt_cstrs" class="idref" href="#wt_cstrs"><span class="id" title="lemma">wt_cstrs</span></a> {<a id="n:650" class="idref" href="#n:650"><span class="id" title="binder">n</span></a> <a id="mdecl:651" class="idref" href="#mdecl:651"><span class="id" title="binder">mdecl</span></a> <a id="idecl:652" class="idref" href="#idecl:652"><span class="id" title="binder">idecl</span></a> <a id="cstrs:653" class="idref" href="#cstrs:653"><span class="id" title="binder">cstrs</span></a> <a id="cs:654" class="idref" href="#cs:654"><span class="id" title="binder">cs</span></a>} <a id="X_ext:655" class="idref" href="#X_ext:655"><span class="id" title="binder">X_ext</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="9abfe4f5a6d3e6cadcdf01a8fbbad144" class="idref" href="#9abfe4f5a6d3e6cadcdf01a8fbbad144"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:655"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9abfe4f5a6d3e6cadcdf01a8fbbad144"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="cstr:657" class="idref" href="#cstr:657"><span class="id" title="binder">cstr</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) (<a id="cs0:658" class="idref" href="#cs0:658"><span class="id" title="binder">cs0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructor_spec"><span class="id" title="definition">check_constructor_spec</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9abfe4f5a6d3e6cadcdf01a8fbbad144"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:650"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:651"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:652"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstr:657"><span class="id" title="variable">cstr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs0:658"><span class="id" title="variable">cs0</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:653"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:654"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="84e2bef3c125c4f4ae5623734bf4d559" class="idref" href="#84e2bef3c125c4f4ae5623734bf4d559"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:655"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#84e2bef3c125c4f4ae5623734bf4d559"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="cstr:660" class="idref" href="#cstr:660"><span class="id" title="binder">cstr</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#84e2bef3c125c4f4ae5623734bf4d559"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:651"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstr:660"><span class="id" title="variable">cstr</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:653"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H0</span>;  <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">isTy</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>] <span class="id" title="var">_</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isTy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#isType_welltyped"><span class="id" title="definition">isType_welltyped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isTy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_wt_indices" class="idref" href="#get_wt_indices"><span class="id" title="lemma">get_wt_indices</span></a> {<a id="mdecl:661" class="idref" href="#mdecl:661"><span class="id" title="binder">mdecl</span></a> <a id="cstrs:662" class="idref" href="#cstrs:662"><span class="id" title="binder">cstrs</span></a> <a id="cs:663" class="idref" href="#cs:663"><span class="id" title="binder">cs</span></a>} <a id="X_ext:664" class="idref" href="#X_ext:664"><span class="id" title="binder">X_ext</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfar:666" class="idref" href="#wfar:666"><span class="id" title="binder">wfar</span></a> : <span class="id" title="keyword">∀</span> <a id="b415d8a7d5376b766143ea0d21ee2bac" class="idref" href="#b415d8a7d5376b766143ea0d21ee2bac"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:664"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b415d8a7d5376b766143ea0d21ee2bac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b415d8a7d5376b766143ea0d21ee2bac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:661"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfpars:668" class="idref" href="#wfpars:668"><span class="id" title="binder">wfpars</span></a> : <span class="id" title="keyword">∀</span> <a id="40f86c56fd6b80bb39cd5bbd0f0d6522" class="idref" href="#40f86c56fd6b80bb39cd5bbd0f0d6522"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:664"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#40f86c56fd6b80bb39cd5bbd0f0d6522"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#40f86c56fd6b80bb39cd5bbd0f0d6522"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:661"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="n:669" class="idref" href="#n:669"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:670" class="idref" href="#idecl:670"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hnth:671" class="idref" href="#hnth:671"><span class="id" title="binder">hnth</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:661"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:669"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:670"><span class="id" title="variable">idecl</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="fcb0b1a438b58b31d58b6ee4e552d630" class="idref" href="#fcb0b1a438b58b31d58b6ee4e552d630"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:664"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fcb0b1a438b58b31d58b6ee4e552d630"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="cstr:673" class="idref" href="#cstr:673"><span class="id" title="binder">cstr</span></a> :<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) (<a id="cs0:674" class="idref" href="#cs0:674"><span class="id" title="binder">cs0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructor_spec"><span class="id" title="definition">check_constructor_spec</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fcb0b1a438b58b31d58b6ee4e552d630"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:669"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:661"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:670"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstr:673"><span class="id" title="variable">cstr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs0:674"><span class="id" title="variable">cs0</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:662"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:663"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c250c316ea0e364638da17fedd49c53e" class="idref" href="#c250c316ea0e364638da17fedd49c53e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:664"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="cs:676" class="idref" href="#cs:676"><span class="id" title="binder">cs</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wt_indices"><span class="id" title="definition">wt_indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:661"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:670"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:676"><span class="id" title="variable">cs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cstrs:662"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> <span class="id" title="keyword">wf</span>; <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H0</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">isTy</span> <span class="id" title="var">eq</span>] <span class="id" title="var">sorts</span>] <span class="id" title="var">eq'</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wfars</span> := <span class="id" title="var">wfar</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">wfar</span> &amp; <span class="id" title="var">eqind</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">idecl</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>)<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqind</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#isType_it_mkProd_or_LetIn_wf_local"><span class="id" title="lemma">isType_it_mkProd_or_LetIn_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isTy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#isType_it_mkProd_or_LetIn_inv"><span class="id" title="lemma">isType_it_mkProd_or_LetIn_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isTy</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#isType_mkApps_inv"><span class="id" title="lemma">isType_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isTy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">fty</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hf</span> <span class="id" title="var">Hsp</span>]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Rel"><span class="id" title="lemma">inversion_Rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl</span> [<span class="id" title="var">wfctx</span> [<span class="id" title="var">Hnth</span> <span class="id" title="var">cum</span>]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnth</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <span class="id" title="var">x</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <span class="id" title="var">mdecl</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span><a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <span class="id" title="var">x</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <span class="id" title="var">mdecl</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hnth</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">hnth</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.nth_error_arities_context"><span class="id" title="lemma">nth_error_arities_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hnth</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnth</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#typing_spine_strengthen"><span class="id" title="lemma">PCUICSpine.typing_spine_strengthen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">cum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hsp</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Conversion.PCUICWeakeningConv.html#lift_it_mkProd_or_LetIn"><span class="id" title="lemma">lift_it_mkProd_or_LetIn</span></a> /= ⇒ <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICClosed.html#closed_ctx_lift"><span class="id" title="lemma">closed_ctx_lift</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#closed_wf_local"><span class="id" title="lemma">closed_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="var">wfctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#typing_spine_it_mkProd_or_LetIn_ext_list_inv"><span class="id" title="lemma">typing_spine_it_mkProd_or_LetIn_ext_list_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_wf_local"><span class="id" title="lemma">weaken_wf_local</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types_wf_arities"><span class="id" title="lemma">wf_ind_types_wf_arities</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#closed_wf_local"><span class="id" title="lemma">closed_wf_local</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#typing_spine_it_mkProd_or_LetIn_inv"><span class="id" title="lemma">typing_spine_it_mkProd_or_LetIn_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> ⇒ //. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weakening_wf_local"><span class="id" title="lemma">weakening_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_wf_local"><span class="id" title="lemma">weaken_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types_wf_arities"><span class="id" title="lemma">wf_ind_types_wf_arities</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#lift_closed"><span class="id" title="lemma">lift_closed</span></a>; [<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICClosedTyp.html#isType_closed"><span class="id" title="lemma">isType_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICArities.html#isType_weaken"><span class="id" title="lemma">isType_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="check_variance" class="idref" href="#check_variance"><span class="id" title="definition">check_variance</span></a> {<a id="X:677" class="idref" href="#X:677"><span class="id" title="binder">X</span></a>} (<a id="id:678" class="idref" href="#id:678"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) <a id="univs:679" class="idref" href="#univs:679"><span class="id" title="binder">univs</span></a> (<a id="variances:680" class="idref" href="#variances:680"><span class="id" title="binder">variances</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Variance.t"><span class="id" title="inductive">Variance.t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfunivs:682" class="idref" href="#wfunivs:682"><span class="id" title="binder">wfunivs</span></a> : <span class="id" title="keyword">∀</span> <a id="64405b8d72b2c86a1bd5b25287f6a411" class="idref" href="#64405b8d72b2c86a1bd5b25287f6a411"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:677"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#64405b8d72b2c86a1bd5b25287f6a411"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#64405b8d72b2c86a1bd5b25287f6a411"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:679"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="16248e1e2fbc21ad443faf0434aaa493" class="idref" href="#16248e1e2fbc21ad443faf0434aaa493"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#16248e1e2fbc21ad443faf0434aaa493"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#16248e1e2fbc21ad443faf0434aaa493"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">univs</span> <span class="id" title="var">variances</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:685"><span class="id" title="variable">id</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:689"><span class="id" title="variable">univs</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfunivs:696"><span class="id" title="variable">wfunivs</span></a> := <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:697"><span class="id" title="variable">id</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:702"><span class="id" title="variable">univs</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#v:707"><span class="id" title="variable">v</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfunivs:712"><span class="id" title="variable">wfunivs</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <span class="id" title="var">univs</span> <span class="id" title="var">v</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs':719"><span class="id" title="variable">univs'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:714"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i':715"><span class="id" title="variable">i'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#eqvu:713"><span class="id" title="variable">eqvu</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_leq:730" class="idref" href="#check_leq:730"><span class="id" title="binder">check_leq</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">v</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.Common.Universes.html#polymorphic_instance"><span class="id" title="definition">polymorphic_instance</span></a> <span class="id" title="var">univs</span><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty"><span class="id" title="definition">abstract_env_empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <span class="id" title="var">id</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Variance annotation does not have the right length")<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="716fb4dc09cf76be5c7f9f98478ee3af" class="idref" href="#716fb4dc09cf76be5c7f9f98478ee3af"><span class="id" title="binder">Σ'</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#make_abstract_env_ext"><span class="id" title="definition">make_abstract_env_ext</span></a> <span class="id" title="var">X</span> <span class="id" title="var">id</span> <span class="id" title="var">univs'</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#eqvu:723"><span class="id" title="variable">eqvu</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_ext"><span class="id" title="definition">abstract_env_empty_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty"><span class="id" title="definition">abstract_env_empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <span class="id" title="var">id</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Ill-formed variance annotation")<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">wfΣ</span>] := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">univs</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqvu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eqvu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">univs'</span>, <span class="id" title="var">i</span>, <span class="id" title="var">i'</span>; <span class="id" title="tactic">split</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_leq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">univs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Build_on_inductive_sq" class="idref" href="#Build_on_inductive_sq"><span class="id" title="definition">Build_on_inductive_sq</span></a> {<a id="X_ext:732" class="idref" href="#X_ext:732"><span class="id" title="binder">X_ext</span></a> <a id="ind:733" class="idref" href="#ind:733"><span class="id" title="binder">ind</span></a> <a id="mdecl:734" class="idref" href="#mdecl:734"><span class="id" title="binder">mdecl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="79783c3d0c597b6a48128c562b67e476" class="idref" href="#79783c3d0c597b6a48128c562b67e476"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:732"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#79783c3d0c597b6a48128c562b67e476"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_ind_body"><span class="id" title="record">on_ind_body</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#79783c3d0c597b6a48128c562b67e476"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:733"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a>) 0 (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="baa792512f38bc952d3b41dc845b149d" class="idref" href="#baa792512f38bc952d3b41dc845b149d"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:732"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#baa792512f38bc952d3b41dc845b149d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#baa792512f38bc952d3b41dc845b149d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="58d555d27892089de749e22ee2073416" class="idref" href="#58d555d27892089de749e22ee2073416"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:732"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#58d555d27892089de749e22ee2073416"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#58d555d27892089de749e22ee2073416"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="1b7407980c01527742cae990c4cf715c" class="idref" href="#1b7407980c01527742cae990c4cf715c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:732"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1b7407980c01527742cae990c4cf715c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_inductive"><span class="id" title="record">on_inductive</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1b7407980c01527742cae990c4cf715c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:733"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:734"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> ? <span class="id" title="keyword">wf</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_cstr_variance" class="idref" href="#check_cstr_variance"><span class="id" title="definition">check_cstr_variance</span></a> <a id="X:739" class="idref" href="#X:739"><span class="id" title="binder">X</span></a> <a id="mdecl:740" class="idref" href="#mdecl:740"><span class="id" title="binder">mdecl</span></a> (<a id="id:741" class="idref" href="#id:741"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) <a id="indices:742" class="idref" href="#indices:742"><span class="id" title="binder">indices</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mdeclvar:744" class="idref" href="#mdeclvar:744"><span class="id" title="binder">mdeclvar</span></a> : <span class="id" title="keyword">∀</span> <a id="763de042068fe622753e1a9a234ea7fd" class="idref" href="#763de042068fe622753e1a9a234ea7fd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:739"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#763de042068fe622753e1a9a234ea7fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#763de042068fe622753e1a9a234ea7fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="cs:745" class="idref" href="#cs:745"><span class="id" title="binder">cs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfX:747" class="idref" href="#wfX:747"><span class="id" title="binder">wfX</span></a> : <span class="id" title="keyword">∀</span> <a id="9f6ba21c9106f1cb859cdba70d395066" class="idref" href="#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:739"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9f6ba21c9106f1cb859cdba70d395066"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f3fe505b5faed017d91432d3849699f1" class="idref" href="#f3fe505b5faed017d91432d3849699f1"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="59aeb578abe4c844132c8a8a91af5023" class="idref" href="#59aeb578abe4c844132c8a8a91af5023"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:739"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#59aeb578abe4c844132c8a8a91af5023"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wt_indices"><span class="id" title="definition">wt_indices</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#59aeb578abe4c844132c8a8a91af5023"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:742"><span class="id" title="variable">indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="d62650d5b74a130e424e5a064c91bef6" class="idref" href="#d62650d5b74a130e424e5a064c91bef6"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:739"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d62650d5b74a130e424e5a064c91bef6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <span class="id" title="keyword">∀</span> <a id="v:751" class="idref" href="#v:751"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Variance.t"><span class="id" title="inductive">Variance.t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#v:751"><span class="id" title="variable">v</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_respects_variance"><span class="id" title="definition">cstr_respects_variance</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d62650d5b74a130e424e5a064c91bef6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#v:751"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="univs:752" class="idref" href="#univs:752"><span class="id" title="binder">univs</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:752"><span class="id" title="variable">univs</span></a> <span class="id" title="var">v</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">univs0</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <span class="id" title="var">u'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'(</span></a><a id="pat:755" class="idref" href="#pat:755"><span class="id" title="binder">exist</span></a> <a id="X':754" class="idref" href="#X':754"><span class="id" title="binder"><span id="pat:755" class="id">X'</span></span></a> <a id="Xprop:753" class="idref" href="#Xprop:753"><span class="id" title="binder"><span id="pat:755" class="id">Xprop</span></span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#make_abstract_env_ext"><span class="id" title="definition">make_abstract_env_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:739"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:741"><span class="id" title="variable">id</span></a> <span class="id" title="var">univs0</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_args:756" class="idref" href="#check_args:756"><span class="id" title="binder">check_args</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':754"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:741"><span class="id" title="variable">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_compare_context"><span class="id" title="definition">check_compare_context</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':754"><span class="id" title="variable">X'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u'</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_indices:757" class="idref" href="#check_indices:757"><span class="id" title="binder">check_indices</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':754"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:741"><span class="id" title="variable">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_leq_terms"><span class="id" title="definition">check_leq_terms</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':754"><span class="id" title="variable">X'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>))) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u'</span> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:740"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>))) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:745"><span class="id" title="variable">cs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_decl_universes_subst_instance" class="idref" href="#wf_decl_universes_subst_instance"><span class="id" title="lemma">wf_decl_universes_subst_instance</span></a> <a id="91dceb626bfd67932019d231f976ab73" class="idref" href="#91dceb626bfd67932019d231f976ab73"><span class="id" title="binder">Σ</span></a> <a id="udecl:759" class="idref" href="#udecl:759"><span class="id" title="binder">udecl</span></a> <a id="udecl':760" class="idref" href="#udecl':760"><span class="id" title="binder">udecl'</span></a> <a id="d:761" class="idref" href="#d:761"><span class="id" title="binder">d</span></a> <a id="u:762" class="idref" href="#u:762"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#91dceb626bfd67932019d231f976ab73"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:759"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_instance"><span class="id" title="definition">wf_instance</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#91dceb626bfd67932019d231f976ab73"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl':760"><span class="id" title="variable">udecl'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:762"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_decl_universes"><span class="id" title="definition">wf_decl_universes</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#91dceb626bfd67932019d231f976ab73"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:759"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:761"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_decl_universes"><span class="id" title="definition">wf_decl_universes</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#91dceb626bfd67932019d231f976ab73"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl':760"><span class="id" title="variable">udecl'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:761"><span class="id" title="variable">d@</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:762"><span class="id" title="variable">u</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onud</span>] <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> ⇒ /=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_decl_universes"><span class="id" title="definition">wf_decl_universes</span></a> /<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#on_decl_universes"><span class="id" title="definition">on_decl_universes</span></a> /= .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] <span class="id" title="var">ondbody</span> <span class="id" title="var">ontype</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes_inst"><span class="id" title="lemma">wf_universes_inst</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">udecl</span>); <span class="id" title="var">cbn</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">onud</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl_body</span> <span class="id" title="keyword">as</span> [|] ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes_inst"><span class="id" title="lemma">wf_universes_inst</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">udecl</span>); <span class="id" title="var">cbn</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">onud</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_ctx_universes_subst_instance" class="idref" href="#wf_ctx_universes_subst_instance"><span class="id" title="lemma">wf_ctx_universes_subst_instance</span></a> <a id="5a0a5cb840be9a54f10311dca13031da" class="idref" href="#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="binder">Σ</span></a> <a id="udecl:764" class="idref" href="#udecl:764"><span class="id" title="binder">udecl</span></a> <a id="udecl':765" class="idref" href="#udecl':765"><span class="id" title="binder">udecl'</span></a> <a id="1fc62ff9155817e342ca3b24d4c060ae" class="idref" href="#1fc62ff9155817e342ca3b24d4c060ae"><span class="id" title="binder">Γ</span></a> <a id="u:767" class="idref" href="#u:767"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:764"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_instance"><span class="id" title="definition">wf_instance</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl':765"><span class="id" title="variable">udecl'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:767"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:764"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1fc62ff9155817e342ca3b24d4c060ae"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl':765"><span class="id" title="variable">udecl'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1fc62ff9155817e342ca3b24d4c060ae"><span class="id" title="variable">Γ@</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:767"><span class="id" title="variable">u</span></a><a class="idref" href="MetaRocq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>⇒ [] <span class="id" title="var">wfa</span> <span class="id" title="var">wfΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<span class="id" title="var">IHΓ</span> <span class="id" title="var">wfΓ</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_decl_universes_subst_instance"><span class="id" title="lemma">wf_decl_universes_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_local_wf_ctx_universes" class="idref" href="#wf_local_wf_ctx_universes"><span class="id" title="lemma">wf_local_wf_ctx_universes</span></a> {<a id="c5df83d520309f937cd78e71072510f1" class="idref" href="#c5df83d520309f937cd78e71072510f1"><span class="id" title="binder">Σ</span></a> <a id="4c20008b3fc183fc931bb850fa4e5424" class="idref" href="#4c20008b3fc183fc931bb850fa4e5424"><span class="id" title="binder">Γ</span></a>} : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c5df83d520309f937cd78e71072510f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c5df83d520309f937cd78e71072510f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4c20008b3fc183fc931bb850fa4e5424"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c5df83d520309f937cd78e71072510f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4c20008b3fc183fc931bb850fa4e5424"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 ⇒ //=; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#typing_wf_universes"><span class="id" title="lemma">typing_wf_universes</span></a>: <span class="id" title="var">Hs</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hb</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#typing_wf_universes"><span class="id" title="lemma">typing_wf_universes</span></a>: <span class="id" title="var">Hb</span> ⇒ /<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_ctx_universes_app" class="idref" href="#wf_ctx_universes_app"><span class="id" title="lemma">wf_ctx_universes_app</span></a> {<a id="f0f9e6e9487651a269180f86fb36e481" class="idref" href="#f0f9e6e9487651a269180f86fb36e481"><span class="id" title="binder">Σ</span></a> <a id="32ac31fb44a0ce8d04eedce0c2789ee4" class="idref" href="#32ac31fb44a0ce8d04eedce0c2789ee4"><span class="id" title="binder">Γ</span></a> <a id="81edb95b56094dc9696e85a034efebc3" class="idref" href="#81edb95b56094dc9696e85a034efebc3"><span class="id" title="binder">Δ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f0f9e6e9487651a269180f86fb36e481"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#32ac31fb44a0ce8d04eedce0c2789ee4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#81edb95b56094dc9696e85a034efebc3"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f0f9e6e9487651a269180f86fb36e481"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#32ac31fb44a0ce8d04eedce0c2789ee4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f0f9e6e9487651a269180f86fb36e481"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#81edb95b56094dc9696e85a034efebc3"><span class="id" title="variable">Δ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_ctx_universes"><span class="id" title="definition">wf_ctx_universes</span></a> /<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">mdeclvar</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xprop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xprop</span> ?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_subst_instance"><span class="id" title="lemma">wf_ctx_universes_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq_anonymous</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#consistent_instance_ext_wf"><span class="id" title="lemma">consistent_instance_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#wf_local_smash_end"><span class="id" title="lemma">wf_local_smash_end</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#wf_local_expand_lets"><span class="id" title="lemma">wf_local_expand_lets</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_local_wf_ctx_universes"><span class="id" title="lemma">wf_local_wf_ctx_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_app"><span class="id" title="lemma">wf_ctx_universes_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">a</span> ⇒ [] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">mdeclvar</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xprop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xprop</span> ?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_subst_instance"><span class="id" title="lemma">wf_ctx_universes_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq_anonymous</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#consistent_instance_ext_wf"><span class="id" title="lemma">consistent_instance_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#wf_local_smash_end"><span class="id" title="lemma">wf_local_smash_end</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#wf_local_expand_lets"><span class="id" title="lemma">wf_local_expand_lets</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_local_wf_ctx_universes"><span class="id" title="lemma">wf_local_wf_ctx_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_app"><span class="id" title="lemma">wf_ctx_universes_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">a</span> ⇒ [] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">mdeclvar</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xprop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xprop</span> ?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c</span> <span class="id" title="var">c0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΓ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfargs</span> <span class="id" title="var">wfinds</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx_inst_wt"><span class="id" title="lemma">ctx_inst_wt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfinds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">wt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#typing_expand_lets"><span class="id" title="lemma">typing_expand_lets</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes_inst"><span class="id" title="lemma">wf_universes_inst</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wfX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#consistent_instance_ext_wf"><span class="id" title="lemma">consistent_instance_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#typing_wf_universes"><span class="id" title="lemma">typing_wf_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">wt</span> ⇒ [] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">mdeclvar</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xprop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xprop</span> ?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c</span> <span class="id" title="var">c0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΓ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfargs</span> <span class="id" title="var">wfinds</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctx_inst_wt"><span class="id" title="lemma">ctx_inst_wt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfinds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">wt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#typing_expand_lets"><span class="id" title="lemma">typing_expand_lets</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#wf_universes_inst"><span class="id" title="lemma">wf_universes_inst</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wfX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#consistent_instance_ext_wf"><span class="id" title="lemma">consistent_instance_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#typing_wf_universes"><span class="id" title="lemma">typing_wf_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">wt</span> ⇒ [] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xprop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xprop</span> ?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">Xprop</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v0</span> [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICContextConversionTyp.html#eq_context_cumul_Spec_rel"><span class="id" title="lemma">PCUICContextConversionTyp.eq_context_cumul_Spec_rel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">check_args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICConversion.html#eq_term_upto_univ_cumulSpec"><span class="id" title="lemma">eq_term_upto_univ_cumulSpec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq_anonymous0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mdeclvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#variance_universes_insts"><span class="id" title="lemma">variance_universes_insts</span></a> (<span class="id" title="var">Σ</span> := (<a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#empty_ext"><span class="id" title="definition">empty_ext</span></a> <span class="id" title="var">Σ</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">mdeclvar</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs'</span> [<span class="id" title="var">i</span> [<span class="id" title="var">i'</span> []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Moving it causes a universe bug... 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CheckEnv.MonadAllAll" class="idref" href="#CheckEnv.MonadAllAll"><span class="id" title="section">MonadAllAll</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="CheckEnv.MonadAllAll.AA" class="idref" href="#CheckEnv.MonadAllAll.AA"><span class="id" title="variable">AA</span></a> : <span class="id" title="keyword">Type</span>} {<a id="CheckEnv.MonadAllAll.BB" class="idref" href="#CheckEnv.MonadAllAll.BB"><span class="id" title="variable">BB</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:773"><span class="id" title="variable">AA</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="CheckEnv.MonadAllAll.T" class="idref" href="#CheckEnv.MonadAllAll.T"><span class="id" title="variable">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="CheckEnv.MonadAllAll.M" class="idref" href="#CheckEnv.MonadAllAll.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="MetaRocq.Utils.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:775"><span class="id" title="variable">T</span></a>} {<a id="CheckEnv.MonadAllAll.A" class="idref" href="#CheckEnv.MonadAllAll.A"><span class="id" title="variable">A</span></a>} {<a id="CheckEnv.MonadAllAll.P" class="idref" href="#CheckEnv.MonadAllAll.P"><span class="id" title="variable">P</span></a> : <span class="id" title="keyword">∀</span> (<a id="aa:778" class="idref" href="#aa:778"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:773"><span class="id" title="variable">AA</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#BB:774"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:778"><span class="id" title="variable">aa</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:777"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="CheckEnv.MonadAllAll.Q" class="idref" href="#CheckEnv.MonadAllAll.Q"><span class="id" title="variable">Q</span></a> : <span class="id" title="keyword">∀</span> (<a id="aa:780" class="idref" href="#aa:780"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:773"><span class="id" title="variable">AA</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#BB:774"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:780"><span class="id" title="variable">aa</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:777"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CheckEnv.MonadAllAll.f" class="idref" href="#CheckEnv.MonadAllAll.f"><span class="id" title="variable">f</span></a> : <span class="id" title="keyword">∀</span> <a id="x:782" class="idref" href="#x:782"><span class="id" title="binder">x</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="aa:783" class="idref" href="#aa:783"><span class="id" title="binder">aa</span></a> <a id="bb:784" class="idref" href="#bb:784"><span class="id" title="binder">bb</span></a>, <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Q:781"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:783"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:784"><span class="id" title="variable">bb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:782"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:775"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> <a id="aa:785" class="idref" href="#aa:785"><span class="id" title="binder">aa</span></a> <a id="bb:786" class="idref" href="#bb:786"><span class="id" title="binder">bb</span></a>, <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#P:779"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:785"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:786"><span class="id" title="variable">bb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:782"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="monad_All_All" class="idref" href="#monad_All_All"><span class="id" title="definition">monad_All_All</span></a> <a id="l:788" class="idref" href="#l:788"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="aa:789" class="idref" href="#aa:789"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.AA"><span class="id" title="variable">AA</span></a>) (<a id="bb:790" class="idref" href="#bb:790"><span class="id" title="binder">bb</span></a>: <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.BB"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:789"><span class="id" title="variable">aa</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:789"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:790"><span class="id" title="variable">bb</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:788"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> (<a id="aa:791" class="idref" href="#aa:791"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.AA"><span class="id" title="variable">AA</span></a>) (<a id="bb:792" class="idref" href="#bb:792"><span class="id" title="binder">bb</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.BB"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:791"><span class="id" title="variable">aa</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:791"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:792"><span class="id" title="variable">bb</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:788"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:788"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="aa:795" class="idref" href="#aa:795"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.AA"><span class="id" title="variable">AA</span></a>) (<a id="bb:796" class="idref" href="#bb:796"><span class="id" title="binder">bb</span></a>: <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.BB"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:795"><span class="id" title="variable">aa</span></a>), <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:795"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:796"><span class="id" title="variable">bb</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:794"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> (<a id="aa:797" class="idref" href="#aa:797"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.AA"><span class="id" title="variable">AA</span></a>) (<a id="bb:798" class="idref" href="#bb:798"><span class="id" title="binder">bb</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.BB"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:797"><span class="id" title="variable">aa</span></a>) , <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:797"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:798"><span class="id" title="variable">bb</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:794"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="aa:799" class="idref" href="#aa:799"><span class="id" title="binder">aa</span></a> <a id="bb:800" class="idref" href="#bb:800"><span class="id" title="binder">bb</span></a>  ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_nil"><span class="id" title="constructor">All_nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <span class="id" title="keyword">fun</span> <a id="allq:801" class="idref" href="#allq:801"><span class="id" title="binder">allq</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="X:802" class="idref" href="#X:802"><span class="id" title="binder">X</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Y:803" class="idref" href="#Y:803"><span class="id" title="binder">Y</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_All_All:793"><span class="id" title="definition">monad_All_All</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:788"><span class="id" title="variable">l</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <a id="aa:804" class="idref" href="#aa:804"><span class="id" title="binder">aa</span></a> <a id="bb:805" class="idref" href="#bb:805"><span class="id" title="binder">bb</span></a>  ⇒ <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">bb</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">allq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">bb</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">allq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">bb</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadAllAll"><span class="id" title="section">MonadAllAll</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CheckEnv.MonadLiftExt" class="idref" href="#CheckEnv.MonadLiftExt"><span class="id" title="section">MonadLiftExt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="CheckEnv.MonadLiftExt.X" class="idref" href="#CheckEnv.MonadLiftExt.X"><span class="id" title="variable">X</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a>} {<a id="CheckEnv.MonadLiftExt.X_ext" class="idref" href="#CheckEnv.MonadLiftExt.X_ext"><span class="id" title="variable">X_ext</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>} {<a id="CheckEnv.MonadLiftExt.ext" class="idref" href="#CheckEnv.MonadLiftExt.ext"><span class="id" title="variable">ext</span></a>:<a class="idref" href="MetaRocq.Common.Universes.html#universes_decl"><span class="id" title="inductive">universes_decl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="CheckEnv.MonadLiftExt.T" class="idref" href="#CheckEnv.MonadLiftExt.T"><span class="id" title="variable">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="CheckEnv.MonadLiftExt.M" class="idref" href="#CheckEnv.MonadLiftExt.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="MetaRocq.Utils.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:809"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="CheckEnv.MonadLiftExt.P" class="idref" href="#CheckEnv.MonadLiftExt.P"><span class="id" title="variable">P</span></a> : <span class="id" title="keyword">∀</span> (<a id="c164b632b5d576456011df60acabd4b3" class="idref" href="#c164b632b5d576456011df60acabd4b3"><span class="id" title="binder">Σ</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:806"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c164b632b5d576456011df60acabd4b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CheckEnv.MonadLiftExt.XX_ext" class="idref" href="#CheckEnv.MonadLiftExt.XX_ext"><span class="id" title="variable">XX_ext</span></a> : <span class="id" title="keyword">∀</span> (<a id="97d92384705576d03bfb30f953167a0d" class="idref" href="#97d92384705576d03bfb30f953167a0d"><span class="id" title="binder">Σ</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:807"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:806"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#97d92384705576d03bfb30f953167a0d"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CheckEnv.MonadLiftExt.XX_ext'" class="idref" href="#CheckEnv.MonadLiftExt.XX_ext'"><span class="id" title="variable">XX_ext'</span></a> : <span class="id" title="keyword">∀</span> (<a id="d380728ebe99742eb319fd3e3c1d6439" class="idref" href="#d380728ebe99742eb319fd3e3c1d6439"><span class="id" title="binder">Σ</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:806"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d380728ebe99742eb319fd3e3c1d6439"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:807"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d380728ebe99742eb319fd3e3c1d6439"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ext:808"><span class="id" title="variable">ext</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="monad_lift_ext" class="idref" href="#monad_lift_ext"><span class="id" title="definition">monad_lift_ext</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> (<a id="503dc5bcecf6ea0f3c71bdf4341097a4" class="idref" href="#503dc5bcecf6ea0f3c71bdf4341097a4"><span class="id" title="binder">Σ</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="0d933c8e0d8162f32bbdcc9bcb9da518" class="idref" href="#0d933c8e0d8162f32bbdcc9bcb9da518"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#503dc5bcecf6ea0f3c71bdf4341097a4"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#503dc5bcecf6ea0f3c71bdf4341097a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0d933c8e0d8162f32bbdcc9bcb9da518"><span class="id" title="variable">wfΣ</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> (<a id="1c8c6878912a5934e3c831dc5fb3bd20" class="idref" href="#1c8c6878912a5934e3c831dc5fb3bd20"><span class="id" title="binder">Σ</span></a>:<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="afe961aa9040140d82c1fce5aca7f500" class="idref" href="#afe961aa9040140d82c1fce5aca7f500"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt.X_ext"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1c8c6878912a5934e3c831dc5fb3bd20"><span class="id" title="variable">Σ</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1c8c6878912a5934e3c831dc5fb3bd20"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt.XX_ext"><span class="id" title="variable">XX_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1c8c6878912a5934e3c831dc5fb3bd20"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#afe961aa9040140d82c1fce5aca7f500"><span class="id" title="variable">wfΣ</span></a>)) := <span class="id" title="keyword">fun</span> <a id="x:821" class="idref" href="#x:821"><span class="id" title="binder">x</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="f:822" class="idref" href="#f:822"><span class="id" title="binder">f</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:821"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.MonadLiftExt"><span class="id" title="section">MonadLiftExt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_constructors" class="idref" href="#check_constructors"><span class="id" title="definition">check_constructors</span></a> <a id="X:823" class="idref" href="#X:823"><span class="id" title="binder">X</span></a> <a id="X_ext:824" class="idref" href="#X_ext:824"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:826" class="idref" href="#normalization_in:826"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="bbd579de7dffd3677ab4d7112fb0e822" class="idref" href="#bbd579de7dffd3677ab4d7112fb0e822"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bbd579de7dffd3677ab4d7112fb0e822"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bbd579de7dffd3677ab4d7112fb0e822"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bbd579de7dffd3677ab4d7112fb0e822"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="id:827" class="idref" href="#id:827"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) (<a id="mdecl:828" class="idref" href="#mdecl:828"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HX:829" class="idref" href="#HX:829"><span class="id" title="binder">HX</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:823"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfar:831" class="idref" href="#wfar:831"><span class="id" title="binder">wfar</span></a> : <span class="id" title="keyword">∀</span> <a id="dd3f5d884915f8467d644ce8fc03bbc0" class="idref" href="#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd3f5d884915f8467d644ce8fc03bbc0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfpars:833" class="idref" href="#wfpars:833"><span class="id" title="binder">wfpars</span></a> : <span class="id" title="keyword">∀</span> <a id="ae53be20be1c8e85c6c15dfeedc55a57" class="idref" href="#ae53be20be1c8e85c6c15dfeedc55a57"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ae53be20be1c8e85c6c15dfeedc55a57"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ae53be20be1c8e85c6c15dfeedc55a57"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mdeclvar:835" class="idref" href="#mdeclvar:835"><span class="id" title="binder">mdeclvar</span></a> : <span class="id" title="keyword">∀</span> <a id="8ec810aae1708700eef7becbf694a12d" class="idref" href="#8ec810aae1708700eef7becbf694a12d"><span class="id" title="binder">Σ0</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:823"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8ec810aae1708700eef7becbf694a12d"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8ec810aae1708700eef7becbf694a12d"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="n:836" class="idref" href="#n:836"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:837" class="idref" href="#idecl:837"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hnth:838" class="idref" href="#hnth:838"><span class="id" title="binder">hnth</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:836"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="cs:839" class="idref" href="#cs:839"><span class="id" title="binder">cs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="48c16a51248e4c7291b2fa963f230096" class="idref" href="#48c16a51248e4c7291b2fa963f230096"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#48c16a51248e4c7291b2fa963f230096"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constructors"><span class="id" title="definition">on_constructors</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#48c16a51248e4c7291b2fa963f230096"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:836"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:839"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:843" class="idref" href="#pat:843"><span class="id" title="binder">(</span></a><a id="cs:842" class="idref" href="#cs:842"><span class="id" title="binder"><span id="pat:843" class="id">cs</span></span></a><a id="pat:843" class="idref" href="#pat:843"><span class="id" title="binder">;</span></a> <a id="Hcs:841" class="idref" href="#Hcs:841"><span class="id" title="binder"><span id="pat:843" class="id">Hcs</span></span></a><a id="pat:843" class="idref" href="#pat:843"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructors_univs"><span class="id" title="definition">check_constructors_univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:827"><span class="id" title="variable">id</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfar:831"><span class="id" title="variable">wfar</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfpars:833"><span class="id" title="variable">wfpars</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:836"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">);;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="posc:846" class="idref" href="#posc:846"><span class="id" title="binder">posc</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:827"><span class="id" title="variable">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_All_All"><span class="id" title="definition">monad_All_All</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:844" class="idref" href="#x:844"><span class="id" title="binder">x</span></a> <a id="px:845" class="idref" href="#px:845"><span class="id" title="binder">px</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_positive_cstr"><span class="id" title="definition">check_positive_cstr</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:836"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:844"><span class="id" title="variable">x</span></a>) <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wt_cstrs"><span class="id" title="lemma">wt_cstrs</span></a> (<span class="id" title="var">cs</span>:=<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:842"><span class="id" title="variable">cs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hcs:841"><span class="id" title="variable">Hcs</span></a>)) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="var:849" class="idref" href="#var:849"><span class="id" title="binder">var</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_All_All"><span class="id" title="definition">monad_All_All</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="cs:847" class="idref" href="#cs:847"><span class="id" title="binder">cs</span></a> <a id="px:848" class="idref" href="#px:848"><span class="id" title="binder">px</span></a> ⇒ @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_lift_ext"><span class="id" title="definition">monad_lift_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:823"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_cstr_variance"><span class="id" title="definition">check_cstr_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:823"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:828"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:827"><span class="id" title="variable">id</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdeclvar:835"><span class="id" title="variable">mdeclvar</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:847"><span class="id" title="variable">cs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#get_wt_indices"><span class="id" title="lemma">get_wt_indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfar:831"><span class="id" title="variable">wfar</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfpars:833"><span class="id" title="variable">wfpars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:836"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#hnth:838"><span class="id" title="variable">hnth</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hcs:841"><span class="id" title="variable">Hcs</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="lets:852" class="idref" href="#lets:852"><span class="id" title="binder">lets</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#monad_All"><span class="id" title="definition">monad_All</span></a> (<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <a id="x:851" class="idref" href="#x:851"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> @<a class="idref" href="MetaRocq.Common.config.html#lets_in_constructor_types"><span class="id" title="method">lets_in_constructor_types</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">as</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">return</span></a> <span class="id" title="keyword">Prop</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.is_assumption_context"><span class="id" title="definition">is_assumption_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:851"><span class="id" title="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="cs:850" class="idref" href="#cs:850"><span class="id" title="binder">cs</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> @<a class="idref" href="MetaRocq.Common.config.html#lets_in_constructor_types"><span class="id" title="method">lets_in_constructor_types</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.is_assumption_context"><span class="id" title="definition">is_assumption_context</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:850"><span class="id" title="variable">cs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvError"><span class="id" title="constructor">EnvError</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:824"><span class="id" title="variable">X_ext</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> "No lets in constructor types allowed, you need to set the checker flag lets_in_constructor_types to [true]."<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "No lets in constructor types allowed, you need to set the checker flag lets_in_constructor_types to [true].")  )<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.:::'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:837"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:842"><span class="id" title="variable">cs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="var">sq</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HX</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">HX</span>]; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HX</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">HX</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#lets_in_constructor_types"><span class="id" title="method">lets_in_constructor_types</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">red</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#lets_in_constructor_types"><span class="id" title="method">lets_in_constructor_types</span></a>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#get_wt_indices"><span class="id" title="lemma">get_wt_indices</span></a> <span class="id" title="var">X_ext</span> <span class="id" title="var">wfar</span> <span class="id" title="var">wfpars</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hnth</span> <span class="id" title="var">Hcs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructor_spec"><span class="id" title="definition">check_constructor_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcs</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">lets</span> [<span class="id" title="var">wtinds</span> [<span class="id" title="var">wfvar</span> <span class="id" title="var">posc</span>]]] [[[<span class="id" title="var">isTy</span> <span class="id" title="var">eq</span>]] <span class="id" title="var">eq'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_concl"><span class="id" title="definition">cstr_concl</span></a> /=. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#cstr_concl_head"><span class="id" title="definition">cstr_concl_head</span></a>. <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_nth_error"><span class="id" title="lemma">All_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfar</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfar</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">isty</span> &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">eqrel</span>), <span class="id" title="var">wtinds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#isTypeRel_cstr_type"><span class="id" title="lemma">PCUICInductiveInversion.isTypeRel_cstr_type</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">wtinds</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">ci</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvTyping.ctx_inst_impl"><span class="id" title="lemma">PCUICEnvTyping.ctx_inst_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">ci</span>) ⇒ <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.Common.config.html#lets_in_constructor_types"><span class="id" title="method">lets_in_constructor_types</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_projections_type" class="idref" href="#check_projections_type"><span class="id" title="definition">check_projections_type</span></a> (<a id="mind:853" class="idref" href="#mind:853"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mdecl:854" class="idref" href="#mdecl:854"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) (<a id="i:855" class="idref" href="#i:855"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:856" class="idref" href="#idecl:856"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="indices:857" class="idref" href="#indices:857"><span class="id" title="binder">indices</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:856"><span class="id" title="variable">idecl</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:856"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <span class="id" title="keyword">return</span> <span class="id" title="keyword">Type</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">cs</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> ⇒ <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_projections"><span class="id" title="record">on_projections</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:854"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:853"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:855"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:856"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:857"><span class="id" title="variable">indices</span></a> <span class="id" title="var">cs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_projection" class="idref" href="#check_projection"><span class="id" title="definition">check_projection</span></a> <a id="X_ext:858" class="idref" href="#X_ext:858"><span class="id" title="binder">X_ext</span></a> (<a id="mind:859" class="idref" href="#mind:859"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) (<a id="mdecl:860" class="idref" href="#mdecl:860"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:861" class="idref" href="#i:861"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:862" class="idref" href="#idecl:862"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) (<a id="indices:863" class="idref" href="#indices:863"><span class="id" title="binder">indices</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="cdecl:864" class="idref" href="#cdecl:864"><span class="id" title="binder">cdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) (<a id="cs:865" class="idref" href="#cs:865"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="oncs:867" class="idref" href="#oncs:867"><span class="id" title="binder">oncs</span></a> : <span class="id" title="keyword">∀</span> <a id="109153f145081b7db193c5bf77131454" class="idref" href="#109153f145081b7db193c5bf77131454"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:858"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#109153f145081b7db193c5bf77131454"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constructors"><span class="id" title="definition">on_constructors</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#109153f145081b7db193c5bf77131454"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:860"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:861"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:862"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:863"><span class="id" title="variable">indices</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:864"><span class="id" title="variable">cdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:865"><span class="id" title="variable">cs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:868" class="idref" href="#k:868"><span class="id" title="binder">k</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="p:869" class="idref" href="#p:869"><span class="id" title="binder">p</span></a> (<a id="hnth:870" class="idref" href="#hnth:870"><span class="id" title="binder">hnth</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:862"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:868"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:869"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="heq:871" class="idref" href="#heq:871"><span class="id" title="binder">heq</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:862"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:864"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="6dd8305da2cf6a4a749766a2243bf631" class="idref" href="#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:858"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_projection"><span class="id" title="definition">on_projection</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:860"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:859"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:861"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:864"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:868"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:869"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="2e882e4212018eb1e12b4e042e08ea38" class="idref" href="#2e882e4212018eb1e12b4e042e08ea38"><span class="id" title="binder">Γ</span></a> :=  <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:864"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:860"><span class="id" title="variable">mdecl</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2e882e4212018eb1e12b4e042e08ea38"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:864"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:868"><span class="id" title="variable">k</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">decl</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:874" class="idref" href="#u:874"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:860"><span class="id" title="variable">mdecl</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ind:875" class="idref" href="#ind:875"><span class="id" title="binder">ind</span></a> := {| <a class="idref" href="MetaRocq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:859"><span class="id" title="variable">mind</span></a>; <a class="idref" href="MetaRocq.Common.Kernames.html#inductive_ind"><span class="id" title="projection">inductive_ind</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:861"><span class="id" title="variable">i</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_na:876" class="idref" href="#check_na:876"><span class="id" title="binder">check_na</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <span class="id" title="var">decl</span>)) (<a class="idref" href="MetaRocq.Common.BasicAst.html#nNamed"><span class="id" title="constructor">nNamed</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:869"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.proj_name"><span class="id" title="projection">proj_name</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Projection name does not match argument binder name")<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_rel:877" class="idref" href="#check_rel:877"><span class="id" title="binder">check_rel</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#binder_relevance"><span class="id" title="projection">binder_relevance</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <span class="id" title="var">decl</span>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:869"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.proj_relevance"><span class="id" title="projection">proj_relevance</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Projection relevance does not match argument binder relevance")<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_eq:878" class="idref" href="#check_eq:878"><span class="id" title="binder">check_eq</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:869"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.proj_type"><span class="id" title="projection">proj_type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:859"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#u:874"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:860"><span class="id" title="variable">mdecl</span></a>)) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:860"><span class="id" title="variable">mdecl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.projs"><span class="id" title="definition">projs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind:875"><span class="id" title="variable">ind</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:860"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:868"><span class="id" title="variable">k</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> 1 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:868"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaRocq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> <span class="id" title="var">decl</span>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Projection type does not match argument type") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_na</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq_anonymous</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X_ext</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">H</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">oncs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="var">into</span> <span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.MRList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CheckEnv.monad_Alli_nth_forall" class="idref" href="#CheckEnv.monad_Alli_nth_forall"><span class="id" title="section">monad_Alli_nth_forall</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="CheckEnv.monad_Alli_nth_forall.AA" class="idref" href="#CheckEnv.monad_Alli_nth_forall.AA"><span class="id" title="variable">AA</span></a> : <span class="id" title="keyword">Type</span>} {<a id="CheckEnv.monad_Alli_nth_forall.BB" class="idref" href="#CheckEnv.monad_Alli_nth_forall.BB"><span class="id" title="variable">BB</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:879"><span class="id" title="variable">AA</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>}  {<a id="CheckEnv.monad_Alli_nth_forall.T" class="idref" href="#CheckEnv.monad_Alli_nth_forall.T"><span class="id" title="variable">T</span></a>} {<a id="CheckEnv.monad_Alli_nth_forall.M" class="idref" href="#CheckEnv.monad_Alli_nth_forall.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="MetaRocq.Utils.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:881"><span class="id" title="variable">T</span></a>} {<a id="CheckEnv.monad_Alli_nth_forall.A" class="idref" href="#CheckEnv.monad_Alli_nth_forall.A"><span class="id" title="variable">A</span></a>} {<a id="CheckEnv.monad_Alli_nth_forall.P" class="idref" href="#CheckEnv.monad_Alli_nth_forall.P"><span class="id" title="variable">P</span></a> : <span class="id" title="keyword">∀</span> (<a id="aa:884" class="idref" href="#aa:884"><span class="id" title="binder">aa</span></a>:<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#AA:879"><span class="id" title="variable">AA</span></a>), <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#BB:880"><span class="id" title="variable">BB</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:884"><span class="id" title="variable">aa</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:883"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="monad_Alli_nth_gen_forall" class="idref" href="#monad_Alli_nth_gen_forall"><span class="id" title="definition">monad_Alli_nth_gen_forall</span></a> <a id="l:886" class="idref" href="#l:886"><span class="id" title="binder">l</span></a> <a id="k:887" class="idref" href="#k:887"><span class="id" title="binder">k</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:892" class="idref" href="#f:892"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">∀</span> <a id="n:888" class="idref" href="#n:888"><span class="id" title="binder">n</span></a> <a id="x:889" class="idref" href="#x:889"><span class="id" title="binder">x</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:886"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:888"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:889"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> <a id="aa:890" class="idref" href="#aa:890"><span class="id" title="binder">aa</span></a> <a id="bb:891" class="idref" href="#bb:891"><span class="id" title="binder">bb</span></a>, <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:890"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:891"><span class="id" title="variable">bb</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:887"><span class="id" title="variable">k</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:888"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:889"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> <a id="aa:893" class="idref" href="#aa:893"><span class="id" title="binder">aa</span></a> <a id="bb:894" class="idref" href="#bb:894"><span class="id" title="binder">bb</span></a>, <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> @<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:893"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:894"><span class="id" title="variable">bb</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:887"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:886"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:886"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.MRSquash.html#sq"><span class="id" title="constructor">sq</span></a> <a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli_nil"><span class="id" title="constructor">Alli_nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">a</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <a id="X:897" class="idref" href="#X:897"><span class="id" title="binder">X</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:892"><span class="id" title="variable">f</span></a> 0 <span class="id" title="var">a</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Y:902" class="idref" href="#Y:902"><span class="id" title="binder">Y</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_Alli_nth_gen_forall:895"><span class="id" title="definition">monad_Alli_nth_gen_forall</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:886"><span class="id" title="variable">l</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#k:887"><span class="id" title="variable">k</span></a>) (<span class="id" title="keyword">fun</span> <a id="n:898" class="idref" href="#n:898"><span class="id" title="binder">n</span></a> <a id="x:899" class="idref" href="#x:899"><span class="id" title="binder">x</span></a> <a id="hnth:900" class="idref" href="#hnth:900"><span class="id" title="binder">hnth</span></a> ⇒ <a id="px:901" class="idref" href="#px:901"><span class="id" title="binder">px</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:892"><span class="id" title="variable">f</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:898"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:899"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#hnth:900"><span class="id" title="variable">hnth</span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">bb</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">px</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">bb</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="monad_Alli_nth_forall" class="idref" href="#monad_Alli_nth_forall"><span class="id" title="definition">monad_Alli_nth_forall</span></a> <a id="l:903" class="idref" href="#l:903"><span class="id" title="binder">l</span></a> (<a id="f:908" class="idref" href="#f:908"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">∀</span> <a id="n:904" class="idref" href="#n:904"><span class="id" title="binder">n</span></a> <a id="x:905" class="idref" href="#x:905"><span class="id" title="binder">x</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:903"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:904"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:905"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> <a id="aa:906" class="idref" href="#aa:906"><span class="id" title="binder">aa</span></a> <a id="bb:907" class="idref" href="#bb:907"><span class="id" title="binder">bb</span></a>, <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:906"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:907"><span class="id" title="variable">bb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:904"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:905"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.T"><span class="id" title="variable">T</span></a> (<span class="id" title="keyword">∀</span> <a id="aa:909" class="idref" href="#aa:909"><span class="id" title="binder">aa</span></a> <a id="bb:910" class="idref" href="#bb:910"><span class="id" title="binder">bb</span></a>, <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> @<a class="idref" href="MetaRocq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#aa:909"><span class="id" title="variable">aa</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bb:910"><span class="id" title="variable">bb</span></a>) 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:903"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_Alli_nth_gen_forall"><span class="id" title="definition">monad_Alli_nth_gen_forall</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:903"><span class="id" title="variable">l</span></a> 0 <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f:908"><span class="id" title="variable">f</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.monad_Alli_nth_forall"><span class="id" title="section">monad_Alli_nth_forall</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_projections_cs" class="idref" href="#check_projections_cs"><span class="id" title="definition">check_projections_cs</span></a> <a id="X_ext:911" class="idref" href="#X_ext:911"><span class="id" title="binder">X_ext</span></a> (<a id="mind:912" class="idref" href="#mind:912"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) (<a id="mdecl:913" class="idref" href="#mdecl:913"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:914" class="idref" href="#i:914"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:915" class="idref" href="#idecl:915"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) (<a id="indices:916" class="idref" href="#indices:916"><span class="id" title="binder">indices</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="cdecl:917" class="idref" href="#cdecl:917"><span class="id" title="binder">cdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) (<a id="cs:918" class="idref" href="#cs:918"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="oncs:920" class="idref" href="#oncs:920"><span class="id" title="binder">oncs</span></a> : <span class="id" title="keyword">∀</span> <a id="2afabdd60cdfc0a9a9c5e17e283200fa" class="idref" href="#2afabdd60cdfc0a9a9c5e17e283200fa"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:911"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2afabdd60cdfc0a9a9c5e17e283200fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constructors"><span class="id" title="definition">on_constructors</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2afabdd60cdfc0a9a9c5e17e283200fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:913"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:914"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:915"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:916"><span class="id" title="variable">indices</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:917"><span class="id" title="variable">cdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:918"><span class="id" title="variable">cs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="onec:921" class="idref" href="#onec:921"><span class="id" title="binder">onec</span></a> : <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:915"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="66e9718375a901325e070a2a120b375c" class="idref" href="#66e9718375a901325e070a2a120b375c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:911"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#66e9718375a901325e070a2a120b375c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_projections"><span class="id" title="record">on_projections</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:913"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:912"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:914"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:915"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:916"><span class="id" title="variable">indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:917"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_indices:923" class="idref" href="#check_indices:923"><span class="id" title="binder">check_indices</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:916"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Primitive records cannot have indices") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_elim:924" class="idref" href="#check_elim:924"><span class="id" title="binder">check_elim</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:915"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaRocq.Common.Universes.html#IntoAny"><span class="id" title="constructor">IntoAny</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Primitive records must be eliminable to Type")<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_length:925" class="idref" href="#check_length:925"><span class="id" title="binder">check_length</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:915"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:917"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Invalid number of projections") <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_projs:929" class="idref" href="#check_projs:929"><span class="id" title="binder">check_projs</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_Alli_nth_forall"><span class="id" title="definition">monad_Alli_nth_forall</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:915"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="n:926" class="idref" href="#n:926"><span class="id" title="binder">n</span></a> <a id="p:927" class="idref" href="#p:927"><span class="id" title="binder">p</span></a> <a id="hnth:928" class="idref" href="#hnth:928"><span class="id" title="binder">hnth</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_projection"><span class="id" title="definition">check_projection</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:911"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:912"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:913"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:914"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:915"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:916"><span class="id" title="variable">indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cdecl:917"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:918"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#oncs:920"><span class="id" title="variable">oncs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:926"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:927"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#hnth:928"><span class="id" title="variable">hnth</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_length:925"><span class="id" title="variable">check_length</span></a>)) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">oncs</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">oncs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_indices</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">indices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_elim</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">check_length</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_projections" class="idref" href="#check_projections"><span class="id" title="definition">check_projections</span></a> <a id="X_ext:930" class="idref" href="#X_ext:930"><span class="id" title="binder">X_ext</span></a> (<a id="mind:931" class="idref" href="#mind:931"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) (<a id="mdecl:932" class="idref" href="#mdecl:932"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:933" class="idref" href="#i:933"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:934" class="idref" href="#idecl:934"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) (<a id="indices:935" class="idref" href="#indices:935"><span class="id" title="binder">indices</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="cs:936" class="idref" href="#cs:936"><span class="id" title="binder">cs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a8e4a47a3b24bcdfdcf7baefbd23c88d" class="idref" href="#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:930"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_constructors"><span class="id" title="definition">on_constructors</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a8e4a47a3b24bcdfdcf7baefbd23c88d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:932"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:933"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:934"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:935"><span class="id" title="variable">indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:934"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:936"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="6751ba82087abc9b96aab4407c73ff94" class="idref" href="#6751ba82087abc9b96aab4407c73ff94"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:930"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6751ba82087abc9b96aab4407c73ff94"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_projections_type"><span class="id" title="definition">check_projections_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:931"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:932"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:933"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:934"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:935"><span class="id" title="variable">indices</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:934"><span class="id" title="variable">idecl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:934"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:936"><span class="id" title="variable">cs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a> <span class="id" title="var">cdecl</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a> <span class="id" title="var">cs</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="oncs:941" class="idref" href="#oncs:941"><span class="id" title="binder">oncs</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ccs:942" class="idref" href="#ccs:942"><span class="id" title="binder">ccs</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_projections_cs"><span class="id" title="definition">check_projections_cs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:930"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:931"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:932"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:933"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:934"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:935"><span class="id" title="variable">indices</span></a> <span class="id" title="var">cdecl</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:936"><span class="id" title="variable">cs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <a id="oncs:943" class="idref" href="#oncs:943"><span class="id" title="binder">oncs</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Projections can only be declared for an inductive type with a single constructor")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="var">into</span> <span class="id" title="var">eqp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqp</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq_x</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="checkb_constructors_smaller" class="idref" href="#checkb_constructors_smaller"><span class="id" title="definition">checkb_constructors_smaller</span></a> <a id="X_ext:944" class="idref" href="#X_ext:944"><span class="id" title="binder">X_ext</span></a> (<a id="cs:945" class="idref" href="#cs:945"><span class="id" title="binder">cs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>) (<a id="ind_sort:946" class="idref" href="#ind_sort:946"><span class="id" title="binder">ind_sort</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="argsort:947" class="idref" href="#argsort:947"><span class="id" title="binder">argsort</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_compare_sort"><span class="id" title="definition">abstract_env_compare_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:944"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#argsort:947"><span class="id" title="variable">argsort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:946"><span class="id" title="variable">ind_sort</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:945"><span class="id" title="variable">cs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wf_cs_sorts" class="idref" href="#wf_cs_sorts"><span class="id" title="definition">wf_cs_sorts</span></a> <a id="X_ext:948" class="idref" href="#X_ext:948"><span class="id" title="binder">X_ext</span></a> <a id="cs:949" class="idref" href="#cs:949"><span class="id" title="binder">cs</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="617c42c2fa01cf1fae3da6bfdf47e3b6" class="idref" href="#617c42c2fa01cf1fae3da6bfdf47e3b6"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:948"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#617c42c2fa01cf1fae3da6bfdf47e3b6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#617c42c2fa01cf1fae3da6bfdf47e3b6"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:949"><span class="id" title="variable">cs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="check_constructors_smallerP" class="idref" href="#check_constructors_smallerP"><span class="id" title="lemma">check_constructors_smallerP</span></a> <a id="X_ext:951" class="idref" href="#X_ext:951"><span class="id" title="binder">X_ext</span></a> <a id="cs:952" class="idref" href="#cs:952"><span class="id" title="binder">cs</span></a> <a id="ind_sort:953" class="idref" href="#ind_sort:953"><span class="id" title="binder">ind_sort</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_cs_sorts"><span class="id" title="definition">wf_cs_sorts</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:951"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:952"><span class="id" title="variable">cs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="0c3a0bb8bdecee8d2e6b0c2e758c7d36" class="idref" href="#0c3a0bb8bdecee8d2e6b0c2e758c7d36"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:951"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0c3a0bb8bdecee8d2e6b0c2e758c7d36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0c3a0bb8bdecee8d2e6b0c2e758c7d36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:953"><span class="id" title="variable">ind_sort</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a5fbdcaf12475b3ec22b34139f63a835" class="idref" href="#a5fbdcaf12475b3ec22b34139f63a835"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:951"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a5fbdcaf12475b3ec22b34139f63a835"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#check_constructors_smaller"><span class="id" title="definition">check_constructors_smaller</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a5fbdcaf12475b3ec22b34139f63a835"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:952"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:953"><span class="id" title="variable">ind_sort</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#checkb_constructors_smaller"><span class="id" title="definition">checkb_constructors_smaller</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:951"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:952"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:953"><span class="id" title="variable">ind_sort</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#check_constructors_smaller"><span class="id" title="definition">check_constructors_smaller</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#checkb_constructors_smaller"><span class="id" title="definition">checkb_constructors_smaller</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfcs</span> <span class="id" title="var">wfind</span> ? ?. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallbP_cond"><span class="id" title="lemma">forallbP_cond</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">wfcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">wfc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#forallbP_cond"><span class="id" title="lemma">forallbP_cond</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">wfx</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_compare_sort_correct"><span class="id" title="lemma">abstract_env_compare_sort_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="do_check_ind_sorts" class="idref" href="#do_check_ind_sorts"><span class="id" title="definition">do_check_ind_sorts</span></a> <a id="X_ext:956" class="idref" href="#X_ext:956"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:958" class="idref" href="#normalization_in:958"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="286722b5c247bc9f700423208ae9d002" class="idref" href="#286722b5c247bc9f700423208ae9d002"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#286722b5c247bc9f700423208ae9d002"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#286722b5c247bc9f700423208ae9d002"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:956"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#286722b5c247bc9f700423208ae9d002"><span class="id" title="variable">Σ</span></a>} (<a id="params:959" class="idref" href="#params:959"><span class="id" title="binder">params</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfparams:961" class="idref" href="#wfparams:961"><span class="id" title="binder">wfparams</span></a> : <span class="id" title="keyword">∀</span> <a id="ef541a2cd048a2e81555a8b847d41935" class="idref" href="#ef541a2cd048a2e81555a8b847d41935"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:956"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef541a2cd048a2e81555a8b847d41935"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef541a2cd048a2e81555a8b847d41935"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#params:959"><span class="id" title="variable">params</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="kelim:962" class="idref" href="#kelim:962"><span class="id" title="binder">kelim</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#allowed_eliminations"><span class="id" title="inductive">allowed_eliminations</span></a>) (<a id="indices:963" class="idref" href="#indices:963"><span class="id" title="binder">indices</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="cs:964" class="idref" href="#cs:964"><span class="id" title="binder">cs</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#constructor_univs"><span class="id" title="definition">constructor_univs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfcs:965" class="idref" href="#wfcs:965"><span class="id" title="binder">wfcs</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_cs_sorts"><span class="id" title="definition">wf_cs_sorts</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:956"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:964"><span class="id" title="variable">cs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ind_sort:966" class="idref" href="#ind_sort:966"><span class="id" title="binder">ind_sort</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#sort"><span class="id" title="abbreviation">sort</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfi:968" class="idref" href="#wfi:968"><span class="id" title="binder">wfi</span></a> : <span class="id" title="keyword">∀</span> <a id="1a74e6143b70bf9a01f31071e9a5c3a3" class="idref" href="#1a74e6143b70bf9a01f31071e9a5c3a3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:956"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1a74e6143b70bf9a01f31071e9a5c3a3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#1a74e6143b70bf9a01f31071e9a5c3a3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:966"><span class="id" title="variable">ind_sort</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="8e44e7f1f0a08a4ef9f6beffc5512f5c" class="idref" href="#8e44e7f1f0a08a4ef9f6beffc5512f5c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:956"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8e44e7f1f0a08a4ef9f6beffc5512f5c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#check_ind_sorts"><span class="id" title="definition">check_ind_sorts</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8e44e7f1f0a08a4ef9f6beffc5512f5c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#params:959"><span class="id" title="variable">params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kelim:962"><span class="id" title="variable">kelim</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:963"><span class="id" title="variable">indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:964"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:966"><span class="id" title="variable">ind_sort</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:966"><span class="id" title="variable">ind_sort</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Universes.html#sSProp"><span class="id" title="abbreviation">sSProp</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#allowed_eliminations_subset"><span class="id" title="definition">allowed_eliminations_subset</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kelim:962"><span class="id" title="variable">kelim</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#elim_sort_sprop_ind"><span class="id" title="definition">elim_sort_sprop_ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:964"><span class="id" title="variable">cs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Incorrect allowed_elimination for inductive") <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Universes.html#sProp"><span class="id" title="abbreviation">sProp</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#allowed_eliminations_subset"><span class="id" title="definition">allowed_eliminations_subset</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kelim:962"><span class="id" title="variable">kelim</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#elim_sort_prop_ind"><span class="id" title="definition">elim_sort_prop_ind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:964"><span class="id" title="variable">cs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Incorrect allowed_elimination for inductive") <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.Common.Universes.html#sType"><span class="id" title="abbreviation">sType</span></a> <span class="id" title="var">u</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#checkb_constructors_smaller"><span class="id" title="definition">checkb_constructors_smaller</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:956"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:964"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:966"><span class="id" title="variable">ind_sort</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> ("Incorrect inductive sort: The constructor arguments universes are not smaller than the declared inductive sort")) <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.config.html#indices_matter"><span class="id" title="method">indices_matter</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="tyloc:971" class="idref" href="#tyloc:971"><span class="id" title="binder">tyloc</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_local_ctx"><span class="id" title="definition">check_type_local_ctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:956"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#params:959"><span class="id" title="variable">params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:963"><span class="id" title="variable">indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ind_sort:966"><span class="id" title="variable">ind_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfparams:961"><span class="id" title="variable">wfparams</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#check_ind_sorts"><span class="id" title="definition">check_ind_sorts</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructors_smallerP"><span class="id" title="lemma">check_constructors_smallerP</span></a> <span class="id" title="var">X_ext</span> <span class="id" title="var">cs</span> (<a class="idref" href="MetaRocq.Common.Universes.html#sType"><span class="id" title="abbreviation">sType</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">wfcs</span> <span class="id" title="var">wfi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq_anonymous</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">H</span> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> ⇒ // <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#check_ind_sorts"><span class="id" title="definition">check_ind_sorts</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructors_smallerP"><span class="id" title="lemma">check_constructors_smallerP</span></a> <span class="id" title="var">X_ext</span> <span class="id" title="var">cs</span> (<a class="idref" href="MetaRocq.Common.Universes.html#sType"><span class="id" title="abbreviation">sType</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">wfcs</span> <span class="id" title="var">wfi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">H</span> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> ⇒ // <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heq_anonymous</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sorts_local_ctx_wf_sorts" class="idref" href="#sorts_local_ctx_wf_sorts"><span class="id" title="lemma">sorts_local_ctx_wf_sorts</span></a> (<a id="4e80d276a92ca0c370987bcc5afab6d7" class="idref" href="#4e80d276a92ca0c370987bcc5afab6d7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) {<a id="wfX:973" class="idref" href="#wfX:973"><span class="id" title="binder">wfX</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4e80d276a92ca0c370987bcc5afab6d7"><span class="id" title="variable">Σ</span></a>} <a id="19bd9cc94936e546c017e9bd32f40794" class="idref" href="#19bd9cc94936e546c017e9bd32f40794"><span class="id" title="binder">Γ</span></a> <a id="796f8654c9cdcb01dcb8f073bf7bb80c" class="idref" href="#796f8654c9cdcb01dcb8f073bf7bb80c"><span class="id" title="binder">Δ</span></a> <a id="s:976" class="idref" href="#s:976"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#sorts_local_ctx"><span class="id" title="definition">sorts_local_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4e80d276a92ca0c370987bcc5afab6d7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#19bd9cc94936e546c017e9bd32f40794"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#796f8654c9cdcb01dcb8f073bf7bb80c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:976"><span class="id" title="variable">s</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#wf_sort"><span class="id" title="definition">wf_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4e80d276a92ca0c370987bcc5afab6d7"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#s:976"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#unlift_TypUniv"><span class="id" title="definition">unlift_TypUniv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWfUniverses.html#typing_wf_sort"><span class="id" title="lemma">typing_wf_sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="var">Program.Tactics.program_simplify</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_indices" class="idref" href="#check_indices"><span class="id" title="definition">check_indices</span></a> <a id="X:977" class="idref" href="#X:977"><span class="id" title="binder">X</span></a> <a id="mdecl:978" class="idref" href="#mdecl:978"><span class="id" title="binder">mdecl</span></a> (<a id="id:979" class="idref" href="#id:979"><span class="id" title="binder">id</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfX:981" class="idref" href="#wfX:981"><span class="id" title="binder">wfX</span></a> : <span class="id" title="keyword">∀</span> <a id="2313bfe584b54950b9a385ef88e0354a" class="idref" href="#2313bfe584b54950b9a385ef88e0354a"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2313bfe584b54950b9a385ef88e0354a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2313bfe584b54950b9a385ef88e0354a"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mdeclvar:983" class="idref" href="#mdeclvar:983"><span class="id" title="binder">mdeclvar</span></a> : <span class="id" title="keyword">∀</span> <a id="8321669b67244285738a73634d0369f7" class="idref" href="#8321669b67244285738a73634d0369f7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8321669b67244285738a73634d0369f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8321669b67244285738a73634d0369f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="indices:984" class="idref" href="#indices:984"><span class="id" title="binder">indices</span></a> (<a id="50a6f1b7fde321cb09e7d1cd4822278e" class="idref" href="#50a6f1b7fde321cb09e7d1cd4822278e"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="9ae004736850773fa1cdd7db6cdde9fd" class="idref" href="#9ae004736850773fa1cdd7db6cdde9fd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9ae004736850773fa1cdd7db6cdde9fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9ae004736850773fa1cdd7db6cdde9fd"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:984"><span class="id" title="variable">indices</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="fea25672c73180248c52dc84b63e12f6" class="idref" href="#fea25672c73180248c52dc84b63e12f6"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fea25672c73180248c52dc84b63e12f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> | <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_respects_variance"><span class="id" title="definition">ind_respects_variance</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#fea25672c73180248c52dc84b63e12f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a> <span class="id" title="var">v</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:984"><span class="id" title="variable">indices</span></a> <span class="id" title="keyword">end</span> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="univs:988" class="idref" href="#univs:988"><span class="id" title="binder">univs</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:988"><span class="id" title="variable">univs</span></a> <span class="id" title="var">v</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">univs0</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <span class="id" title="var">u'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'(</span></a><a id="pat:991" class="idref" href="#pat:991"><span class="id" title="binder">exist</span></a> <a id="wfext:990" class="idref" href="#wfext:990"><span class="id" title="binder"><span id="pat:991" class="id">wfext</span></span></a> <a id="eq:989" class="idref" href="#eq:989"><span class="id" title="binder"><span id="pat:991" class="id">eq</span></span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#make_abstract_env_ext"><span class="id" title="definition">make_abstract_env_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:979"><span class="id" title="variable">id</span></a> <span class="id" title="var">univs0</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="checkctx:992" class="idref" href="#checkctx:992"><span class="id" title="binder">checkctx</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfext:990"><span class="id" title="variable">wfext</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:979"><span class="id" title="variable">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_compare_context"><span class="id" title="definition">check_compare_context</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfext:990"><span class="id" title="variable">wfext</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:984"><span class="id" title="variable">indices</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u'</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:978"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#indices:984"><span class="id" title="variable">indices</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">mdeclvar</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xprop</span> ?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Xprop</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Xprop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cu</span> <span class="id" title="var">cu'</span>]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_subst_instance"><span class="id" title="lemma">wf_ctx_universes_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#consistent_instance_ext_wf"><span class="id" title="lemma">consistent_instance_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#wf_local_smash_end"><span class="id" title="lemma">wf_local_smash_end</span></a>: <span class="id" title="var">wfΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#wf_local_expand_lets"><span class="id" title="lemma">wf_local_expand_lets</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_local_wf_ctx_universes"><span class="id" title="lemma">wf_local_wf_ctx_universes</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_app"><span class="id" title="lemma">wf_ctx_universes_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">mdeclvar</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xprop</span> ?]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Xprop</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Xprop</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Xprop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#variance_universes_spec"><span class="id" title="lemma">variance_universes_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cu</span> <span class="id" title="var">cu'</span>]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_subst_instance"><span class="id" title="lemma">wf_ctx_universes_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeConversion.html#consistent_instance_ext_wf"><span class="id" title="lemma">consistent_instance_ext_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICContexts.html#wf_local_smash_end"><span class="id" title="lemma">wf_local_smash_end</span></a>: <span class="id" title="var">wfΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#9c82c702508313fd669cee3f1f4704ce"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">_</span>]<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_assoc"><span class="id" title="lemma">app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.PCUIC.PCUICInductives.html#wf_local_expand_lets"><span class="id" title="lemma">wf_local_expand_lets</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_local_wf_ctx_universes"><span class="id" title="lemma">wf_local_wf_ctx_universes</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ctx_universes_app"><span class="id" title="lemma">wf_ctx_universes_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heq_anonymous0</span> <span class="id" title="var">into</span> <span class="id" title="var">eqvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="var">into</span> <span class="id" title="var">eqvaru</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqvaru</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqvaru</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">mdeclvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqvar</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mdeclvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="keyword">as</span> [|[<span class="id" title="var">inst</span> <span class="id" title="var">cstrs</span>]] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.Typing.PCUICContextConversionTyp.html#eq_context_cumul_Spec_rel"><span class="id" title="lemma">PCUICContextConversionTyp.eq_context_cumul_Spec_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heq_anonymous0</span> <span class="id" title="var">into</span> <span class="id" title="var">eqvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heq_anonymous</span> <span class="id" title="var">into</span> <span class="id" title="var">eqvaru</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">H</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqvar</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mdeclvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#variance_universes_insts"><span class="id" title="lemma">variance_universes_insts</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="MetaRocq.PCUIC.utils.PCUICAstUtils.html#empty_ext"><span class="id" title="definition">empty_ext</span></a> <span class="id" title="var">Σ</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">mdeclvar</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs'</span> [<span class="id" title="var">i</span> [<span class="id" title="var">i'</span> []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqvaru</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_ind_type" class="idref" href="#check_ind_type"><span class="id" title="definition">check_ind_type</span></a> <a id="X_ext:993" class="idref" href="#X_ext:993"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:995" class="idref" href="#normalization_in:995"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="43c4afe6839e40baa2bd456be743d0e7" class="idref" href="#43c4afe6839e40baa2bd456be743d0e7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#43c4afe6839e40baa2bd456be743d0e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#43c4afe6839e40baa2bd456be743d0e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#43c4afe6839e40baa2bd456be743d0e7"><span class="id" title="variable">Σ</span></a>} (<a id="mdecl:996" class="idref" href="#mdecl:996"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) (<a id="idecl:997" class="idref" href="#idecl:997"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="e4733b1dc6a9d0a825cb2e4cc0341dfb" class="idref" href="#e4733b1dc6a9d0a825cb2e4cc0341dfb"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e4733b1dc6a9d0a825cb2e4cc0341dfb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_type"><span class="id" title="definition">wf_ind_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e4733b1dc6a9d0a825cb2e4cc0341dfb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:996"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:1004" class="idref" href="#pat:1004"><span class="id" title="binder">(</span></a><a id="ctxinds:1003" class="idref" href="#ctxinds:1003"><span class="id" title="binder"><span id="pat:1004" class="id">ctxinds</span></span></a><a id="pat:1004" class="idref" href="#pat:1004"><span class="id" title="binder">;</span></a> <a id="p:1002" class="idref" href="#p:1002"><span class="id" title="binder"><span id="pat:1004" class="id">p</span></span></a><a id="pat:1004" class="idref" href="#pat:1004"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>) ((<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">da</span> <span class="id" title="keyword">return</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#da:999"><span class="id" title="variable">da</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="ctxs:1000" class="idref" href="#ctxs:1000"><span class="id" title="binder">ctxs</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctxs:1000"><span class="id" title="variable">ctxs</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctxs:1000"><span class="id" title="variable">ctxs</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="eq:1001" class="idref" href="#eq:1001"><span class="id" title="binder">eq</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#NotAnArity"><span class="id" title="constructor">NotAnArity</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)) <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">indices</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">params</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaRocq.Utils.MRList.html#split_at"><span class="id" title="definition">split_at</span></a> (<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctxinds:1003"><span class="id" title="variable">ctxinds</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:996"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>)<a class="idref" href="MetaRocq.Utils.MRList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctxinds:1003"><span class="id" title="variable">ctxinds</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqsort:1005" class="idref" href="#eqsort:1005"><span class="id" title="binder">eqsort</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ctxinds:1003"><span class="id" title="variable">ctxinds</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Inductive body sort does not match the sort of the inductive type"))<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="check:1006" class="idref" href="#check:1006"><span class="id" title="binder">check</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>) (<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#relevance_of_sort"><span class="id" title="abbreviation">relevance_of_sort</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaRocq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">)</span></a>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Wrong relevance")) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqpars:1007" class="idref" href="#eqpars:1007"><span class="id" title="binder">eqpars</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">params</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:996"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Inductive arity parameters do not match the parameters of the mutual declaration"))<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqindices:1008" class="idref" href="#eqindices:1008"><span class="id" title="binder">eqindices</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_true"><span class="id" title="definition">check_eq_true</span></a> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">indices</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "Inductive arity indices do not match the indices of the mutual declaration"))<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="isty:1009" class="idref" href="#isty:1009"><span class="id" title="binder">isty</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_type_wf_env"><span class="id" title="definition">infer_type_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:993"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#sq_wfl_nil"><span class="id" title="lemma">sq_wfl_nil</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:997"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>)) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.Syntax.PCUICLiftSubst.html#destArity_spec_Some"><span class="id" title="lemma">destArity_spec_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="var">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">isty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">params</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)); [|<span class="id" title="tactic">discriminate</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">params</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Utils.MRList.html#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_anonymous</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">Heq_anonymous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> {1}<span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqindices</span>, <span class="id" title="var">eqsort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqindices</span> -<span class="id" title="var">eqsort</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaRocq.Common.BasicAst.html#app_context"><span class="id" title="definition">app_context</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>, <span class="id" title="var">check</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_ind_types" class="idref" href="#check_ind_types"><span class="id" title="definition">check_ind_types</span></a> <a id="X_ext:1010" class="idref" href="#X_ext:1010"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:1012" class="idref" href="#normalization_in:1012"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="5a87bf8206f97449613d858ff6cf6654" class="idref" href="#5a87bf8206f97449613d858ff6cf6654"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5a87bf8206f97449613d858ff6cf6654"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5a87bf8206f97449613d858ff6cf6654"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1010"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#5a87bf8206f97449613d858ff6cf6654"><span class="id" title="variable">Σ</span></a>} (<a id="mdecl:1013" class="idref" href="#mdecl:1013"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="82b5db5c9fd7eab8e59fe5b68bf9ecaf" class="idref" href="#82b5db5c9fd7eab8e59fe5b68bf9ecaf"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1010"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#82b5db5c9fd7eab8e59fe5b68bf9ecaf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#82b5db5c9fd7eab8e59fe5b68bf9ecaf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1013"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="indtys:1015" class="idref" href="#indtys:1015"><span class="id" title="binder">indtys</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#monad_All"><span class="id" title="definition">monad_All</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_ind_type"><span class="id" title="definition">check_ind_type</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1010"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1013"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1013"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_sq"><span class="id" title="lemma">All_sq</span></a>, <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">indtys</span>) ⇒ <span class="id" title="var">idecl</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_one_ind_body" class="idref" href="#check_one_ind_body"><span class="id" title="definition">check_one_ind_body</span></a> <a id="X:1016" class="idref" href="#X:1016"><span class="id" title="binder">X</span></a> <a id="X_ext:1017" class="idref" href="#X_ext:1017"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:1019" class="idref" href="#normalization_in:1019"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="9159c018b3efa0829dafb35991640d1b" class="idref" href="#9159c018b3efa0829dafb35991640d1b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9159c018b3efa0829dafb35991640d1b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9159c018b3efa0829dafb35991640d1b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9159c018b3efa0829dafb35991640d1b"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mind:1020" class="idref" href="#mind:1020"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a>) (<a id="mdecl:1021" class="idref" href="#mdecl:1021"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:1022" class="idref" href="#pf:1022"><span class="id" title="binder">pf</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1016"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfpars:1024" class="idref" href="#wfpars:1024"><span class="id" title="binder">wfpars</span></a> : <span class="id" title="keyword">∀</span> <a id="4015144372f8f5c6783c73ade265b08b" class="idref" href="#4015144372f8f5c6783c73ade265b08b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4015144372f8f5c6783c73ade265b08b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4015144372f8f5c6783c73ade265b08b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wfars:1026" class="idref" href="#wfars:1026"><span class="id" title="binder">wfars</span></a> : <span class="id" title="keyword">∀</span> <a id="8fbd7791708800e51c8b9f8680f5ace0" class="idref" href="#8fbd7791708800e51c8b9f8680f5ace0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8fbd7791708800e51c8b9f8680f5ace0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wf_ind_types"><span class="id" title="definition">wf_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8fbd7791708800e51c8b9f8680f5ace0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mdeclvar:1028" class="idref" href="#mdeclvar:1028"><span class="id" title="binder">mdeclvar</span></a> : <span class="id" title="keyword">∀</span> <a id="9399b0a5a86c4f865674a88caa4d6ff5" class="idref" href="#9399b0a5a86c4f865674a88caa4d6ff5"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1016"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9399b0a5a86c4f865674a88caa4d6ff5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#9399b0a5a86c4f865674a88caa4d6ff5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:1029" class="idref" href="#i:1029"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="idecl:1030" class="idref" href="#idecl:1030"><span class="id" title="binder">idecl</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hnth:1031" class="idref" href="#hnth:1031"><span class="id" title="binder">hnth</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:1029"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="bfb118fe4bb4c19b6a3ea157eec620e7" class="idref" href="#bfb118fe4bb4c19b6a3ea157eec620e7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bfb118fe4bb4c19b6a3ea157eec620e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_ind_body"><span class="id" title="record">on_ind_body</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bfb118fe4bb4c19b6a3ea157eec620e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:1020"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:1029"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="id:1033" class="idref" href="#id:1033"><span class="id" title="binder">id</span></a> := <a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:1020"><span class="id" title="variable">mind</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'</span></a><a id="pat:1036" class="idref" href="#pat:1036"><span class="id" title="binder">(</span></a><a id="cs:1035" class="idref" href="#cs:1035"><span class="id" title="binder"><span id="pat:1036" class="id">cs</span></span></a><a id="pat:1036" class="idref" href="#pat:1036"><span class="id" title="binder">;</span></a> <a id="oncstrs:1034" class="idref" href="#oncstrs:1034"><span class="id" title="binder"><span id="pat:1036" class="id">oncstrs</span></span></a><a id="pat:1036" class="idref" href="#pat:1036"><span class="id" title="binder">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_constructors"><span class="id" title="definition">check_constructors</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1016"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:1020"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#pf:1022"><span class="id" title="variable">pf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfars:1026"><span class="id" title="variable">wfars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfpars:1024"><span class="id" title="variable">wfpars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdeclvar:1028"><span class="id" title="variable">mdeclvar</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:1029"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#hnth:1031"><span class="id" title="variable">hnth</span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="onprojs:1037" class="idref" href="#onprojs:1037"><span class="id" title="binder">onprojs</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> ("Checking projections of " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1033"><span class="id" title="variable">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_projections"><span class="id" title="definition">check_projections</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:1020"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:1029"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:1035"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#oncstrs:1034"><span class="id" title="variable">oncstrs</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="onsorts:1038" class="idref" href="#onsorts:1038"><span class="id" title="binder">onsorts</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> ("Checking universes of " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1033"><span class="id" title="variable">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#do_check_ind_sorts"><span class="id" title="definition">do_check_ind_sorts</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1017"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#wfpars:1024"><span class="id" title="variable">wfpars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cs:1035"><span class="id" title="variable">cs</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a>) <span class="id" title="var">_</span>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="onindices:1039" class="idref" href="#onindices:1039"><span class="id" title="binder">onindices</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_indices"><span class="id" title="definition">check_indices</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1016"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdecl:1021"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mind:1020"><span class="id" title="variable">mind</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#mdeclvar:1028"><span class="id" title="variable">mdeclvar</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#idecl:1030"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pf</span> ?]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">ext</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>) <span class="id" title="keyword">as</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">pf</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#sorts_local_ctx_wf_sorts"><span class="id" title="lemma">sorts_local_ctx_wf_sorts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">ext</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pf</span> ?]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfars</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfars</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfars</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>) &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#inversion_it_mkProd_or_LetIn"><span class="id" title="lemma">PCUICSpine.inversion_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInversion.html#inversion_Sort"><span class="id" title="lemma">inversion_Sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [? <span class="id" title="var">_</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pf</span> ?]; <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pf</span> <span class="id" title="var">pf'</span>]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">pf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>) <span class="id" title="keyword">as</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">onprojs</span> <span class="id" title="var">onsorts</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfars</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfars</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfars</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">_</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span>) &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> -<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICSpine.html#inversion_it_mkProd_or_LetIn"><span class="id" title="lemma">PCUICSpine.inversion_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.BasicAst.html#app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">cs</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">ext</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pf</span> <span class="id" title="var">pf'</span>]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.Utils.All_Forall.html#All_nth_error"><span class="id" title="lemma">All_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfars</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">isty</span> &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">eqrel</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_arity_eq"><span class="id" title="projection">ind_arity_eq</span></a> := <span class="id" title="var">e</span>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onArity"><span class="id" title="projection">onArity</span></a> := <span class="id" title="var">_</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_cunivs"><span class="id" title="projection">ind_cunivs</span></a> := <span class="id" title="var">cs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onConstructors"><span class="id" title="projection">onConstructors</span></a> := <span class="id" title="var">oncstrs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onProjections"><span class="id" title="projection">onProjections</span></a> := <span class="id" title="var">onprojs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_sorts"><span class="id" title="projection">ind_sorts</span></a> := <span class="id" title="var">onsorts</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#ind_relevance_compat"><span class="id" title="projection">ind_relevance_compat</span></a> := <span class="id" title="var">eqrel</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#onIndices"><span class="id" title="projection">onIndices</span></a> := <span class="id" title="var">_</span>; |}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isty</span> |- *; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICInductiveInversion.html#ind_arity_relevant"><span class="id" title="lemma">PCUICInductiveInversion.ind_arity_relevant</span></a> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a> <span class="id" title="var">mdecl</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_wf_decl" class="idref" href="#check_wf_decl"><span class="id" title="definition">check_wf_decl</span></a> <a id="X:1040" class="idref" href="#X:1040"><span class="id" title="binder">X</span></a> <a id="X_ext:1041" class="idref" href="#X_ext:1041"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:1043" class="idref" href="#normalization_in:1043"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="b4a63f95d232a075029b595e0fee90dd" class="idref" href="#b4a63f95d232a075029b595e0fee90dd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b4a63f95d232a075029b595e0fee90dd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b4a63f95d232a075029b595e0fee90dd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#b4a63f95d232a075029b595e0fee90dd"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="kn:1044" class="idref" href="#kn:1044"><span class="id" title="binder">kn</span></a> (<a id="d:1045" class="idref" href="#d:1045"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:1046" class="idref" href="#pf:1046"><span class="id" title="binder">pf</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1040"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:1045"><span class="id" title="variable">d</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<span class="id" title="keyword">∀</span> <a id="29e52ed4415332b84f8a3b50edea3642" class="idref" href="#29e52ed4415332b84f8a3b50edea3642"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#29e52ed4415332b84f8a3b50edea3642"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_decl"><span class="id" title="definition">on_global_decl</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="abbreviation">lift_typing</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#29e52ed4415332b84f8a3b50edea3642"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kn:1044"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:1045"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:1045"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cst</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kn:1044"><span class="id" title="variable">kn</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_judgment_wf_env"><span class="id" title="definition">check_judgment_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICTypeChecker.html#sq_wfl_nil"><span class="id" title="lemma">sq_wfl_nil</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="MetaRocq.Common.BasicAst.html#TermoptTypRel"><span class="id" title="abbreviation">TermoptTypRel</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">cst</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> <span class="id" title="var">cst</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_relevance"><span class="id" title="projection">cst_relevance</span></a> <span class="id" title="var">cst</span>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mdecl</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="id:1049" class="idref" href="#id:1049"><span class="id" title="binder">id</span></a> := <a class="idref" href="MetaRocq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kn:1044"><span class="id" title="variable">kn</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_var:1050" class="idref" href="#check_var:1050"><span class="id" title="binder">check_var</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_variance"><span class="id" title="definition">check_variance</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1040"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kn:1044"><span class="id" title="variable">kn</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl</span>) (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_pars:1051" class="idref" href="#check_pars:1051"><span class="id" title="binder">check_pars</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1049"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_context_wf_env"><span class="id" title="definition">check_context_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_npars:1052" class="idref" href="#check_npars:1052"><span class="id" title="binder">check_npars</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1049"><span class="id" title="variable">id</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.Utils.monad_utils.html#check_eq_nat"><span class="id" title="definition">check_eq_nat</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <span class="id" title="var">mdecl</span>) (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "wrong number of parameters")) <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="onarities:1053" class="idref" href="#onarities:1053"><span class="id" title="binder">onarities</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_ind_types"><span class="id" title="definition">check_ind_types</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> <span class="id" title="var">mdecl</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="check_bodies:1057" class="idref" href="#check_bodies:1057"><span class="id" title="binder">check_bodies</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#monad_Alli_nth_forall"><span class="id" title="definition">monad_Alli_nth_forall</span></a> <span class="id" title="var">mdecl</span>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) (<span class="id" title="keyword">fun</span> <a id="i:1054" class="idref" href="#i:1054"><span class="id" title="binder">i</span></a> <a id="oib:1055" class="idref" href="#oib:1055"><span class="id" title="binder">oib</span></a> <a id="Hoib:1056" class="idref" href="#Hoib:1056"><span class="id" title="binder">Hoib</span></a> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_one_ind_body"><span class="id" title="definition">check_one_ind_body</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1040"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1041"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#kn:1044"><span class="id" title="variable">kn</span></a> <span class="id" title="var">mdecl</span> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_pars:1051"><span class="id" title="variable">check_pars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#onarities:1053"><span class="id" title="variable">onarities</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_var:1050"><span class="id" title="variable">check_var</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#i:1054"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#oib:1055"><span class="id" title="variable">oib</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hoib:1056"><span class="id" title="variable">Hoib</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Build_on_inductive_sq"><span class="id" title="definition">Build_on_inductive_sq</span></a>  <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_bodies:1057"><span class="id" title="variable">check_bodies</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_pars:1051"><span class="id" title="variable">check_pars</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_npars:1052"><span class="id" title="variable">check_npars</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq_d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">pf</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">pf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">pf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pf</span> <span class="id" title="var">pf'</span>]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ0</span> <span class="id" title="var">wfΣ0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaRocq.Common.EnvMap.html#EnvMap"><span class="id" title="module">EnvMap</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="global_uctx_univs" class="idref" href="#global_uctx_univs"><span class="id" title="definition">global_uctx_univs</span></a> (<a id="univs:1058" class="idref" href="#univs:1058"><span class="id" title="binder">univs</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1058"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.constraints"><span class="id" title="definition">ContextSet.constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1058"><span class="id" title="variable">univs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="levels_global_levels_declared" class="idref" href="#levels_global_levels_declared"><span class="id" title="lemma">levels_global_levels_declared</span></a> <a id="univs:1059" class="idref" href="#univs:1059"><span class="id" title="binder">univs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.levels"><span class="id" title="definition">ContextSet.levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1059"><span class="id" title="variable">univs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.Equal"><span class="id" title="definition">LevelSet.Equal</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICLookup.global_levels"><span class="id" title="definition">PCUICLookup.global_levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1059"><span class="id" title="variable">univs</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.levels"><span class="id" title="definition">ContextSet.levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1059"><span class="id" title="variable">univs</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">move</span> / <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.singleton_spec"><span class="id" title="lemma">LevelSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lsets</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_univs" class="idref" href="#check_univs"><span class="id" title="definition">check_univs</span></a> (<a id="univs:1060" class="idref" href="#univs:1060"><span class="id" title="binder">univs</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>) (<a id="retro:1061" class="idref" href="#retro:1061"><span class="id" title="binder">retro</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">Retroknowledge.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="X:1062" class="idref" href="#X:1062"><span class="id" title="binder">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="694da900572c37ca47e590680e36ccdd" class="idref" href="#694da900572c37ca47e590680e36ccdd"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1062"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#694da900572c37ca47e590680e36ccdd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#694da900572c37ca47e590680e36ccdd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1060"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#retro:1061"><span class="id" title="variable">retro</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#on_global_univs"><span class="id" title="definition">on_global_univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1060"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="id:1064" class="idref" href="#id:1064"><span class="id" title="binder">id</span></a> := "toplevel" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="levels:1065" class="idref" href="#levels:1065"><span class="id" title="binder">levels</span></a> := <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.levels"><span class="id" title="definition">ContextSet.levels</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1060"><span class="id" title="variable">univs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_true_lazy"><span class="id" title="definition">check_eq_true_lazy</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1065"><span class="id" title="variable">levels</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#abstract_env_ext_empty"><span class="id" title="definition">abstract_env_ext_empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1064"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> ("Set not in the global levels " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#print_lset"><span class="id" title="definition">print_lset</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1065"><span class="id" title="variable">levels</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_true_lazy"><span class="id" title="definition">check_eq_true_lazy</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.for_all"><span class="id" title="definition">LevelSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="l:1066" class="idref" href="#l:1066"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#l:1066"><span class="id" title="variable">l</span></a>)) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1065"><span class="id" title="variable">levels</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#abstract_env_ext_empty"><span class="id" title="definition">abstract_env_ext_empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1064"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> ("variable level in the global levels " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#print_lset"><span class="id" title="definition">print_lset</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1065"><span class="id" title="variable">levels</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_true_lazy"><span class="id" title="definition">check_eq_true_lazy</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.for_all"><span class="id" title="definition">ConstraintSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="c:1067" class="idref" href="#c:1067"><span class="id" title="binder">c</span></a> ⇒ <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c:1067"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1065"><span class="id" title="variable">levels</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#c:1067"><span class="id" title="variable">c</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1065"><span class="id" title="variable">levels</span></a>) (<a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.constraints"><span class="id" title="definition">ContextSet.constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1060"><span class="id" title="variable">univs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#abstract_env_ext_empty"><span class="id" title="definition">abstract_env_ext_empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1064"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> ("non declared level in " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#print_lset"><span class="id" title="definition">print_lset</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels:1065"><span class="id" title="variable">levels</span></a> <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" |= " <a class="idref" href="MetaRocq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#print_constraint_set"><span class="id" title="definition">print_constraint_set</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.constraints"><span class="id" title="definition">ContextSet.constraints</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1060"><span class="id" title="variable">univs</span></a>)))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_uctx"><span class="id" title="definition">gc_of_uctx</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1060"><span class="id" title="variable">univs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X'</span> <span class="id" title="keyword">return</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1068"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#abstract_env_ext_empty"><span class="id" title="definition">abstract_env_ext_empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1064"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "constraints trivially not satisfiable")<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">uctx</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_eq_true_lazy"><span class="id" title="definition">check_eq_true_lazy</span></a> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_is_consistent_empty"><span class="id" title="definition">abstract_env_is_consistent_empty</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a> <span class="id" title="var">uctx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#abstract_env_ext_empty"><span class="id" title="definition">abstract_env_ext_empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#id:1064"><span class="id" title="variable">id</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Msg"><span class="id" title="constructor">Msg</span></a> "constraints not satisfiable")<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<span class="id" title="keyword">let</span> <a id="Hunivs:1069" class="idref" href="#Hunivs:1069"><span class="id" title="binder">Hunivs</span></a> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_init"><span class="id" title="method">abstract_env_init</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1060"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#retro:1061"><span class="id" title="variable">retro</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hunivs:1069"><span class="id" title="variable">Hunivs</span></a>) <span class="id" title="var">_</span>) <span class="id" title="keyword">end</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">have</span> <span class="id" title="var">decll</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.For_all"><span class="id" title="definition">ConstraintSet.For_all</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#declared_cstr_levels"><span class="id" title="definition">declared_cstr_levels</span></a> (<a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.levels"><span class="id" title="definition">ContextSet.levels</span></a> <span class="id" title="var">univs</span>)) (<a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.constraints"><span class="id" title="definition">ContextSet.constraints</span></a> <span class="id" title="var">univs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">i1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSet.for_all_spec"><span class="id" title="lemma">ConstraintSet.for_all_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">l</span> <span class="id" title="var">ct</span>] <span class="id" title="var">l'</span>] <span class="id" title="var">Hl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">i1</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">split</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">decll</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>). <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">p</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels_global_levels_declared"><span class="id" title="lemma">levels_global_levels_declared</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.Common.Universes.html#declared_cstr_levels"><span class="id" title="definition">declared_cstr_levels</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> - <span class="id" title="var">i</span> <span class="id" title="var">i0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.Universes.html#LevelSet.for_all_spec"><span class="id" title="lemma">LevelSet.for_all_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#levels_global_levels_declared"><span class="id" title="lemma">levels_global_levels_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">e</span> <span class="id" title="var">into</span> <span class="id" title="var">Huctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaRocq.Common.uGraph.html#gc_of_constraints"><span class="id" title="definition">gc_of_constraints</span></a> <span class="id" title="var">univs</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">intro</span> <span class="id" title="var">XX</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">XX</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Huctx</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">Huctx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σctrs</span> <span class="id" title="var">HΣctrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_is_consistent_empty"><span class="id" title="definition">abstract_env_is_consistent_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">abs_init</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_init_correct"><span class="id" title="method">abstract_env_init_correct</span></a> (<span class="id" title="var">abstract_env_impl</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Universes.html#LS.singleton"><span class="id" title="definition">LS.singleton</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.Common.Universes.html#CS.empty"><span class="id" title="definition">CS.empty</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.empty"><span class="id" title="definition">Retroknowledge.empty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty_obligation_1"><span class="id" title="lemma">PCUICWfEnv.abstract_env_empty_obligation_1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">abs_consist</span> := <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_is_consistent_correct"><span class="id" title="method">abstract_env_is_consistent_correct</span></a> (@<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_empty"><span class="id" title="definition">abstract_env_empty</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.cf"><span class="id" title="variable">cf</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv.X_impl"><span class="id" title="variable">X_impl</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">uctx</span> <span class="id" title="var">univs</span> <span class="id" title="var">abs_init</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΣctrs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">abs_consist</span>, <span class="id" title="var">Huctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">abs_init</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">abs_consist</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i2</span>; <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">clear</span> <span class="id" title="var">abs_consist</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#wf_consistent_extension_on_consistent"><span class="id" title="lemma">wf_consistent_extension_on_consistent</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#ConstraintSetProp.union_sym"><span class="id" title="lemma">ConstraintSetProp.union_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaRocq.Common.Universes.html#CS_union_empty"><span class="id" title="lemma">CS_union_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? <span class="id" title="var">H</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">decll</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaRocq.PCUIC.PCUICWeakeningEnv.html#declared_cstr_levels_sub"><span class="id" title="lemma">PCUICWeakeningEnv.declared_cstr_levels_sub</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaRocq.Common.uGraph.html#wGraph.VSetProp.union_subset_1"><span class="id" title="lemma">wGraph.VSetProp.union_subset_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">univs</span> <span class="id" title="var">retro</span> <span class="id" title="var">id</span> <span class="id" title="var">levels</span> <span class="id" title="var">X</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">Hconsistent</span> ? ? <span class="id" title="var">Hunivs</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">Hunivs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_init_correct"><span class="id" title="method">abstract_env_init_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="var">Tactics.program_simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="check_wf_decls" class="idref" href="#check_wf_decls"><span class="id" title="definition">check_wf_decls</span></a> (<a id="univs:1070" class="idref" href="#univs:1070"><span class="id" title="binder">univs</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>) (<a id="retro:1071" class="idref" href="#retro:1071"><span class="id" title="binder">retro</span></a> : <a class="idref" href="MetaRocq.Common.Environment.html#Retroknowledge.t"><span class="id" title="record">Retroknowledge.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="decls:1072" class="idref" href="#decls:1072"><span class="id" title="binder">decls</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="normalization_in:1088" class="idref" href="#normalization_in:1088"><span class="id" title="binder">normalization_in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="d:1073" class="idref" href="#d:1073"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaRocq.Common.Kernames.html#kername"><span class="id" title="definition">kername</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="decls':1074" class="idref" href="#decls':1074"><span class="id" title="binder">decls'</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdecls':1076" class="idref" href="#Hdecls':1076"><span class="id" title="binder">Hdecls'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:1075" class="idref" href="#n:1075"><span class="id" title="binder">n</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#skipn"><span class="id" title="abbreviation">List.skipn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#n:1075"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls:1072"><span class="id" title="variable">decls</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls':1074"><span class="id" title="variable">decls'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:1079" class="idref" href="#x:1079"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="X:1077" class="idref" href="#X:1077"><span class="id" title="binder">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">∀</span> <a id="37cb755dd673c310af25d14b6b5fd3a7" class="idref" href="#37cb755dd673c310af25d14b6b5fd3a7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#37cb755dd673c310af25d14b6b5fd3a7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1077"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#37cb755dd673c310af25d14b6b5fd3a7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1070"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls':1074"><span class="id" title="variable">decls'</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#retro:1071"><span class="id" title="variable">retro</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:1080" class="idref" href="#X:1080"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wf_:1082" class="idref" href="#wf_:1082"><span class="id" title="binder">wf_</span></a> : <span class="id" title="keyword">∀</span> <a id="7874da4ae4d419353150a28f17154095" class="idref" href="#7874da4ae4d419353150a28f17154095"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7874da4ae4d419353150a28f17154095"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1080"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#7874da4ae4d419353150a28f17154095"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1070"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls':1074"><span class="id" title="variable">decls'</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#retro:1071"><span class="id" title="variable">retro</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="isfresh:1083" class="idref" href="#isfresh:1083"><span class="id" title="binder">isfresh</span></a> : <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">PCUICAst.fresh_global</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:1073"><span class="id" title="variable">d</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls':1074"><span class="id" title="variable">decls'</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="udecl:1084" class="idref" href="#udecl:1084"><span class="id" title="binder">udecl</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#d:1073"><span class="id" title="variable">d</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> : <a class="idref" href="MetaRocq.Common.Universes.html#universes_decl"><span class="id" title="inductive">universes_decl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X':1086" class="idref" href="#X':1086"><span class="id" title="binder">X'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="X_ext:1085" class="idref" href="#X_ext:1085"><span class="id" title="binder">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1080"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1085"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:1084"><span class="id" title="variable">udecl</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="e197ababcbeccae07ed7d486bbaf0d9e" class="idref" href="#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeReduce.html#998905012a00dd2c1bb5b4a980f46cc2"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1086"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="variable">Σ</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="X:1089" class="idref" href="#X:1089"><span class="id" title="binder">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="4996c9e56c71960e05251b219854a8e4" class="idref" href="#4996c9e56c71960e05251b219854a8e4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1089"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4996c9e56c71960e05251b219854a8e4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4996c9e56c71960e05251b219854a8e4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1070"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls:1072"><span class="id" title="variable">decls</span></a>; <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#retro:1071"><span class="id" title="variable">retro</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">)}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls:1072"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="X:1093" class="idref" href="#X:1093"><span class="id" title="binder">X</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_univs"><span class="id" title="definition">check_univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1070"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#retro:1071"><span class="id" title="variable">retro</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1093"><span class="id" title="variable">X</span></a>) <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒ <span class="id" title="keyword">fun</span> <a id="normalization_in:1094" class="idref" href="#normalization_in:1094"><span class="id" title="binder">normalization_in</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'(</span></a><a id="pat:1097" class="idref" href="#pat:1097"><span class="id" title="binder">exist</span></a> <a id="X:1096" class="idref" href="#X:1096"><span class="id" title="binder"><span id="pat:1097" class="id">X</span></span></a> <a id="wf_:1095" class="idref" href="#wf_:1095"><span class="id" title="binder"><span id="pat:1097" class="id">wf_</span></span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_decls:1091"><span class="id" title="definition">check_wf_decls</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#univs:1070"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#retro:1071"><span class="id" title="variable">retro</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls:1072"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="isfresh:1098" class="idref" href="#isfresh:1098"><span class="id" title="binder">isfresh</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_fresh"><span class="id" title="definition">check_fresh</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#decls:1072"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="udecl:1099" class="idref" href="#udecl:1099"><span class="id" title="binder">udecl</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="X':1100" class="idref" href="#X':1100"><span class="id" title="binder">X'</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#make_abstract_env_ext"><span class="id" title="definition">make_abstract_env_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1096"><span class="id" title="variable">X</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#udecl:1099"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_decl"><span class="id" title="definition">check_wf_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1096"><span class="id" title="variable">X</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1100"><span class="id" title="variable">X'</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1100"><span class="id" title="variable">X'</span></a>) <a class="idref" href="MetaRocq.Utils.monad_utils.html#3d31a9d36591ef0fb917aef4149126dc"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_decl"><span class="id" title="method">abstract_env_add_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1096"><span class="id" title="variable">X</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : @<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#ex"><span class="id" title="inductive">ex</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">normalization_in</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>); <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="var">Tactics.program_simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">normalization_in</span>; <span class="id" title="tactic">try</span> ((<span class="id" title="tactic">idtac</span> + <span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>); <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 1; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">a</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">wf_</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H0</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">wf_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">wf_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_add_decl_correct"><span class="id" title="method">abstract_env_add_decl_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">k</span> <span class="id" title="var">g</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">a0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_wf_env" class="idref" href="#check_wf_env"><span class="id" title="definition">check_wf_env</span></a> (<a id="3f5d8d4696af9bca69ebabafb11a43e9" class="idref" href="#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="normalization_in:1108" class="idref" href="#normalization_in:1108"><span class="id" title="binder">normalization_in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="g:1102" class="idref" href="#g:1102"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>) (<a id="Hdecls':1103" class="idref" href="#Hdecls':1103"><span class="id" title="binder">Hdecls'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="X:1104" class="idref" href="#X:1104"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="6bc5cde7f7cc163b67c3e7af6ae18163" class="idref" href="#6bc5cde7f7cc163b67c3e7af6ae18163"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6bc5cde7f7cc163b67c3e7af6ae18163"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1104"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6bc5cde7f7cc163b67c3e7af6ae18163"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hdecls':1103"><span class="id" title="variable">Hdecls'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="variable">Σ</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="X':1106" class="idref" href="#X':1106"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1104"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1106"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#g:1102"><span class="id" title="variable">g</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="4f63920cb8ad962681704ca55e05b370" class="idref" href="#4f63920cb8ad962681704ca55e05b370"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4f63920cb8ad962681704ca55e05b370"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4f63920cb8ad962681704ca55e05b370"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1106"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#4f63920cb8ad962681704ca55e05b370"><span class="id" title="variable">Σ0</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="X:1109" class="idref" href="#X:1109"><span class="id" title="binder">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_type"><span class="id" title="definition">X_env_type</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1109"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="X:1110" class="idref" href="#X:1110"><span class="id" title="binder">X</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_decls"><span class="id" title="definition">check_wf_decls</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#3f5d8d4696af9bca69ebabafb11a43e9"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1110"><span class="id" title="variable">X</span></a>) <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_wf_ext" class="idref" href="#check_wf_ext"><span class="id" title="definition">check_wf_ext</span></a> (<a id="6b102f25fedc0597db303a2f1d430405" class="idref" href="#6b102f25fedc0597db303a2f1d430405"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="normalization_in:1118" class="idref" href="#normalization_in:1118"><span class="id" title="binder">normalization_in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="g:1112" class="idref" href="#g:1112"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>) (<a id="Hdecls':1113" class="idref" href="#Hdecls':1113"><span class="id" title="binder">Hdecls'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="X:1114" class="idref" href="#X:1114"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="efdc4fb2243657f7402caed6c6b3948e" class="idref" href="#efdc4fb2243657f7402caed6c6b3948e"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#efdc4fb2243657f7402caed6c6b3948e"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1114"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#efdc4fb2243657f7402caed6c6b3948e"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6b102f25fedc0597db303a2f1d430405"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hdecls':1113"><span class="id" title="variable">Hdecls'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6b102f25fedc0597db303a2f1d430405"><span class="id" title="variable">Σ</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6b102f25fedc0597db303a2f1d430405"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="X':1116" class="idref" href="#X':1116"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1114"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1116"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#g:1112"><span class="id" title="variable">g</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ef578fee152fb9b1fce03787165cdd23" class="idref" href="#ef578fee152fb9b1fce03787165cdd23"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef578fee152fb9b1fce03787165cdd23"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef578fee152fb9b1fce03787165cdd23"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1116"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef578fee152fb9b1fce03787165cdd23"><span class="id" title="variable">Σ0</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="X:1119" class="idref" href="#X:1119"><span class="id" title="binder">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1119"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6b102f25fedc0597db303a2f1d430405"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="X:1120" class="idref" href="#X:1120"><span class="id" title="binder">X</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env"><span class="id" title="definition">check_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6b102f25fedc0597db303a2f1d430405"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="X':1121" class="idref" href="#X':1121"><span class="id" title="binder">X'</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#make_abstract_env_ext"><span class="id" title="definition">make_abstract_env_ext</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1120"><span class="id" title="variable">X</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.Common.Kernames.html#MPfile"><span class="id" title="constructor">MPfile</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> "toplevel term"<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6b102f25fedc0597db303a2f1d430405"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1121"><span class="id" title="variable">X'</span></a>) <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? ?], <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_type_wf_env_bool" class="idref" href="#check_type_wf_env_bool"><span class="id" title="definition">check_type_wf_env_bool</span></a> <a id="X_ext:1122" class="idref" href="#X_ext:1122"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:1124" class="idref" href="#normalization_in:1124"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="755df395a0bb889b789842a413e9016f" class="idref" href="#755df395a0bb889b789842a413e9016f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#755df395a0bb889b789842a413e9016f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#755df395a0bb889b789842a413e9016f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1122"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#755df395a0bb889b789842a413e9016f"><span class="id" title="variable">Σ</span></a>} <a id="003206dbe648fc10f6c98b14294812ae" class="idref" href="#003206dbe648fc10f6c98b14294812ae"><span class="id" title="binder">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ef60e554de7718b143c5b1c4ac038046" class="idref" href="#ef60e554de7718b143c5b1c4ac038046"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="f6a0fc1a2575328853702c02f443ccf9" class="idref" href="#f6a0fc1a2575328853702c02f443ccf9"><span class="id" title="binder">Σ</span></a>,  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1122"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f6a0fc1a2575328853702c02f443ccf9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#f6a0fc1a2575328853702c02f443ccf9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#003206dbe648fc10f6c98b14294812ae"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="t:1128" class="idref" href="#t:1128"><span class="id" title="binder">t</span></a> <a id="T:1129" class="idref" href="#T:1129"><span class="id" title="binder">T</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env"><span class="id" title="definition">check_type_wf_env</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1122"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#003206dbe648fc10f6c98b14294812ae"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#ef60e554de7718b143c5b1c4ac038046"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1128"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1129"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#Checked"><span class="id" title="constructor">Checked</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#TypeError"><span class="id" title="constructor">TypeError</span></a> <span class="id" title="var">e</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_wf_env_bool_spec" class="idref" href="#check_wf_env_bool_spec"><span class="id" title="definition">check_wf_env_bool_spec</span></a> <a id="X_ext:1130" class="idref" href="#X_ext:1130"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:1132" class="idref" href="#normalization_in:1132"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="713a263b7f86912ef2112363f3943072" class="idref" href="#713a263b7f86912ef2112363f3943072"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#713a263b7f86912ef2112363f3943072"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#713a263b7f86912ef2112363f3943072"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1130"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#713a263b7f86912ef2112363f3943072"><span class="id" title="variable">Σ</span></a>} <a id="30a5067cdec9fb8208bff3c6bdc18b9d" class="idref" href="#30a5067cdec9fb8208bff3c6bdc18b9d"><span class="id" title="binder">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="bee66f8e602684eb019275c877a4fc6e" class="idref" href="#bee66f8e602684eb019275c877a4fc6e"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="cc72b519d2fc9a25da40cd9769dff68f" class="idref" href="#cc72b519d2fc9a25da40cd9769dff68f"><span class="id" title="binder">Σ</span></a>,  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1130"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cc72b519d2fc9a25da40cd9769dff68f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cc72b519d2fc9a25da40cd9769dff68f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#30a5067cdec9fb8208bff3c6bdc18b9d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="t:1136" class="idref" href="#t:1136"><span class="id" title="binder">t</span></a> <a id="T:1137" class="idref" href="#T:1137"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env_bool"><span class="id" title="definition">check_type_wf_env_bool</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1130"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#30a5067cdec9fb8208bff3c6bdc18b9d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#bee66f8e602684eb019275c877a4fc6e"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1136"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1137"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a64278a9bc93902c899a2260e577e698" class="idref" href="#a64278a9bc93902c899a2260e577e698"><span class="id" title="binder">Σ</span></a>,  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1130"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a64278a9bc93902c899a2260e577e698"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a64278a9bc93902c899a2260e577e698"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#30a5067cdec9fb8208bff3c6bdc18b9d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1136"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1137"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env_bool"><span class="id" title="definition">check_type_wf_env_bool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env"><span class="id" title="definition">check_type_wf_env</span></a> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="check_wf_env_bool_spec2" class="idref" href="#check_wf_env_bool_spec2"><span class="id" title="definition">check_wf_env_bool_spec2</span></a> <a id="X_ext:1139" class="idref" href="#X_ext:1139"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:1141" class="idref" href="#normalization_in:1141"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="6a49b45441d14ea6087ba2180ec53321" class="idref" href="#6a49b45441d14ea6087ba2180ec53321"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6a49b45441d14ea6087ba2180ec53321"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6a49b45441d14ea6087ba2180ec53321"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1139"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6a49b45441d14ea6087ba2180ec53321"><span class="id" title="variable">Σ</span></a>} <a id="795bc07a77b1025814244097b61521c6" class="idref" href="#795bc07a77b1025814244097b61521c6"><span class="id" title="binder">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="8a9e46ff35c0f2894f8a76078e744e5c" class="idref" href="#8a9e46ff35c0f2894f8a76078e744e5c"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="2ba4e57b916542f61ea18c4f7c797e86" class="idref" href="#2ba4e57b916542f61ea18c4f7c797e86"><span class="id" title="binder">Σ</span></a>,  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1139"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2ba4e57b916542f61ea18c4f7c797e86"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#2ba4e57b916542f61ea18c4f7c797e86"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#795bc07a77b1025814244097b61521c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="t:1145" class="idref" href="#t:1145"><span class="id" title="binder">t</span></a> <a id="T:1146" class="idref" href="#T:1146"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env_bool"><span class="id" title="definition">check_type_wf_env_bool</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1139"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#795bc07a77b1025814244097b61521c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#8a9e46ff35c0f2894f8a76078e744e5c"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1145"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1146"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#type_error"><span class="id" title="inductive">type_error</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env_bool"><span class="id" title="definition">check_type_wf_env_bool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env"><span class="id" title="definition">check_type_wf_env</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="check_type_wf_env_fast" class="idref" href="#check_type_wf_env_fast"><span class="id" title="definition">check_type_wf_env_fast</span></a> <a id="X_ext:1147" class="idref" href="#X_ext:1147"><span class="id" title="binder">X_ext</span></a> {<a id="normalization_in:1149" class="idref" href="#normalization_in:1149"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="22056e264fb4683e91d81c921358adc7" class="idref" href="#22056e264fb4683e91d81c921358adc7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#22056e264fb4683e91d81c921358adc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#22056e264fb4683e91d81c921358adc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1147"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#22056e264fb4683e91d81c921358adc7"><span class="id" title="variable">Σ</span></a>} <a id="dd776e8954b535e2fd3f28b4827319b1" class="idref" href="#dd776e8954b535e2fd3f28b4827319b1"><span class="id" title="binder">Γ</span></a><br/>
&nbsp;&nbsp;(<a id="cbfe1b2615f371b2e07fece795afac76" class="idref" href="#cbfe1b2615f371b2e07fece795afac76"><span class="id" title="binder">wfΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="6abc6313403845516caffd97d57eb4db" class="idref" href="#6abc6313403845516caffd97d57eb4db"><span class="id" title="binder">Σ</span></a>,  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1147"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6abc6313403845516caffd97d57eb4db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#6abc6313403845516caffd97d57eb4db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd776e8954b535e2fd3f28b4827319b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="t:1153" class="idref" href="#t:1153"><span class="id" title="binder">t</span></a> {<a id="T:1154" class="idref" href="#T:1154"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="keyword">∀</span> <a id="28c1e4df2c65d94ec6347a4b38c50996" class="idref" href="#28c1e4df2c65d94ec6347a4b38c50996"><span class="id" title="binder">Σ</span></a>,  <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1147"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#28c1e4df2c65d94ec6347a4b38c50996"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#28c1e4df2c65d94ec6347a4b38c50996"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd776e8954b535e2fd3f28b4827319b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1153"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1154"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env_bool"><span class="id" title="definition">check_type_wf_env_bool</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1147"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd776e8954b535e2fd3f28b4827319b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbfe1b2615f371b2e07fece795afac76"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1153"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1154"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">as</span></a> <a id="x:1156" class="idref" href="#x:1156"><span class="id" title="binder"><span id="x:1157" class="id">x</span></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">return</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_type_wf_env_bool"><span class="id" title="definition">check_type_wf_env_bool</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1147"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd776e8954b535e2fd3f28b4827319b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbfe1b2615f371b2e07fece795afac76"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1153"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1154"><span class="id" title="variable">T</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:1156"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="eq:1158" class="idref" href="#eq:1158"><span class="id" title="binder">eq</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="keyword">fun</span> <a id="eq:1159" class="idref" href="#eq:1159"><span class="id" title="binder">eq</span></a> ⇒ <a class="idref" href="MetaRocq.Utils.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_bool_spec2"><span class="id" title="definition">check_wf_env_bool_spec2</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_ext:1147"><span class="id" title="variable">X_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#dd776e8954b535e2fd3f28b4827319b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#cbfe1b2615f371b2e07fece795afac76"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#t:1153"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#T:1154"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#eq:1159"><span class="id" title="variable">eq</span></a>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'as'_x_'return'_x_'then'_x_'else'_x"><span class="id" title="notation">eq_refl</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_bool_spec"><span class="id" title="definition">check_wf_env_bool_spec</span></a> <span class="id" title="var">X_ext</span> <span class="id" title="var">Γ</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">t0</span> <span class="id" title="var">T</span> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="var">Program.Tactics.program_simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvCheck_X_env_ext_type" class="idref" href="#EnvCheck_X_env_ext_type"><span class="id" title="definition">EnvCheck_X_env_ext_type</span></a> {<a id="cf:1160" class="idref" href="#cf:1160"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} := <a class="idref" href="MetaRocq.SafeChecker.PCUICErrors.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Monad_EnvCheck_X_env_ext_type" class="idref" href="#Monad_EnvCheck_X_env_ext_type"><span class="id" title="instance">Monad_EnvCheck_X_env_ext_type</span></a> {<a id="cf:1161" class="idref" href="#cf:1161"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaRocq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} : <a class="idref" href="MetaRocq.Utils.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#EnvCheck_X_env_ext_type"><span class="id" title="definition">EnvCheck_X_env_ext_type</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="typecheck_program" class="idref" href="#typecheck_program"><span class="id" title="definition">typecheck_program</span></a> (<a id="p:1162" class="idref" href="#p:1162"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.program"><span class="id" title="definition">program</span></a>) <a id="31ad2ab098e512337defc67a540365b4" class="idref" href="#31ad2ab098e512337defc67a540365b4"><span class="id" title="binder">φ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="normalization_in:1170" class="idref" href="#normalization_in:1170"><span class="id" title="binder">normalization_in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="g:1164" class="idref" href="#g:1164"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_decl"><span class="id" title="inductive">global_decl</span></a>) (<a id="Hdecls':1165" class="idref" href="#Hdecls':1165"><span class="id" title="binder">Hdecls'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="X:1166" class="idref" href="#X:1166"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="0ba1ba06dbfbb8e4a7b17772b3869d6e" class="idref" href="#0ba1ba06dbfbb8e4a7b17772b3869d6e"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0ba1ba06dbfbb8e4a7b17772b3869d6e"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1166"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#0ba1ba06dbfbb8e4a7b17772b3869d6e"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Lists.ListDef.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#Hdecls':1165"><span class="id" title="variable">Hdecls'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="X':1168" class="idref" href="#X':1168"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_env_ext_prop"><span class="id" title="definition">check_wf_env_ext_prop</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1166"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1168"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#g:1164"><span class="id" title="variable">g</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a5ca4fca2602bbc6fc6dc8bf07965041" class="idref" href="#a5ca4fca2602bbc6fc6dc8bf07965041"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a5ca4fca2602bbc6fc6dc8bf07965041"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a5ca4fca2602bbc6fc6dc8bf07965041"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X':1168"><span class="id" title="variable">X'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#a5ca4fca2602bbc6fc6dc8bf07965041"><span class="id" title="variable">Σ0</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="normalization_in':1173" class="idref" href="#normalization_in':1173"><span class="id" title="binder">normalization_in'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="x:1171" class="idref" href="#x:1171"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#31ad2ab098e512337defc67a540365b4"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:1171"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="35780297db249dbc38b3dcfd45c0930b" class="idref" href="#35780297db249dbc38b3dcfd45c0930b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaRocq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#35780297db249dbc38b3dcfd45c0930b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#35780297db249dbc38b3dcfd45c0930b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#x:1171"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaRocq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#35780297db249dbc38b3dcfd45c0930b"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#EnvCheck_X_env_ext_type"><span class="id" title="definition">EnvCheck_X_env_ext_type</span></a> (<a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="A:1174" class="idref" href="#A:1174"><span class="id" title="binder">A</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="X:1175" class="idref" href="#X:1175"><span class="id" title="binder">X</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X_env_ext_type"><span class="id" title="definition">X_env_ext_type</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#X:1175"><span class="id" title="variable">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#31ad2ab098e512337defc67a540365b4"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#31ad2ab098e512337defc67a540365b4"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.MRProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#31ad2ab098e512337defc67a540365b4"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">;;;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib/Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.PCUIC.Bidirectional.BDTyping.html#7d12f9d53f0b9126052444bb63d23b40"><span class="id" title="notation">▹</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#A:1174"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaRocq.Utils.MRSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">'(</span></a><a id="pat:1178" class="idref" href="#pat:1178"><span class="id" title="binder">exist</span></a> <a id="xx:1177" class="idref" href="#xx:1177"><span class="id" title="binder"><span id="pat:1178" class="id">xx</span></span></a> <a id="pf:1176" class="idref" href="#pf:1176"><span class="id" title="binder"><span id="pat:1178" class="id">pf</span></span></a><a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">&lt;-</span></a> @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#check_wf_ext"><span class="id" title="definition">check_wf_ext</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#31ad2ab098e512337defc67a540365b4"><span class="id" title="variable">φ</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.Utils.monad_utils.html#7aaec2e17c424ff4abb3a37b5fc343be"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="inft:1179" class="idref" href="#inft:1179"><span class="id" title="binder">inft</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">&lt;-</span></a> @<a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#infer_term"><span class="id" title="definition">infer_term</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#xx:1177"><span class="id" title="variable">xx</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#p:1162"><span class="id" title="variable">p</span></a><a class="idref" href="MetaRocq.Utils.MRProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaRocq.Utils.monad_utils.html#8af26cd2ebe96eaae34c9438ab910a63"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaRocq.Utils.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#inft:1179"><span class="id" title="variable">inft</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib/Corelib.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#xx:1177"><span class="id" title="variable">xx</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaRocq.Utils.MRPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">))</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">pf</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaRocq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">pf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaRocq.SafeChecker.PCUICSafeChecker.html#CheckEnv"><span class="id" title="section">CheckEnv</span></a>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
